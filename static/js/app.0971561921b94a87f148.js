webpackJsonp([1],{"+T25":function(e,t){e.exports="data:image/png;base64,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"},"+g4a":function(e,t){e.exports="data:image/png;base64,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"},"09iF":function(e,t){e.exports="data:image/png;base64,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"},"0jOB":function(e,t){},"3Cq4":function(e,t){},"3cGE":function(e,t){e.exports="data:image/png;base64,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"},"4APf":function(e,t){e.exports="data:image/png;base64,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"},"4jdr":function(e,t){e.exports="data:image/png;base64,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"},"5VM+":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2N2YzZjc0OC1jODExLTQwNGYtOWExNy00NDgzOWVlMjU1MTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NThBQTA4RENFNEZGMTFFNUFCNEVDRTJGQUMyNEU0QzAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NThBQTA4REJFNEZGMTFFNUFCNEVDRTJGQUMyNEU0QzAiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjdmM2Y3NDgtYzgxMS00MDRmLTlhMTctNDQ4MzllZTI1NTEzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjY3ZjNmNzQ4LWM4MTEtNDA0Zi05YTE3LTQ0ODM5ZWUyNTUxMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuP94eUAAATFSURBVHja7FddaB1FFP5mdmf33rvJzb03SZM2bZJabaCCihBtQNC24kufxIdW0Qf1UVFB0PZFfaiIVhAKoi+K9cknUwipBW2gYFtqEVSIlhTaNOamJT9Ncn93d3ZmPJMNlYC1WpA+mL2cO7N3Z873nXO+OctlxhjcyYvjDl/rBNYJrBNwb3ejmpxkZmmpE5x7dCuh9YKz496EeeI/IiAlkvHxu+JTp3bpufkn9PT03bpa7WCu61EzS+j5grNt2xQc5zt/z55vvV2P/QZxazLslp1QJojHxgbCkZHX9ezsU7xYLMFxwVyRVpC2G2bAGIOREaUmAWWmwbq6jmf27j3s7d79A4R7ewTUlSus+cXR15Kffn7L2dJTgONDV+v0IALPJmA+OXAMjCYSMYNuODQRYC05ME1VmZ+PWbH4UfbFF94Rg4PhvyIgz58X9UPvfs47O59l7e3Qc0vgXhOiX0P0GPAWito3aRHVKgHillzjiC/RvOqDl/IwtaolciI4eHCfeGiw8o8I6HJZVF56+Uve17ufOR709Xn42xX8HRosR2gJ7VF6Jf0rxlbNoS+HUymIxARH9AuVKJsHBLc+TwYH3nySMlH9WwImitB4/4P3VLl8gAWtMMtzyA0puL0ELAlU0ZihhTkyQYAumTL2HAANGm2iGQF7HOqag8ZpIsTaaJ2Bni5/1XrkyDNO7xZz0z7Q/OTTPXJ8/A1WKEIvziP3iAVPyDGZS+AbCXAzbesga6N5QJvyNLav/r6JRo+INhM4XQq5Ry1pyjwj4ebz+6Ph4edv2ojU1JSQZ84ccvv7uZ5dQPb+BO5mAm2SBUS6h5a3Mps3pMozkIqtjCv3th7BKpEC3UZEokMhO6gpk8vg7R2Q5869TTilv+wD0dfDjyOb3WkoWrcUwttOTkMCz5Ljjc4N4EoicLqRx8U4g7rmyHKDPhFhKFdBt4hpHZHYwFOd1BREH4M3zRBfDUm4fm80fOzp3KuvfLwmA6Zeh7p06TluFU/K9QcIzNEpqHXGUsVNhDkcnu/BsUoJF+IsprXAROzjRK2AD+d68GOjdVWZdHVajZAPreEN2FI0wNoKkGfP7iMsvoaAunixoGZmhuB64JmI6qdT0bUgFR05LUsfny12YUG5yHkSnuJwllogJN0LSfrjOLq4Ab+GQUrCIwJtfMWPUyIrKBh7ZLV+0DQa29ZqwPP6eRBsQiRpIR23rD2PJq35akyjlSKWKGLPTZBMdiM8/jDCb3YiHN0JeaEXrqNA7QkjtC7WaZdc0YTNHpVJbKCxSTRbWoP45Ng9awjomas9yGQ8ExOBot1J0dtu66UOFpSHCZmFa8GvtyE89QCSOTopkYBazCP8/j7IcgcckWBSZvB74qfA9lXlpyHwgo2eUkAvLD0zM7BGhNHoaN5ISW1L1aHDwCxTvrlmaDLBYo1abODGTZSIQHO2CMVqYK3qRiMy0oE/46Olu0YnVqBSIzHKBvUAirFmX1ZcI5HShLzCjBNQGbw1jUhdvhwgijeTguvMVwFztU+OGdXftzmQ9KDKHdcmNo49FieCM/zZxKgxUwkSk/EjWziWMyrxjdHG+gjpQyfRKCZ16FZoFjDfm3W2bl1i6/8L1gmsE/jfE/hDgAEAtfdGfXxzUHwAAAAASUVORK5CYII="},"7yD/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAHDElEQVR42u2Xa1DVxxmHDxGNSgGjJljstE5Nasx0jM1oJjNakyZVNJlk1NDpqEmm1ks0glwPNwG5KLFVE6uB2kSwSjIy8VJGBXUQVKyXKOfCAS/I9QAH8CB3QTgc/k/fHZwwzhTU+KH9kA+/2eW/7/722Xf37C464H+qHwEe+KMo/rkh5KWzxI5xMYW5zjUE6DYagl32mKPcc8xRHjmqrr6ZwobPVTESO5TXYwIkTJCBnxllCNJFmiLcSm+lzKL22Fpu58fRYtop+hu3z8VSe3QNqs0U8ZNSFav6SN8nBBADY+hTC4ojR5bdy/sYnDlAMWAGxznoOiHKlvoZwACYpJ5FZ+4qLNLHGDpsgXj8QIAEL11BgC7EunMKzoo0sg6nELt+GWlbPqS15FNo2o5mS0Kr3Qztn9F6M5HUpCVs1n9IXlYKfRVfUr59MgWBupBi8XosgGI18xBdUFXydOpuHGTpez74vDiO6OXT8Z3pxdp3XsBh2wB2UcdGSs+tZt7UsSyZ7U3Y0pf4/ZQxLPd9m6ayDCq/mI7yEs9HBJBA2UyzLXEToPcSecd34Lfw1/Te2QV8A62bsZ5fjrPMD6oD4HYI1nMfcf7rxdCZBKTSXraJHfo3aaiQ+OZsCuO8UZ7i/XAAy8axrsYQl+o7l7cBJmhJF5Moer/7Da0nJqEVzkXNmpogqFwH5Z+AXS+wm+gzv0XbyUn0XZ4GPSo7qeDI486lzZIF12rlPTSArJXs4DVlaW+D0yIGR3AUf0BTphdtVyNoL/wr9uMzact9EeojwboeJVVX3+xZMyVmK20FUdgPPUt34R+gbZ/A5FOeOh9DsG6NjDE4QOEGt4nG0BGWZlMycBlnVRy3Dz0DTecBAOhz3MV+dBrdV16H+giU7n03R769DGjfx3XXnsZ+eCzOynBwnqTFsBWjfqRFsjA4gCnU5eMb26fhaMqBzkw68mfDdX9AGFo7vjfvuLGPluyJUBcm0tN8zAvacwAegGjKX0bnxVnQsZ9e+2Gui7c5YtTUwQHCRuytyvij4F8Uw69xFM2h4MASFvn4MmWcO8ErltHVA867FppPToFqgbMF4Lj6OsdSI/F5bRa/nTqZw9/sA+BuYQJteb+C1r9DVxZVB95Xy7BycICIUXm27PWgXYGGZKhfSsJiHToJmyGZc5FyV3KmAJ6i7dTPpT0cmqLQin2YN0mHq7Q/P0zHT6U0FVbB9T9x78yrYNsKjhPYjq1Ajuz4IQBG59qy/aDnLNzYBHXp1MumWzpDx0RXDxTImkVzwPAGzmuLpD38/jJ8RG6SJ6+MH433U24S58JXUTPE4x24uQvMEtd2iLrslRiCXLYMDhDpdrbuhD905KIVxErnDDEJpfHIZFLWeBDn+zQXtnuiXZsHDRugyl/kJwARYPXFkPIzkpa4sWOlO9Z9nmAMFo/9aJeCwP4tdcf/TEGQbiiA0Vm1x1YjC0efIRHtjNTzA8HgL0YLoV7UsApqwqBqvQJQUvV+CPtqKd+D8sVwdR2cFZ1ZISsaDQ3fYvvXB6iLanAAvWtSWdo8+ppOyiy3Cbke/i0mF/3AIvWaSKgLUYP+d9lC1JkgsAJ42Q/Or4ULgWBKANsByva8qU7EBYMDyF1viffu7rRmwO10NLOQFygDgbglst4fSJU1AQOqHsgGqq1cAUt8gT+aMRRqk+kq201hvHdXYbSH+6AAltixIyRFB+tz9MAl+qxb0MojoTJ4YPByMbaHQHsEtIRBa7iUIgVR6TcAURUgsXq0yo3gyKb+1Dq1/geK4p8d6iieoDNHjHy5aNMkuhvVXX8IzZaAVqM2WWC/cYuesoPvcmjFL8kOfInMtS+QF/MKvaWfQF3QwJ6oDkWrjYa7/8RRn0FR4i8Q7+nyWnrYbficzhCoS65IXwx9BdC8B606XqQgguCOnprs98lPnMGVz2dz8S+vYd79O/pUZmoD+2dulcGtG6BxJzhOU7H/XZSn3AOP8h7wUjeiizwkrtmy/PsPpeZUyYKCiIKKYIEIh55Y6NoA3WqWUVCtBhdAazh91THQlAy9udiOrlK//WtF4ineDwMYeIoVRruPF+oS9daj5wJ0Z6LVbxOQOAGJvp+RMCWphys4UQxa3acCliE6RU3mcjV4iSXaY7x4Pu6TTB6jMR7jJBOnS798i45baQKShwKh+R9g/xwatvbL/hk0pUjbQbiXTcfNLyjd/QaqryXGc5x4/dBHqaQsbrzOGKwLNUeNaaxMX0hzwRa6q9Nx3jmI1nYErfUwzsYMuq17abm6iUpZb3OkZ6Mx2CVU+iqPJ3mWD4DITMbIT9TfFDbqdNHmSZ0lu16lfO88kQ8lu2aivhmlTcWo2AcGfmKAAam94W3UD5tvDB3uZwp7OlHJqB/uZ9S7zldtj+Dx4/+G/18A/wEv6Pihxswn9wAAAABJRU5ErkJggg=="},"8YGH":function(e,t){},"8djW":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAE5klEQVR4Xu2XW2iUZxrHf+93nFOSSWIqkag1Wquxa41WodTu4qFdaG8su14sodJKz/SiIrgsa+1hl2LphbR0sbB4I4sL61Kl2F64rNaiDaYtkQpRYpJpmoM6M5nJTGbmO39vKTMwUGzHXS+8yQPfzcvzPf/f8zzvxf8VUkruZijc5ZgHmAfQ+Emc7xX1AwGhj+GX2RZ4LJMQCIE0mzmvGgzJUOwViD9JwveEwruexROuxXIUAk0npZn8V1FxkXWBzYPyFwHq2go4s/xehny0oKe7Pd55PyiC0LHIX/sauzj3jG4oKzWht7vS7rGL7E7cs/DI0o0PEHo+pex3zEyOz+Dykhnl37Ku2xhACLDz/CXekdy/+g97aVm3HcwYAASSKx+8wNxXA0lVDx70CIadMl8YMf3w2idfIdrVC8UcVOYoTlxqHxo4frxcKP41EuP1W0EotxJ35tgRa03sX7/v77Rsexo8BzJTkEsTTgwzNz1c1Ew+RXDatfmbgD2/+u2LRrR9JYwPQWYS5mZpXriODQ8/T7wpvt9x2CFoDIBvs0p6HFixcw/GivWQugyFPJRL4AXMjV6mMjM7oRiMhD4HfIdnV/1655rk0k1wfQwsq/qVSnAjha4mWd69FQkH/IBVjQEsHmvp7uxd8OBvYCoFFRtsGxwHPCiOf4trcVJUL+iZ+zZtWbeo53G4OQGVSjXPdmr/2JC7Tke0i2RLe68f8GTjFWhsTS59AKGYUMjVC3rBj8XIjV9B0TgdhnSZUWXLopXbq5ClQi3XpiZeAymDI0maHQiVRxsDKCSMWBJ8We3IqhW0KuB4GGYcP2CnqjFp2eFHIxeOQD4DgQK2VQewagAVCywXXeoIQbwhAIC0KlAug+PWC5ZLYFms2vA72js7XrUrvGYYvDzx/djxq4P/qnbvBPXxWw5YVvXc90AGIKAhgJQMFa+PQj4Lnk99ny4UZhAywtqH+mhujh7yfTbqBvvSM6OExSy4XrVzq7YCzwMJEFD0C8iQodu5Aydz41fTxWuDoMTAqo61DpHGVFuIxDoIAxZ5kueWtK9GCaNQKlbzXRfCEJCgN1EK8+QqU2kBJxsC6BHO+gHvXLvwD2R6ApRoravaJAKVzHf9ZLLf/xOVYns88eclTT1VcceuCgsBAGoC1IDh3EVcn4O6ytmGAEiIxHl/Jps+dunMh8jZDIgo2FYNxMWp5LEDyj5sbDM7UQIDvAoIpSouQ9CawIBL6f+QKeWORTQO3bYfkBJiCfoymZvHvvnyMG4mBSTA8aCYoSt+P91ti5+zA/5YcfMufhkUDZAgAbMNTynx1fXPSM9lj8V1+v4vPxCL05cvFt7oHzxKdqofQgNsHxyX1a2PsDje0jZdyRp+aAEChAnRNplzRuifOsVsufBWTKfvjvxALMrbgQy3DKbOzQxPnCIMXUAHKVnTtpn7mruRYQh6M9JQGcmfE99MX8j6XrAtpvPmHRsSKcHU+NzUuTeVn/h44MYpCv4k6CaG2syy1kfR450UvBQXpz9hNDv2samyzNQ4I2kcdVteNyQ/nwzYPk9JwdFlrd2J5clNgGC0MEAqN1oSIbsiOiduKdzYkDQOCUQ0TgSSztGZsaMFJ/8UQLaUPxHR2KWqlOQdWLLbhlAEpajG7tlKfhggqnFQiP9dHGD+ZTQPMA/wA/nZhFY4Bln6AAAAAElFTkSuQmCC"},AMp6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAExUlEQVR42u1XbUxbZRgtn3UwGDANM5IRR4wLIZOYuJmMLcY4CTL9Mc1+aOLmB2NUkY0NZc5MXdQ4EGgLtBQJAxSmgiKM/RlZFjOHXyQ6PgdsEMXpxr0tnyvtgB7P21tCI8PQgtEf/Hhy3957c895znme532rAvCfxgqB/x8Bc0n4P0SESjaExElanwy5eHWu2bQ2Rtz3ILwlEMEI85W0vulSvqrdUh6F4YpomA2hb//rBJilSi5alTSUp+oZqYqB7WIqHP1FGP08HrLO/5Dbu4HLT4Dgki4gk5nDem43cK0KGG+Go+tdyMXBNtoQ7lTHGHa/pA8cMBvXPG42RSwTARP91gekyIWrcKv1MGBuAAaNjFzYziVD0vpdILCKNiSbS++UJhq3w1J+z03WyAuz3+DzeK8JyIbVcfQb9u80wMgZ4OoJoOsg0H8U1jPbMJTvY3K+awhJs3wcCWvzTtbFelCVPN73YzxLBUGF8rkO8owAZaXnLROndzDzRoLmAJ0ZQPsrQF82rKe3koDvyVmlmOkuWgBakOWyIIprjFRtgKUsElw/6hEBFt1WuSQMjr584I9ykbkCfmk/cPkgbGd3QNKpWwjsJm/YFnep3RTI4VrtCQG/oY9UJyeamL1UB/QeAzoEeBrwyz4q8RqmL+6m1CGTsiE0+DZzIpN1keQqzgc8rgG5OChW0vn33vqRkt/4lNlniuwFOCMFaEtz/h6h35IuME0AzRXdmmRewZhixHrVBQTfyRft053vA4NFivcEJbiLBKPnMG14TBTidWbp6wJPlPRq2Fueh/XsE+wSf0Ek2nMCBT4plrK74bhK8IEcyv8q5f8bgXYNiaVjpDJakKhWCi8shB1RMlYbj9GajaIb3iRgsBcEVC9ZytaRQCEJnBD+zyfwM9fdBzDTuheWkggMFfjpaYVzcFGFJrkoSCvW3lqQRFknpzuOA7/pSCCdFuyfI+BOoucQZn7a42w1tu15Zv3Q0kdxcfB9UoFvh/17Sn+j0lUDGgV0XpDE5Uw4LqVi4ssHwa4Q86FR0gZkcIImM7ZzYj4l6QM+oEKv06rIRc0BZqMfb3iEBGqYZbarC1JnVZivBOtBEJn+4TlYmxIwdmojhivXczJGYfRULMbqtkB0B1t076IIcKOJY2Cm+0PgmlEpxLa5VrytElSBM8JpC7oylNrpzgLMdbBdeJF14tNOAjGLIkCphAqN4/UJgFQLXHmHH9QoVihKLBD7lGlJIkIRDNHCAQPMprsgFaoTaYMHm5ExdB1J2G3f7AEs9UDfW4oVDGUupLqrIIAZGvFcIfB7MS38DKPVsaJAv2ZSXmzHhXckSzo/2L59GZC+YFfkUd4Dirzt7uECFlb1HgGuV9C6Snq/GRzrPZwRaq8PJCSxS8pTTU00JcIxUERZPwEGCxRberPp+Ru8HgX63wP+NPF5DabajrEINwjwFoKvpfRLOZJFiD0/nh87bymNxM3mZzDdeZzeFlIRI6UuAX41wHFFC3trFsbqt4mjGjjQcgUwY7kOpawLvfpp+tnAgTM5XHEvRms3Y+yrBLbaJojxzSE2KFqY1b5pgaPZ0o/lnJLhPCc+yQyPcMiUErSaZ0Yd95BUniMedpFdKFb+Ga0QmBd/AXDbhzrY0jehAAAAAElFTkSuQmCC"},AuOP:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAABZVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICAgQEBAcHBweHh4pKSksLCwuLi4vLy8zMzM6Ojo8PDxKSkpUVFRXV1daWlpgYGBhYWFsbGxubm5vb290dHR1dXV4eHh5eXl6enp7e3t8fHx/f3+IiIiKioqKioqNjY2Ojo6QkJCRkZGSkpKTk5OUlJSZmZmampqbm5ucnJydnZ2lpaWmpqapqamqqqqtra2urq6ysrK0tLS1tbW6urq9vb2/v7/CwsLExMTLy8vLy8vS0tLW1tbW1tbY2NjY2Nja2trc3Nzi4uLm5ubm5ubn5+fu7u7w8PD09PT5+fn5+fn6+vr8/Pz8/Pz9/f3+/v7+/v7///////9LPp8TAAAAdnRSTlMAAQQFCgsPEBQgIycqNTc5OkhKS09ZXmNpamtvcHJzd3h5fYCBg4eHiouMjI2QkJWYmZudnaGio6WlpqenqKiqra6vsLCxsrKzs7a2t7e4vL2+v8HBxMTFycrMzs7T1Njb3Nzd39/l5+jo7/D0+Pn5+/z9/f7+AYwGawAAAwFJREFUWMPFmetbElEQxkdXREBA7hdRLoNmZN5KM/PS1UwtJRTFUjNLTQVFYf7+PnhhN2XOWTg+vV939vdwOLPvzJkDwMtid3mDkVg8lYrHIkGvy26BxqU5PGG8o7DHoTVCa7H5k1hHSb+txSSu1dmNrLqdrWbW6u5FoXrd0it3xFBKMYcUzhpAaQWsYl5nAk0o0SnaDC+alJfdnLYQmlaorT6vPYoNKNpej9fRgw2pp6PO72uQh9hz729si2LDit7zP7aGsAmF7u61F5uS904+Y5P6J8OtiWaBCeNXGMCmFTD4CyqQzns0gV9l1g6LxcO1jMDNav7YxUe+LxEREZXe8XHu2xTk/XmJbrXEe/hNMjrZsNHLGvBilA11Xtc3vh7tkU57fOW6qoU2NmigogdWBthgGwAA+NmYKTJoig32AwBoSTZmwQj8yAYnNXFSLxqBi+Lk9qgEegAgrBIYBrCgSiBawK4WaAeXWqALfGqBPgiqBQYhohYYAdZbH+8fnBiBJwf7T1mXhTj3+DXdoyz3RhxS3OMPlP9upH3L0zr3RkoEnPlkBC7MiICCJb+ZNgKn39JXfsnspryilSdVPa+aWeE3OsanzRjt4W898Bf+pJd82rCJ/YjKmee6GlB5linTAJ/YPkGFKuBqDbiKBfoh6MJ4cxirVifxS/kKV/6Mk9XqmMAcBPa1TsUJHNo8rlSON4fwRZFPGkS7yGDTu3SR70dMpxH78xe0mxYZrKgEpLeISjvLc3PLOyWirbSwBIiKFOL40c2eHI6LYj1yveFIdvvsbDs7ItcjCgr9tf4cyUQlNXErYgrol2iWTAFtMu2cCeB1OydoOBGH53O509Ncbn5YEOiUaon7CrVvudAn1RKDmwvb0NvXhlTTzh4rBi/1wMtBqWMFl9yzxhIwK3Xw4Y5mE+d63vmE3NFM/eFR+fFW/QFc/YhA+RBD/ZhF/SBI/ahK/TBN/bhP/UDyAUam6oe6AKB1yYydu7T/Nxh/gNH9A1wu1K4/fLXrD5/4+uMvDEtYzCWIYWAAAAAASUVORK5CYII="},Bzlm:function(e,t){e.exports={p:"_2i7n6DDwU9oe5gK5fyCoMx_0"}},DM8S:function(e,t){e.exports="data:image/png;base64,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"},EVUP:function(e,t){},Ei0D:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAABiVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIEBAQGBgYICAgKCgoMDAwODg4RERETExMVFRUXFxcZGRkbGxscHBweHh4gICAiIiIlJSUnJycpKSkqKiouLi4vLy8zMzM0NDQ3Nzc5OTk8PDw+Pj5ERERHR0dISEhKSkpOTk5PT09RUVFSUlJVVVVXV1dYWFhcXFxfX19gYGBhYWFlZWVnZ2doaGhsbGxtbW1ubm5vb29zc3N0dHR2dnZ4eHh5eXl8fHx/f39/f3+BgYGCgoKDg4OEhISFhYWGhoaIiIiIiIiKioqKioqMjIyNjY2Ojo6QkJCRkZGSkpKUlJSWlpaXl5eZmZmampqcnJydnZ2enp6goKCgoKCioqKioqKkpKSlpaWmpqanp6eoqKipqamqqqqrq6v2DIqHAAAAg3RSTlMAAQQFCgsPEBQgIycqNTc5OkhKS09ZXmNpamtvcHJzd3h5fYCAgIGBgoKDhISFhYaGh4eIiImKiouMjI2Oj4+QkZOUlJWWl5eYmZmam5ydnZ+foKGioqOkpaamp6ipqqqrq6ysra2urq+vsLCxsrKztLW2tre4uLm6uru7vL29vr6/v2qNU+MAAAL9SURBVFjDxZlrWxJBFICPrqiAgCx3WAE5AqmZpZVldr9oWWllapZWWJlmmWkX0zLPL+9DlsLObZfx6f06z7zs7hzmnDkDIMbjC5rxlJUrFHJWKm4GfR5wj+EPJ9FGMuw33NgavNFO5NAZ9TY41DUGMigkE2h08q6hLErJhpTf3G+hEpZfSdcSQ2ViLXJfWx4dkG+TLYaJDjGFi9OUQMckmvi+5jS6IN3M87V2oCs6WjnP59KH2MF8xqY0uibN+I6NCayDhH2tTawL0xbPWCc1Ed6Sr1eYr/4XxrBuYlX7C2rg0N5jWDqE1sH+2I5aCP0LwaweYfZvMAZQE4H9/MbIRx9mu1wIM39yoZcxNEezbh7RCwAAUcZIcYEeuxBGAQAMZj4vVeihc2GnwQ/q8gZN4NDyu1peXJQFd5g9NEpEd3GUbPwcFAjDAJBkD1WIiG7jHbtxbP8zs2YlATyc33pLRLR3C+/ZhOOIiGdXd6dZ0zzgEwlp7wZOsoTXd4joJGOaD4JCIf26ilM2YfERERENM6YFISIW0u4VnKkRHn9DXGEE4hIh/bjU9bRK+GST+MI4pGRC2hkpzhMLljAFllRI28Oll6pCC3JyIX0/V36tKMxBQUFI384cW1YTFtSE9GWwZ1VRmFMS0uap3jW1V7bUhPSpv29daVFSikJa7+vfUAmbuKqQ1noHPkuFcelf7xDve05/lQlN2eZQxUr30BbR9EeBMCjZvmpYKp/fpvHuBb7QJ95gbSyWLuyMI97f4wk93BTAFtLz4qVRRLy8RUQnmCmAl6Q4QnpWLCIiDrzamuQkKU4aXeQIaa5LkkbZiR7HeEKakSR6ZimCiDfnKyxmKjQlLkWYxZKA0iI9EBdLDRlnxvISTQjLOccFZ/cKXRMVnM5L4p65EWFJDCHNRbv+Y4X2g4/+o5n+w6P2463+A7j+FoH2Job+Nov+RpD+VpX+Zpr+dp/+huQRtEz1N3UBwGhXaTu3G/+vMX4ErfsjuFw4uP6IHFx/ROTXH78BafjMUKO/LtMAAAAASUVORK5CYII="},EiaQ:function(e,t){},EqUA:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEFUlEQVR4Xu2XS2xUVRjHf+ece29n5jIz7UyHqRQRphRMA6U8DBAxvsLChIXE2BjjStGEqDvizsDGjS5YuNFEY1y4kESDcaX4RuMO5RExGtJaCvQ1w0zLzNzHOfeIxo10gbFTu/GXnPX55fv+Od/5hLWWlUSywjjchm+3C25FAAYeCDSHlWCiS/EaMMNi2PeD7XwFtGUUK77clN84Wk6Xj4SGs8CGZW2BEJAkuJFmT2J4e2thL+tLj7ClfIBKttIXGt43ljWA14EWLCZJeM71vDclCVGsmZq/hC8zWClp6nkS2CWEuHLzzFub3A/82NEKxDGlVdk+9g4/zc67HyUqpjg99xmnr3xKSMJw8R6xpWcvSqicscvQAis5H7dbqFqbfFBgW+8Btg48jPGgv6tCOb+LtMoTmbgFTHRcIBE8X5Q90A6hNQtTv7GaAQbX7mb8xkWIqqRdn5xXyOiEFzsqoC2DviP39/kDIAEpwVUwP8M6bz1JSlJrjoPTzRq/AjBqOxXCbAyhZdBJ+8ITq0AbsAIkICyOdcl5PkFzDtKKUpylbLizZck6sLDkClzJKBoeZ4s3bgQirtN0LC0Rg7YQACJLt8wxwTwfd1c5fkeLX7PumJEsLLhi6RV47MHdlIJIPXR12oz1zjNWdukyhspMgydmFNv8NK/05DmVzxJVIGwXKPSPFItae7GU0dhSBQKluJz1d7w7NOhjQjIZgcoXmayUOFVvYCd/ITu4mfWlNYSz00w1qtRS3js1JxN1JAMZbQBz0kh916ooHnFqk1szdvJgWC7vzK1dy3RvQm6hTbX2M1PXrn3tuM4LvutesFHMP+G249h/6V4AEgGesaSShFwUMQvr4lTXV146s2G+Ua9JKUc9z/ucW2i++l1nnmJpIVaSQEpmlSx1JXZCwgdBu3UklUq/DnbR5R2dBTZJsjrWz1hhn02nU0OJSZpxrJuu6wJ2WT8kBxF8I5Ss5grdxyubNg8Nb9vO8MiI39NbWG20Xt4PidHmsJv27ls3UKG/rx9PeZjY4HoeynM5d+YMcTvq/2MCCiFyynE+EUJEHROQSh41kS5OX766I2y2yWR8lFQEUUB1bpYk0gjJoVx3zyGtDQuNxpSwvHFT8EMh5UVAL0lACPE9sGuhXn+8Xqs+KR01JIX0jNHnSehFiD0bNg5QqQzSDtpcr9f6aterxxpztWM61u8BT3UihNZx3RMO7gmbJABIxwM4prXeYy2EYYhE0t3d82d16nNVsLa1xBYsRsi/59Z1HC6Pj4fT09e8m5IiDNrEQfyTo9TLUjknOyuwGIkQSCmPhq3grdC29wkpL7iOewkBYFluAftXTrTjOFXgo/96MWkDAGalNqMWANBYKYEJAODcSgl8AewHLvAv+X87/h2zUKi67yH0NAAAAABJRU5ErkJggg=="},F2m1:function(e,t){},HW7s:function(e,t){},ILxR:function(e,t){},IQcC:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAA/FBMVEUAAAD///9V/6o7xIkwv38xwoYzu38yuX0wun0xuH4vuH4xuX0xuHwxuH0wt34vuH0wt34wuH0wuH0wt30wt3wvt30wt30wuH0vuH0wt3wwuHwvt3wvt30vuHwvt3wxt30zuH82uYA3uoE6uoNBvYdDvohEvolGv4pQwpFTw5NaxZdfx5piyJxlyZ5oyp9py6Bqy6Fzzqd0z6d/0q6A06+D1LGU2rub3MCn4Miq4cqt4suu48yv48y15dC25dG45tLB6dfF6trG69vJ7N3L7d7N7d/R7+LT8OPV8OTW8OXY8ebd8+ng9Ovh9Ozi9e3s+PP5/fv6/fz+/v7////QaJQSAAAAHnRSTlMAAQMNEBUeMztTYWJzfoCNjqWxxMvS1d/p6uzu+f4xjky/AAACE0lEQVRYw62X6XaCMBCFY60LKioVBRSnq3bf7d5q99ai3Xj/dykgtVImJhDvL85w5juQTG5mCKEoJcmKqtVNs66piiylSCRlStUmBNSsljK82clCDVDVCkmO9PliA6hqFOcZ6YmcAVNl5BLT8tMVYKqSpudndeCQnqXl503gkplH0+fKwK3yHJK/ABG0ECaUIZLKof+HiPq3DlkzKsAM7EVah8jSJ+ohUYEYqvzVZA5iKTc+P0Y8gPF7sooQU0X//DfiAhojfyhAbBU8QNh/Nh6H1tvLwyETUPP8Lxzv2Z6+WkyC65OlcLg7Atj7TEDJAVTD4TMfcMwEVB3/b4bDHR9wzgQ0U0RCwrs+YMjeB4nISLTlA+wlJkAmChZ+HeU/s79AISoWPvXyB202QCUaFt7kzQeN1NG45QCueIq5TnAvO3IA3zs8zkYBeMs4XOUB4L8Ae+4q3C1y/IJGeXPjEq59wtKURVQpb5b7LuF2xXlsP9vvFycHa/g2KjT2+odLsLahPRiV1ecBWkgy9eu2PML35eC3sO/RUpboC7TetwN6QQ8TdpzH69ANAN7Q44wZysRuvk4ALNRQMEsL1KQ1BgxxS8uwamXz1P+MJ9xUSY1dsK3dzlm3t4HbuvjFIny1CV+u4te7cIMh3uIIN1nibZ54oyne6oo328LtvvjAMYORR3zoEh/7xAfPGYy+Mxi+o43/P04SoQFYzkiwAAAAAElFTkSuQmCC"},JmqS:function(e,t){},Mgmo:function(e,t){e.exports="data:image/png;base64,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"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),i=n("Dd8w"),o=n.n(i),s={appkey:"1106210107065350#demo",Host:"easemob.com",https:!0,isHttpDNS:!0,isMultiLoginSessions:!0,isWindowSDK:!1,isSandBox:!1,isDebug:!0,isStropheLog:!1,autoReconnectNumMax:5,autoReconnectInterval:2,isWebRTC:!0,i18n:"us",isAutoLogin:!0,p2pMessageCacheSize:500,delivery:!0,groupMessageCacheSize:200,loglevel:"ERROR",enableLocalStorage:!0},a=n("cxuw"),c=n.n(a),u=n("M4fF"),d=n.n(u),l=(n("r43D"),n("dIxr"),n("te/r")),f=n.n(l),p=n("zL8q"),h=n.n(p);function m(e){var t=e.id,n=new g.message("read",g.conn.getUniqueId());n.set({id:t,to:e.from}),g.conn.send(n.body)}var v={client:null,localAudioTrack:null,localVideoTrack:null},g={};(g=window.WebIM=c.a).config=s,g.conn=new g.connection({appKey:g.config.appkey,isMultiLoginSessions:g.config.isMultiLoginSessions,https:g.config.https,isAutoLogin:!0,heartBeatWait:g.config.heartBeatWait,autoReconnectNumMax:g.config.autoReconnectNumMax,autoReconnectInterval:g.config.autoReconnectInterval,isStropheLog:g.config.isStropheLog,delivery:g.config.delivery,isHttpDNS:g.config.isHttpDNS});var b=0,y=2,A=4,w=7;g.conn.listen({onOpened:function(e){var t=Vue.$store.state.login.username||localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).userId;Vue.$store.dispatch("getLoginUserInfo",{userId:t});var n=(-1!==location.pathname.indexOf("login")||-1!==location.pathname.indexOf("register")?"/contact":location.pathname)+"?username="+t;Vue.$router.push({path:n})},onClosed:function(e){Vue.$router.push({path:"/login"})},onTextMessage:function(e){console.log("onTextMessage",e);var t=e.from,n=e.to,r=e.type,i=e.time,o="chat"!==r?n:t;if(Vue.$store.commit("updateMsgList",{chatType:{chat:"contact",groupchat:"group",chatroom:"chatroom"}[e.type],chatId:o,msg:e.data,bySelf:!1,from:e.from,mid:e.id,time:i}),Vue.$store.commit("noticeCall",e),"chat"===r&&m(e),e.ext&&"invite"===e.ext.action){console.log("收到邀请消息",e);var s=e.ext,a=s.callerDevId,c=s.callId,u=Vue.$store.getters.getAgora;if(e.calleeIMName=e.to,e.callerIMName=e.from,e.from==g.conn.context.jid.name)return;if(u.callStatus>b){if(e.ext.callId!=u.callId)return Vue.$store.dispatch("answerCall",{result:"busy",callId:e.ext.callId,callerDevId:e.ext.callerDevId,to:t});Vue.$store.dispatch("sendAlerting",{to:t,calleeDevId:a,callId:c}),Vue.$store.dispatch("setCallStatus",y)}Vue.$store.dispatch("updateConfr",e),Vue.$store.dispatch("sendAlerting",{to:t,calleeDevId:a,callId:c}),Vue.$store.dispatch("setCallStatus",y)}},onEmojiMessage:function(e){console.log("onEmojiMessage",e),"chat"===e.type&&m(e)},onPictureMessage:function(e){var t=e.from,n=e.to,r=e.type,i=e.time,o="chat"!==r?n:t;Vue.$store.commit("updateMsgList",{chatType:{chat:"contact",groupchat:"group",chatroom:"chatroom"}[e.type],chatId:o,msg:e.url,bySelf:!1,type:"img",from:e.from,time:i}),"chat"===r&&m(e)},onCmdMessage:function(e){if(console.log("onCmdMessage",e),"rtcCall"===e.action){if(console.log("tes11"),e.from===g.conn.context.jid.name)return void console.log("进来了");var t=e.ext,n="",r="",i="",o=Vue.$store.getters.getAgora;switch(t.action){case"alert":n=t.calleeDevId,r=t.callerDevId,i=t.callId,console.log("收到回复的alert",e),Vue.$store.dispatch("confirmRing",{msg:e,deviceId:n,callerDevId:r,callId:i});break;case"confirmRing":if(console.log("收到confirmRing",e),t.calleeDevId!=g.conn.context.jid.clientResource)return void console.log("不是自己设备的confirmRing",e);if(!t.status&&o.callStatus<A)return console.warn("邀请已失效"),Vue.$store.dispatch("hangup"),void Vue.$store.dispatch("setCallStatus",b);n=t.calleeDevId,Vue.$store.dispatch("setCallStatus",A),console.log("清除定时器2"),v.timer&&clearTimeout(v.timer);break;case"answerCall":if(console.log("收到回复的answerCall",e),console.log("清除定时器1"),v.timer&&clearTimeout(v.timer),n=t.calleeDevId,t.callerDevId!=g.conn.context.jid.clientResource)return void console.log("不是自己设备的answerCall",e);Vue.$store.dispatch("confirmCallee",{to:e.from,calleeDevId:n,result:t.result}),"accept"!==t.result&&("busy"===t.result?Object(p.Message)({type:"error",message:"对方正忙"}):"refuse"===t.result&&Object(p.Message)({type:"error",message:"对方已拒绝"}),2!==o.confr.type&&(Vue.$store.dispatch("hangup"),Vue.$store.dispatch("setCallStatus",b)));break;case"confirmCallee":if(console.log("收到confirmCallee",e),t.calleeDevId!=g.conn.context.jid.clientResource)return e.to==g.conn.context.jid.name?(Vue.$store.dispatch("hangup"),Vue.$store.dispatch("setCallStatus",b),Object(p.Message)({type:"error",message:"已在其他设备处理"})):void 0;if("accept"!=e.ext.result&&7!=o.callStatus)return Vue.$store.dispatch("hangup"),void Vue.$store.dispatch("setCallStatus",b);Vue.$store.dispatch("setCallStatus",w);break;case"cancelCall":if(console.log("收到cancelCall",e),e.from==g.conn.context.jid.name)return;e.from==o.confr.callerIMName&&(Vue.$store.dispatch("hangup"),Vue.$store.dispatch("setCallStatus",b));break;default:console.log("unexpected action")}}},onAudioMessage:function(e){var t={chat:"contact",groupchat:"group",chatroom:"chatroom"},n="chat"!==e.type?e.to:e.from,r={url:e.url,headers:{Accept:"audio/mp3"},onFileDownloadComplete:function(r){var i=g.utils.parseDownloadResponse.call(g.conn,r);Vue.$store.commit("updateMsgList",{chatType:t[e.type],chatId:n,msg:i,bySelf:!1,type:"audio",from:e.from,time:e.time})},onFileDownloadError:function(){console.log("音频下载失败")}};g.utils.download.call(g.conn,r),"chat"===e.type&&m(e)},onLocationMessage:function(e){console.log("onLocationMessage",e),"chat"===e.type&&m(e)},onFileMessage:function(e){var t=e.from,n=e.to,r=e.type,i=e.time,o="chat"!==r?n:t;Vue.$store.commit("updateMsgList",{chatType:{chat:"contact",groupchat:"group",chatroom:"chatroom"}[e.type],chatId:o,msg:e.url,bySelf:!1,type:"file",filename:e.filename,file_length:e.file_length,from:e.from,time:i}),"chat"===r&&m(e)},onVideoMessage:function(e){console.log("onVideoMessage",e);var t=e.from,n=e.to,r=e.type,i=e.time,o="chat"!==r?n:t,s={chat:"contact",groupchat:"group",chatroom:"chatroom"},a={url:e.url,headers:{Accept:"audio/mp4"},onFileDownloadComplete:function(t){var n=g.utils.parseDownloadResponse.call(g.conn,t);Vue.$store.commit("updateMsgList",{chatType:s[e.type],chatId:o,msg:n,bySelf:!1,type:"video",filename:e.filename,file_length:e.file_length,from:e.from,time:i})},onFileDownloadError:function(){console.log("视频下载失败")}};g.utils.download.call(g.conn,a),"chat"===r&&m(e)},onPresence:function(e){console.log("onPresence",e);var t=Vue.$store.state.group.groupInfo.gid;switch(e.type){case"subscribe":var n=o()({isShow:!0},e);Vue.$store.commit("changeFriendRequestState",n);break;case"subscribed":Vue.$store.dispatch("onGetContactUserList"),Object(p.Message)({type:"success",message:e.from+" 已订阅"});break;case"unsubscribed":Vue.$store.dispatch("onGetContactUserList"),"code"in e?alert(e.from+" 请求被拒绝"):Object(p.Message)({type:"success",message:e.from+" 已退订"});break;case"direct_joined":Vue.$store.dispatch("onGetGroupUserList"),Object(p.Message)({type:"success",message:e.from+"邀请您加入群："+e.gid});break;case"invite":var r=o()({isShow:!0},e);Vue.$store.commit("updateGroupInviteNotifications",r);break;case"joinGroupNotifications":var i=o()({isShow:!0},e);Vue.$store.commit("updateGroupNotifications",i);break;case"memberJoinPublicGroupSuccess":Vue.$store.dispatch("onGetGroupinfo",{select_id:t}),Object(p.Message)({type:"success",message:e.from+"已加入群组"});break;case"joinPublicGroupSuccess":Vue.$store.dispatch("onGetGroupUserList");break;case"deleteGroupChat":Vue.$store.dispatch("onGetGroupUserList"),Object(p.Message)({type:"error",message:e.from+"将群："+e.gid+" 已解散"});break;case"removedFromGroup":Vue.$store.dispatch("onGetGroupUserList"),Object(p.Message)({type:"success",message:"已被"+e.from+"移除群："+e.gid});break;case"leaveGroup":Vue.$store.dispatch("onGetGroupinfo",{select_id:t})}},onRoster:function(e){console.log("onRoster",e)},onInviteMessage:function(e){console.log("onInviteMessage",e)},onOnline:function(){console.log("onOnline 网络已连接")},onOffline:function(){console.log("onOffline 网络已断开")},onError:function(e){return console.log("onError",e),0==e.type?p.Message.error("请输入账号密码"):28==e.type?console.log("未登陆"):17===d.a.get(e,"data.type")&&"user not found"==JSON.parse(e.data.data).error_description?p.Message.error("用户名不存在！"):17===d.a.get(e,"data.type")&&"invalid password"==JSON.parse(e.data.data).error_description?p.Message.error("密码无效！"):17===d.a.get(e,"data.type")&&"user not activated"==JSON.parse(e.data.data).error_description?p.Message.error("用户已被封禁！"):"504"==e.type?p.Message.error("消息撤回失败"):void 0},onRecallMessage:function(e){console.log("撤回消息",e),e.status="recall",e.msg="对方撤回了一条消息",Vue.$store.commit("updateMessageStatus",e)},onBlacklistUpdate:function(e){console.log("黑名单变动",e);var t=e;Vue.$store.commit("updateBlackList",t)},onReceivedMessage:function(e){console.log("onReceivedMessage",e),Vue.$store.commit("updateMessageMid",e),e.status="sent",Vue.$store.commit("updateMessageStatus",e)},onDeliveredMessage:function(e){console.log("onDeliveredMessage",e)},onReadMessage:function(e){console.log("onReadMessage",e),e.status="read",Vue.$store.commit("updateMessageStatus",e)},onCreateGroup:function(e){console.log("onCreateGroup",e),Vue.$store.dispatch("onGetGroupUserList")},onMutedMessage:function(e){console.log("onMutedMessage",e)}}),g.WebRTC=window.webrtc,g.EMedia=window.emedia,g.AgoraRTC=f.a,g.rtc=v;var S=g,C=n("NYxO"),I={name:"App",beforeMount:function(){var e=localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo"));if(e){var t={user:e.userId,pwd:e.password,appKey:S.config.appkey};S.conn.open(t)}}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var M=n("VU/8")(I,x,!1,function(e){n("ymVL")},null,null).exports,E=n("/ocq"),T=(n("sctH"),localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo"))),R={data:function(){return{username:T.userId||"",password:T.password||"",nickname:""}},mounted:function(){var e=this.isRegister?"/register":"/login";e!==location.pathname&&this.$router.push(e)},components:{},computed:{isRegister:function(){return this.$store.state.login.isRegister}},methods:o()({},Object(C.b)(["onLogin","setRegisterFlag","onRegister"]),{toLogin:function(){this.onLogin({username:this.username.toLowerCase(),password:this.password})},toRegister:function(){this.onRegister({username:this.username.toLowerCase(),password:this.password,nickname:this.nickname.toLowerCase()})},changeType:function(){this.setRegisterFlag(!this.isRegister)}})},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("div",{staticClass:"login"},[n("div",{staticClass:"login-panel"},[n("div",{staticClass:"logo"},[e._v("Web IM")]),e._v(" "),n("van-cell-group",[n("van-field",{attrs:{equired:"",placeholder:"用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),n("van-field",{attrs:{type:"password",placeholder:"密码",required:""},on:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.toLogin(t):null}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),n("van-field",{directives:[{name:"show",rawName:"v-show",value:1==this.isRegister,expression:"this.isRegister == true"}],attrs:{placeholder:"昵称"},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}})],1),e._v(" "),1==this.isRegister?n("van-button",{attrs:{type:"default"},on:{click:e.toRegister}},[e._v("注册")]):n("van-button",{attrs:{type:"default"},on:{click:e.toLogin}},[e._v("登录")])],1),e._v(" "),1==this.isRegister?n("p",{staticClass:"tip"},[e._v("\n\t\t\t已有账号?\n\t\t\t"),n("span",{staticClass:"green",on:{click:e.changeType}},[e._v("去登录")])]):n("p",{staticClass:"tip"},[e._v("\n\t\t\t没有账号?\n\t\t\t"),n("span",{staticClass:"green",on:{click:e.changeType}},[e._v("注册")])])])])},staticRenderFns:[]},O=n("VU/8")(R,k,!1,null,null,null).exports,P=n("mvHQ"),j=n.n(P),D=n("fZjL"),L=n.n(D),B=(n("HW7s"),n("p+3Z"),n("u4Bf"),{data:function(){return{showDrag:!1}},props:["id"],methods:{dragVisibleToggle:function(){if(this.$data.showDrag=!this.$data.showDrag,!this.$data.showDrag){var e=document.getElementById(this.id),t=document.getElementById("child");e.removeChild(t)}}},mounted:function(){var e=function(){var e=navigator.userAgent,t=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),n=!0;for(;o<t.length;o++)if(e.indexOf(t[o])>0){n=!1;break}return n}(),t=e?"mousedown":"touchstart",n=e?"mousemove":"touchmove",r=e?"mouseup":"touchend",i=this.id||"drag",o=0,s=document.getElementById(i);document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()},s.addEventListener(t,function(t){if(e)var o=t.clientX-document.getElementById(i).offsetLeft,s=t.clientY-document.getElementById(i).offsetTop;else if(t.targetTouches&&1==t.targetTouches.length)var a=t.targetTouches[0],o=a.pageX-document.getElementById(i).offsetLeft,s=a.pageY-document.getElementById(i).offsetTop;function c(e){if(e.targetTouches&&1==e.targetTouches.length){var t=e.targetTouches[0],n=t.pageX-o,r=t.pageY-s;document.getElementById(i).style.left=n+"px",document.getElementById(i).style.top=r+"px"}else{var n=e.clientX-o,r=e.clientY-s;document.getElementById(i).style.left=n+"px",document.getElementById(i).style.top=r+"px"}}document.addEventListener(n,c,!0),document.addEventListener(r,function e(t){document.removeEventListener(n,c,!0);document.removeEventListener(r,e,!0);document.onmouseup=null},!0)},!0)}}),U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app1"}},[t("div",{staticClass:"drag",attrs:{id:this.id||"drag"}},[this._t("default",[this._v("empty")],{id:"child"})],2)])},staticRenderFns:[]};var N=n("VU/8")(B,U,!1,function(e){n("Y20i")},null,null).exports,V={data:function(){return{emediaModalVisible:!1,showAccept:!1,showMute:!1,callerWaitVisible:!1,calleeWaitVisible:!1,voiceCallVisible:!1,contact:"",streamType:"视频",toggle:!0,serverStyle:{width:"360px",height:"360px"}}},watch:{emediaModalVisible:{deep:!0,handler:function(e,t){e?this.$emit("changeIsVideoState",!0):this.$emit("changeIsVideoState",!1)}}},methods:o()({},Object(C.b)(["showMultiAVModal","hideMultiAVModal"]),{initWebRTC:function(){console.log("InitWebRTC.........."),console.log("InitWebRTC end..........");var e=this;S.call=new S.WebRTC.Call({connection:S.conn,mediaStreamConstaints:{audio:!0,video:!0},listener:{onOtherUserOpenVoice:function(e,t){console.log("from open:",t," voice .",e)},onOtherUserOpenVideo:function(e,t){console.log("from open:",t," voideo .",e)},onAcceptCall:function(e,t,n,r){console.log("onAcceptCall",e,t,n,r)},onGotRemoteStream:function(t,n){"VOICE"==n?(e.$data.voiceCallVisible=!0,e.$data.streamType="语音"):(e.$data.voiceCallVisible=!1,e.$data.streamType="视频"),e.$refs.remoteVideo.srcObject=t,e.$data.callerWaitVisible=!1},onGotLocalStream:function(t,n){"VOICE"==n?(e.$data.voiceCallVisible=!0,e.$data.streamType="语音"):(e.$data.voiceCallVisible=!1,e.$data.streamType="视频"),e.$refs.localVideo.srcObject=t,e.$data.calleeWaitVisible=!1},onRinging:function(t,n){console.log("onRinging",t),"VOICE"!=n?(e.$data.calleeWaitVisible=!0,e.$data.streamType="视频"):(e.$data.calleeWaitVisible=!0,e.$data.streamType="语音"),e.$data.contact=t,e.$data.emediaModalVisible=!0,e.$data.showAccept=!0,e.$data.showMute=!1},onTermCall:function(t){console.log("onTermCall",t),!t||"busy"!=t&&"BUSY"!=t||e.$message.error("Target is busy. Try it later."),!t||"timeout"!=t&&"noresponse"!=t||e.$message.error("Target no response. Try it later."),!t||"decline"!=t&&"reject"!=t||e.$message.error("Target reject."),!t||"failed-transport"!=t&&"fail"!=t||e.$message.error("Call failed. Try it later."),!t||"ok"!=t&&"success"!=t&&"hangup"!=t||e.$message.success("Target hangup. "),S.call.caller="",S.call.callee="",e.closeEmediaModal(),e.$data.emediaModalVisible=!1,e.$data.showAccept=!1,e.$data.showMute=!1,e.$data.callerWaitVisible=!1,e.$data.calleeWaitVisible=!1,e.$data.voiceCallVisible=!1,e.$data.contact="",e.$refs.audio.isopen=!0,e.$refs.video.isopen=!0,e.$refs.remoteVideo.muted=!1,e.$refs.video.style.color="#2c3e50",e.$refs.audio.style.color="#2c3e50",e.$refs.mute.style.color="#2c3e50"},onIceConnectionStateChange:function(t){console.log("onIceConnectionStateChange"),"disconnected"==t?e.rtcTimeoutID||(e.rtcTimeoutID=setTimeout(function(){S.call.pattern&&S.call.pattern.hangup||(e.$message.success("Target is offline"),e.closeEmediaModal())},1e4)):"connected"==t&&e.rtcTimeoutID&&(clearTimeout(e.rtcTimeoutID),e.rtcTimeoutID=null)},onError:function(t){var n=!1,r=document.getElementById("webrtc_close");if(t&&t.message){switch(t.message){case"CALLLING_EACH_OTHER_AT_THE_SAME_TIME":t.message="Target is calling. Please try again later.",n=!0;break;case"TARGET_OFFLINE":t.message="Target is offline."}n&&r&&r.click()}e.$message.error(t&&t.message?t.message:"An error occured when calling webrtc"),e.closeEmediaModal()},onInvite:function(t,n){var r=n.confrId,i=n.password,o=(n.gid,S.config.appkey),s=S.conn.url&&S.conn.url.split(".");s.length&&s.length>2&&(s="@"+s[1]+"."+s[2]),t=(t=t.replace(o+"_","")).replace(s,"");emedia.mgr.getConferenceTkt(r,i).then(function(n){!function(n){e.$confirm(t+"邀请您进入多人会议","提示",{confirmButtonText:"确认",cancelButtonText:"拒绝",type:"info"}).then(function(){e.showMultiAVModal(n),setTimeout(function(){var e=n.ticket;S.EMService.joinConferenceWithTicket(n.confrId,e,"user ext field").then(function(){S.EMService.publish({audio:!0,video:!0},"user ext field").catch(function(e){console.error(e)})}).catch(function(e){console.error(e)})},0)}).catch(function(e){})}(n)})}}})},close:function(){this.closeEmediaModal();try{S.call.endCall()}catch(e){console.log("endCall error1:",e)}},toggleClick:function(){this.$data.toggle=!this.$data.toggle},mute:function(){this.$refs.remoteVideo.muted?(this.$refs.mute.style.color="#2c3e50",this.$refs.remoteVideo.muted=!1):(this.$refs.mute.style.color="#4eb1f4",this.$refs.remoteVideo.muted=!0)},controlStream:function(e){var t=void 0,n=S.call.callee.split("@")[0].split("_")[1];"audioControl"===e?(t=this.$refs.audio.isopen?0:1,this.$refs.audio.style.color=this.$refs.audio.isopen?"#2c3e50":"#4eb1f4",this.$refs.audio.isopen=!this.$refs.audio.isopen):(t=this.$refs.video.isopen?3:2,this.$refs.video.style.color=this.$refs.video.isopen?"#2c3e50":"#4eb1f4",this.$refs.video.isopen=!this.$refs.video.isopen),S.call.controlStream(t,n)},showEmediaModal:function(){this.$data.emediaModalVisible=!0},closeEmediaModal:function(){this.$data.emediaModalVisible=!1},accept:function(){S.call.acceptCall()},loadedmetadataLocalHandler:function(){this.$data.showMute=!0,this.$data.showAccept=!1},showCallerWait:function(e){this.$data.callerWaitVisible=!0,this.$data.contact=e}}),components:{Draggable:N},mounted:function(){S.config.isWebRTC&&S.WebRTC&&this.initWebRTC(),this.$refs.localVideo.addEventListener("loadedmetadata",this.loadedmetadataLocalHandler)}},F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Draggable",{directives:[{name:"show",rawName:"v-show",value:e.emediaModalVisible,expression:"emediaModalVisible"}],attrs:{id:"drag1"}},[n("div",{class:{rtcVoiceContent:"语音"==e.streamType,rtcVideoContent:"视频"==e.streamType}},[e.callerWaitVisible?n("div",{staticClass:"mask"},[e._v("正在等待"+e._s(e.contact)+"接受邀请")]):e._e(),e._v(" "),e.calleeWaitVisible?n("div",{staticClass:"mask"},[e._v(e._s(e.contact)+"请求"+e._s(e.streamType)+"通话")]):e._e(),e._v(" "),e.voiceCallVisible?n("div",{staticClass:"voiceCall"},[e._v("正在与"+e._s(e.contact)+"通话")]):e._e(),e._v(" "),n("video",{directives:[{name:"show",rawName:"v-show",value:"视频"==e.streamType,expression:"streamType == '视频'"}],ref:"localVideo",class:{localVideo:e.toggle,remoteVideo:!e.toggle},attrs:{autoPlay:"",muted:"",playsInline:""},domProps:{muted:!0}}),e._v(" "),n("video",{directives:[{name:"show",rawName:"v-show",value:"视频"==e.streamType,expression:"streamType == '视频'"}],ref:"remoteVideo",class:{localVideo:!e.toggle,remoteVideo:e.toggle},attrs:{autoPlay:"",playsInline:""}}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.showMute,expression:"showMute"}],ref:"audio",staticClass:"el-icon-turn-off-microphone font microphone",attrs:{isopen:"true"},on:{click:function(t){return e.controlStream("audioControl")}}}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.showAccept,expression:"showAccept"}],staticClass:"el-icon-phone font accept",attrs:{isopen:"true"},on:{click:e.accept}}),e._v(" "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.showMute&&"视频"==e.streamType,expression:"showMute && streamType=='视频'"}],ref:"video",staticClass:"font camera",attrs:{isopen:"true",type:"video-camera"},on:{click:function(t){return e.controlStream("videoControl")}}}),e._v(" "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.showMute,expression:"showMute"}],ref:"mute",staticClass:"font mute",attrs:{type:"sound"},on:{click:e.mute}}),e._v(" "),n("i",{staticClass:"el-icon-switch-button close",on:{click:e.close}}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.showMute&&"视频"==e.streamType,expression:"showMute && streamType=='视频'"}],staticClass:"el-icon-refresh font toggle",on:{click:e.toggleClick}})],1)])},staticRenderFns:[]};var W=n("VU/8")(V,F,!1,function(e){n("OP+V")},"data-v-30761c32",null).exports,G=(n("PJh5"),localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).userId),K={data:function(){return{dialogVisible:!1,checkList:[G],username:G}},props:["to"],computed:{groupMembers:function(){return this.$store.state.emedia.groupMembers},multiAVModalVisible:function(){return this.$store.state.emedia.multiAVModalVisible},confr:function(){return this.$store.state.emedia.confr},addAVMemberModalVisible:function(){return this.$store.state.emedia.addAVMemberModalVisible}},methods:o()({},Object(C.b)(["showMultiAVModal","hideMultiAVModal","setConfr","setAVMemeberModalVisible","setInvitedMembers","updateConfr"]),{show:function(){this.$data.checkList=[G],this.setAVMemeberModalVisible({addAVMemberModalVisible:!0})},hide:function(){this.setAVMemeberModalVisible({addAVMemberModalVisible:!1})},onClosed:function(){this.$data.checkList=[G],this.hide()},startConference:function(){var e=this,t=this.$data.checkList.filter(function(t){return t!=e.$data.username});console.log("invitees>>>",t),this.handleSubmit(t),this.hide()},handleSubmit:function(e){var t=this,n=this.$store.state.agora,r=n.confr,i=n.joinedMembers,o=this.$route.params.id;if(e.length+i.length<1)this.$message.error("没邀请任何人员");else{var s=r.callId||WebIM.conn.getUniqueId().toString(),a=r.channel||Math.uuid(8);console.log("channelName发送>>",a);var c={channelName:a,type:2,callerDevId:WebIM.conn.context.jid.clientResource,callId:s};this.updateConfr({ext:c,to:o}),e.forEach(function(e){t.sendInviteMsg(e,c,o)}),this.setInvitedMembers(e),setTimeout(function(){t.setInvitedMembers([])},6e4)}},sendInviteMsg:function(e,t,n){var r=WebIM.conn.getUniqueId(),i=new WebIM.message("txt",r);console.log("this.$store.state.confr>>",this.$store.state.agora.confr);var o={msg:"邀请您进行视频通话",to:e,chatType:"singleChat",ext:{action:"invite",channelName:this.$store.state.agora.confr.channel,type:2,callerDevId:t.callerDevId,callId:t.callId,ts:Date.now(),msgType:"rtcCallWithAgora",ext:{groupId:n}}};i.set(o),WebIM.conn.send(i.body)}})},z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"选择成员",visible:e.addAVMemberModalVisible},on:{ok:e.startConference,cancel:e.onClosed}},[n("div",[n("el-checkbox-group",{staticClass:"checkboxGroup",attrs:{max:6},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.groupMembers,function(t){return n("div",{key:t.member,staticStyle:{"border-bottom":"1px solid #f2f2f2",height:"30px"}},[n("el-checkbox",{staticClass:"checkbox",attrs:{label:t.member||t.owner,disabled:t.member==e.username||t.owner==e.username}})],1)}),0)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.startConference}},[e._v("开始")])],1)])},staticRenderFns:[]};var q=n("VU/8")(K,z,!1,function(e){n("EiaQ")},null,null).exports,H=n("BO1k"),Q=n.n(H),Y=n("d7EF"),J=n.n(Y),X={data:function(){var e=this.$createElement;return{rv_local:{nickName:"",streamId:"",openAudio:!1,openVideo:!1,video:e("div",{attrs:{className:"default"}})},rv:new Array(5).fill({nickName:"",streamId:"",openVideo:!1,video:e("div",{attrs:{className:"default"}})}),rvCount:0}},props:["to"],computed:{multiAVModalVisible:function(){return this.$store.state.emedia.multiAVModalVisible},addAVMemberModalVisible:function(){return this.$store.state.emedia.addAVMemberModalVisible}},mounted:function(){this.initEmedia()},methods:o()({},Object(C.b)(["showMultiAVModal","hideMultiAVModal","setConfr","setAVMemeberModalVisible"]),{initEmedia:function(){var e=this;WebIM.EMService=emedia.mgr,WebIM.EMService.onConferenceExit=function(e,t){switch(e=e||0){case 0:e="正常挂断";break;case 1:e="没响应";break;case 2:e="服务器拒绝";break;case 3:e="对方忙";break;case 4:e="失败,可能是网络或服务器拒绝",-9527===t&&(e="失败,网络原因"),-500===t&&(e="Ticket失效"),-502===t&&(e="Ticket过期"),-504===t&&(e="链接已失效"),-508===t&&(e="会议无效");break;case 5:e="不支持";break;case 10:e="其他设备登录";break;case 11:e="会议关闭"}console.log("Hangup reason "+(e||0))},WebIM.EMService.onMemberJoined=function(t){e.$message.success(t.name+" 加入群聊.")},WebIM.EMService.onMemberExited=function(t,n){e.removeVideo(t),void 0!==n&&e.$message.warning(t.name+" 退出群聊.")},WebIM.EMService.onRoleChanged=function(e){},WebIM.EMService.onStreamAdded=function(t,n){var r=n.located();console.log("来流了",n.located());var i=void 0;if(r){var o=e.$refs.rv_local,s=t.name,a={nickName:s,stream:n,localStreamId:n.id,openVideo:!0,openAudio:!0};e.$data.rv_local=a,emedia.mgr.onMediaChanaged(o,function(t){var r={nickName:s,stream:n,localStreamId:n.id,openVideo:t.video,openAudio:t.audio};e.$data.rv_local=r,console.warn(n.id,"voff:",this.getAttribute("voff")),console.warn(n.id,"aoff:",this.getAttribute("aoff"))}),emedia.mgr.streamBindVideo(n,o)}else{var c=e.$data.rv,u=e.$data.rvCount,d=t.name,l=n.id;if(!1===function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,s=Q()(t.entries());!(n=(o=s.next()).done);n=!0){var a=o.value,c=J()(a,2),u=c[0];if(c[1].nickName===e)return u}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return!1}(d,c)){for(var f=0;f<5&&(""!=c[f].nickName||!(i=f)&&0!=i);f++);u++;var p="rv_"+i.toString(),h=e.$refs[p][0];console.log("别人的video标签",h,i);var m={nickName:d,streamId:l,openVideo:!0,video:c[i].video};c[i]=m,e.$data.rv=c,e.$data.rvCount=u,emedia.mgr.onMediaChanaged(h,function(t){var n={nickName:d,streamId:l,openVideo:t.video,video:c[i].video};c[i]=n,e.$data.rv=c,console.log("别人的video ++++",n),console.warn(l,"voff:",this.getAttribute("voff")),console.warn(l,"aoff:",this.getAttribute("aoff"))}),e.$forceUpdate(),emedia.mgr.streamBindVideo(n,h),emedia.mgr.subscribe(t,n,!0,!0,h)}}},WebIM.EMService.onStreamRemoved=function(e,t){}},closeModal:function(){var e=this.$createElement;WebIM.EMService.exitConference(),this.hideMultiAVModal(),this.setConfr(""),this.rv_local={nickName:"",streamId:"",openAudio:!1,openVideo:!1,video:e("div",{attrs:{className:"default"}})},this.rv=new Array(5).fill({nickName:"",streamId:"",openVideo:!1,video:e("div",{attrs:{className:"default"}})}),this.rvCount=0},controlRemoteVideo:function(e){var t=this.$data.rv[e];if(""!==t.streamId){var n=this.$refs["rv_"+e];t.openVideo?emedia.mgr.triggerPauseVideo(n):emedia.mgr.triggerResumeVideo(n)}},controlLocalVideo:function(){var e=this.$refs.rv_local,t=this.$data.rv_local;t.stream,t.localStreamId,t.openAudio;t.openVideo?emedia.mgr.triggerPauseVideo(e):emedia.mgr.triggerResumeVideo(e)},controlLocalMic:function(){var e=this.$refs.rv_local,t=this.$data.rv_local,n=(t.stream,t.localStreamId,t.openAudio);t.openVideo;n?emedia.mgr.triggerPauseAudio(e):emedia.mgr.triggerResumeAudio(e)},invite:function(){this.setAVMemeberModalVisible({addAVMemberModalVisible:!0})},removeVideo:function(e){var t=this.$data.rv;this.$data.rvCount;this.replaceObj(t,e),this.rv=this.replaceObj(t,e)},replaceObj:function(e,t){var n=this.$createElement;return e.map(function(e){return t&&t.name===e.nickName&&(e.nickName="",e.openVideo=!1,e.streamId="",e.video=n("div")),e})}}),components:{Draggable:N}},Z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.multiAVModalVisible?n("Draggable",{attrs:{id:"drag3"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.multiAVModalVisible,expression:"multiAVModalVisible"}],staticClass:"multiAVModal"},[n("span",{staticClass:"title"},[e._v(e._s(e.to.groupname))]),e._v(" "),n("div",{staticClass:"row-bg"},[n("div",{staticClass:"grid-content bg-purple videoBox"},[n("video",{ref:"rv_local",staticClass:"video",attrs:{autoplay:"",playsinline:"",muted:""},domProps:{muted:!0}}),e._v(" "),n("div",{staticClass:"tools"},[n("span",[e._v(e._s(e.rv_local.nickName))])])]),e._v(" "),e._l(e.rv,function(t,r){return n("div",{key:r,staticClass:"grid-content bg-purple videoBox"},[n("video",{ref:"rv_"+r,refInFor:!0,staticClass:"video",attrs:{autoplay:"",playsinline:""}}),e._v(" "),n("div",{staticClass:"tools"},[n("span",[e._v(e._s(e.rv[r].nickName))]),e._v(" "),n("i",{staticClass:"el-icon-video-camera red",on:{click:function(t){return e.controlRemoteVideo(r)}}})])])})],2),e._v(" "),n("el-row",{staticClass:"toolsBox"},[n("el-col",{attrs:{span:3}},[n("i",{staticClass:"el-icon-circle-plus-outline toolBtn",on:{click:e.invite}})]),e._v(" "),n("el-col",{attrs:{span:3}},[n("i",{class:e.rv_local.openAudio?"el-icon-microphone toolBtn":"el-icon-microphone active",on:{click:e.controlLocalMic}})]),e._v(" "),n("el-col",{attrs:{span:3}},[n("i",{class:e.rv_local.openVideo?"el-icon-video-camera toolBtn":"el-icon-video-camera active",on:{click:e.controlLocalVideo}})]),e._v(" "),n("a-button",{attrs:{type:"danger",plain:""},on:{click:e.closeModal}},[e._v("挂断")])],1)],1)]):e._e()},staticRenderFns:[]};n("VU/8")(X,Z,!1,function(e){n("SwOA")},null,null).exports,n("F2m1");var $={data:function(){return{showGroupBlackModel:!1}},computed:{groupBlackList:function(){return this.$store.state.group.groupBlack}},methods:o()({},Object(C.b)(["onRemoveGroupBlack"]),{chengeBlackModel:function(){this.$data.showGroupBlackModel=!this.$data.showGroupBlackModel},select:function(e){var t=e;this.onRemoveGroupBlack({select_id:this.$store.state.group.groupInfo.gid,removeGroupName:t})}})},ee={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"群组黑名单",visible:e.showGroupBlackModel,modal:!1},on:{"update:visible":function(t){e.showGroupBlackModel=t}}},[n("div",e._l(e.groupBlackList,function(t){return n("ul",{key:t},[e._v("\n      "+e._s(t)+"\n      "),n("label",{staticClass:"delete-icon"},[n("i",{staticClass:"el-icon-remove-outline",on:{click:function(n){return e.select(t)}}})])])}),0)])},staticRenderFns:[]};var te=n("VU/8")($,ee,!1,function(e){n("ILxR")},"data-v-68786d24",null).exports,ne={data:function(){return{showGroupSetting:!1,setInfo:!1,showAdminIcon:!1,showCloseIcon:!1}},computed:{loginName:function(){return localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).userId},groupAdmin:function(){return this.$store.state.group.groupInfo.admin}},methods:o()({},Object(C.b)(["onInviteGroup","onUpdataGroupInfo","onGetGroupBlack","onDissolveGroup","onQuitGroup"]),{changeSettingModel:function(){this.$data.showGroupSetting=!this.$data.showGroupSetting},changeSetInfo:function(){this.$data.setInfo=!this.$data.setInfo,this.loginName==this.groupAdmin?this.$data.showAdminIcon=!this.$data.showAdminIcon:this.$data.showCloseIcon=!this.$data.showCloseIcon},changeBlackModel:function(){this.onGetGroupBlack({select_id:this.$store.state.group.groupInfo.gid}),this.$refs.groupBlackModel.chengeBlackModel()},openInvite:function(){var e=this;this.$prompt("邀请群成员",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"用户名"}).then(function(t){var n=t.value;e.onInviteGroup({select_id:e.$store.state.group.groupInfo.gid,select_name:n})}).catch(function(){})},updatedGroupInfo:function(){var e=this;this.$prompt("群组名","修改群信息",{confirmButtonText:"修改",cancelButtonText:"取消"}).then(function(t){var n=t.value;e.onUpdataGroupInfo({select_id:e.$store.state.group.groupInfo.gid,updateName:n,updateDesc:e.$store.state.group.groupInfo.desc}),e.$message({type:"success",message:"修改成功"})}).catch(function(){})},quitGroup:function(){var e=this;this.onQuitGroup({select_id:this.$store.state.group.groupInfo.gid,callback:function(){e.closeModa()}})},dissolution:function(){var e=this;this.onDissolveGroup({select_id:this.$store.state.group.groupInfo.gid,callback:function(){e.closeModa()}})},closeModa:function(){this.$data.showGroupSetting=!1,this.changeSetInfo(),this.$emit("closeGroupSet"),Vue.$router.push("/group")},changeSetModel:function(){this.$data.setInfo=!1,this.loginName==this.groupAdmin?this.$data.showAdminIcon=!1:this.$data.showCloseIcon=!1}}),components:{GroupBlack:te}},re={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-popover",{attrs:{placement:"bottom",width:"60",trigger:"click"},on:{hide:e.changeSetModel},model:{value:e.showGroupSetting,callback:function(t){e.showGroupSetting=t},expression:"showGroupSetting"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.setInfo,expression:"setInfo"}],staticClass:"setting"},[n("ul",{staticClass:"setting"},[n("li",{on:{click:e.openInvite}},[n("i",{staticClass:"el-icon-user"},[e._v("邀请群成员")])]),e._v(" "),e.showAdminIcon?n("li",[n("i",{staticClass:"el-icon-edit-outline",on:{click:e.updatedGroupInfo}},[e._v("修改群信息")]),e._v(" "),n("i",{staticClass:"el-icon-warning",on:{click:e.changeBlackModel}},[e._v("群组黑名单")]),e._v(" "),n("i",{staticClass:"el-icon-switch-button",on:{click:e.dissolution}},[e._v("解散群组")])]):e._e(),e._v(" "),e.showCloseIcon?n("li",{on:{click:e.quitGroup}},[n("i",{staticClass:"el-icon-delete-solid"},[e._v("退出群组")])]):e._e()])]),e._v(" "),n("van-icon",{staticClass:"set-icon",attrs:{slot:"reference",name:"setting-o",size:"16"},on:{click:e.changeSetInfo},slot:"reference"})],1),e._v(" "),n("GroupBlack",{ref:"groupBlackModel"})],1)},staticRenderFns:[]};var ie=n("VU/8")(ne,re,!1,function(e){n("jSrN")},"data-v-cbc8e1c0",null).exports,oe={data:function(){return{select_id:"",select_name:"",showGroupInfoModel:!1,showInfoIcon:!1,setAdminIcon:"设为管理员",removeAdminIcon:"移除管理员",setMute:"禁言",removeMute:"移除禁言",setBlack:"加入群黑名单",setRemove:"从本群移除"}},computed:{groupinfoList:function(){return this.$store.state.group.groupInfo},username:function(){var e=localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).userId;return e},adminList:function(){return this.$store.state.group.adminList},muteList:function(){return this.$store.state.group.muteList}},methods:o()({},Object(C.b)(["onGetGroupinfo","onSetAdmin","onRemoveAdmin","getGroupAdmin","getMuted","onAddMute","onRemoveMute","onAddGroupBlack","onRemoveGroupUser"]),{closeGroupSet:function(){this.chengeInfoModel(),this.$emit("closeGroupMessage")},chengeInfoModel:function(){var e=this;this.$data.showGroupInfoModel=!this.$data.showGroupInfoModel,this.$data.showSettingModel&&this.chengeSetModel();var t=this.$route,n=(t.name,t.params);setTimeout(function(){e.getGroupAdmin({select_id:n.id}),(e.adminList.includes(e.username)||e.groupinfoList.admin==e.username)&&e.getMuted({select_id:n.id})},100)},chengeSetModel:function(){this.$refs.groupSettingModel.changeSettingModel()},select:function(e){this.$data.select_name=e.member},openSetAdmin:function(){var e=this,t=this;this.$confirm("确认操作: 设为管理员",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.onSetAdmin({select_id:e.$store.state.group.groupInfo.gid,select_name:e.$data.select_name,success:function(){t.getGroupAdmin({select_id:t.$store.state.group.groupInfo.gid}),t.$forceUpdate()}}),e.chengeAdminIcon(),e.$message({type:"success",message:"设置管理员成功"})}).catch(function(){})},openRemoveAdmin:function(){var e=this,t=this;this.$confirm("确认操作: 移除管理员",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.onRemoveAdmin({select_id:e.$store.state.group.groupInfo.gid,select_name:e.$data.select_name,success:function(){t.getGroupAdmin({select_id:t.$store.state.group.groupInfo.gid}),t.$forceUpdate()}}),e.chengeAdminIcon(),e.$message({type:"success",message:"移除管理员成功"})}).catch(function(){})},openSetMute:function(){var e=this,t=this;this.$confirm("确认操作: 禁言",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.onAddMute({select_id:e.$store.state.group.groupInfo.gid,select_name:e.$data.select_name,success:function(){t.getMuted({select_id:t.$store.state.group.groupInfo.gid}),t.$forceUpdate()}}),e.$message({type:"success",message:"禁言成功"})}).catch(function(){})},openRemoveMute:function(){var e=this,t=this;this.$confirm("确认操作: 移除禁言",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.onRemoveMute({select_id:e.$store.state.group.groupInfo.gid,select_name:e.$data.select_name,success:function(){t.getMuted({select_id:t.$store.state.group.groupInfo.gid}),t.$forceUpdate()}}),e.$message({type:"success",message:"移除禁言列表成功"})}).catch(function(){})},openGroupBlack:function(){var e=this;this.$confirm("确认操作: 加入群黑名单",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.onAddGroupBlack({select_id:e.$store.state.group.groupInfo.gid,select_name:e.$data.select_name}),e.$message({type:"success",message:"加入群黑名单成功"})}).catch(function(){})},openRemoveGroupUser:function(){var e=this;this.$confirm("确认操作: 从本群移除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.onRemoveGroupUser({select_id:e.$store.state.group.groupInfo.gid,select_name:e.$data.select_name}),e.$message({type:"success",message:"移除成员成功"})}).catch(function(){})}}),components:{GetGroupSetting:ie}},se={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{staticStyle:{"margin-top":"95px","list-style-type":"none"},attrs:{title:"群组信息",modal:!0,"append-to-body":!0,visible:e.showGroupInfoModel,lable:"rtl",size:"350px",wrapperClosable:!0},on:{"update:visible":function(t){e.showGroupInfoModel=t}}},[n("div",{staticClass:"info-modal"},[n("div",[n("div",[n("i",{staticClass:"groInfoName"},[e._v("群组名称")])]),e._v(" "),n("span",{staticClass:"groupName"},[e._v(e._s(e.groupinfoList.name))])]),e._v(" "),n("div",{staticClass:"memberBox"},[n("div",[n("span",{staticClass:"groInfoName"},[e._v("群组成员")])]),e._v(" "),n("div",{staticClass:"info-user"},[n("div",[e._l(e.groupinfoList.members.filter(function(e){if(!e.owner)return e}),function(t,r){return n("div",{key:r,staticClass:"listItem",attrs:{id:"index"},on:{click:function(n){return e.select(t)}}},[t.owner?e._e():n("span",{staticClass:"info-name"},[e._v(e._s(t.member))]),e._v(" "),t.owner||!e.adminList.includes(e.username)&&e.groupinfoList.admin!=e.username||e.username==t.member?e._e():n("span",{staticClass:"info-icon"},[n("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:!e.adminList.includes(t.member)&&e.groupinfoList.admin==e.username,expression:"!adminList.includes(item.member)&&groupinfoList.admin == username"}],staticClass:"item",attrs:{effect:"dark",content:e.setAdminIcon,placement:"bottom-start"}},[n("i",{staticClass:"el-icon-top",on:{click:e.openSetAdmin}})]),e._v(" "),n("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.adminList.includes(t.member)&&e.groupinfoList.admin==e.username,expression:"adminList.includes(item.member)&&groupinfoList.admin == username"}],staticClass:"item",attrs:{effect:"dark",content:e.removeAdminIcon,placement:"bottom-start"}},[n("i",{staticClass:"el-icon-bottom",on:{click:e.openRemoveAdmin}})]),e._v(" "),n("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:0==e.muteList.filter(function(e){return e.user==t.member}).length,expression:"muteList.filter((muteItem)=>{ return muteItem.user == item.member }).length == 0"}],staticClass:"item",attrs:{effect:"dark",content:e.setMute,placement:"bottom-start"}},[n("i",{staticClass:"el-icon-lock",on:{click:e.openSetMute}})]),e._v(" "),n("el-tooltip",{directives:[{name:"show",rawName:"v-show",value:0!=e.muteList.filter(function(e){return e.user==t.member}).length,expression:"muteList.filter((muteItem)=>{ return muteItem.user == item.member }).length != 0"}],staticClass:"item",attrs:{effect:"dark",content:e.removeMute,placement:"bottom-start"}},[n("i",{staticClass:"el-icon-unlock",on:{click:e.openRemoveMute}})]),e._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.setBlack,placement:"bottom-start"}},[n("i",{staticClass:"el-icon-warning-outline",on:{click:e.openGroupBlack}})]),e._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.setRemove,placement:"bottom-start"}},[n("i",{staticClass:"el-icon-circle-close",on:{click:e.openRemoveGroupUser}})])],1)])}),e._v(" "),n("div",{staticClass:"listItem"},[e._v(e._s(e.groupinfoList.admin))])],2)])])]),e._v(" "),n("GetGroupSetting",{ref:"groupSettingModel",on:{closeGroupSet:e.closeGroupSet}})],1)},staticRenderFns:[]};var ae=n("VU/8")(oe,se,!1,function(e){n("UWxu")},"data-v-90090960",null).exports,ce={data:function(){return{activedKey:{contact:"",group:"",chatroom:""},headPortraitImg:n("SYEH"),showFirendMenus:!1,firendMenus:[{name:"加入黑名单",id:"1",icon:"add-o"},{name:"删除好友",id:"2",icon:"delete"}],message:"",isHttps:"https:"===window.location.protocol,loadText:"加载更多",status:{sending:"发送中",sent:"已发送",read:"已读"},isCollapse:!0,unRead:""}},beforeMount:function(){var e=this;"contact"===this.type?setTimeout(function(){e.onGetFirendBlack(),e.onGetContactUserList()},100):"group"===this.type?this.onGetGroupUserList():"chatroom"===this.type&&this.onGetChatroomUserList()},mounted:function(){var e=this.$store.state.friendModule.blackList;this.$store.commit("changeUserList",e)},updated:function(){this.scollBottom()},computed:o()({},Object(C.c)({contact:"onGetContactUserList",group:"onGetGroupUserList",chatroom:"onGetChatroomUserList",msgList:"onGetCurrentChatObjMsg"}),{userList:function(){var e=this;return{contact:this.contact.filter(function(t){if(t&&!e.blackList.includes(t.name))return t}),group:this.group,chatroom:this.chatroom}},blackList:function(){return L()(this.$store.state.friendModule.blackList)},chatList:function(){return this.$store.state.chat.msgList},selectedKeys:function(){return[this.getKey(this.activedKey[this.type])||""]}}),props:["type","username","select","card"],methods:o()({},Object(C.b)(["onGetContactUserList","onGetGroupUserList","onGetChatroomUserList","onGetCurrentChatObjMsg","onSendText","onCallVideo","onCallVoice","getGroupMembers","getHistoryMessage","onAddBlack","onDelteFirend","onGetGroupinfo","recallMessage","onGetGroupBlack","onGetFirendBlack","onGetAllFriendsInfo"]),{handleOpen:function(e,t){},handleClose:function(e,t){},getKey:function(e){var t="";switch(this.type){case"contact":t=e.name;break;case"group":t=e.groupid;break;case"chatroom":t=e.id}return t},alertPersaonCard:function(e){e.friendDetail&&this.card.getOthersUserInfo(e)},getUnreadNum:function(e){var t=this.$route,n=t.name,r=(t.params,this.chatList[n]),i="";if("contact"==n)i=e.name;else{if("group"!=n)return i=e.id,0;i=e.groupid}var o=0;return(r[i]||[]).forEach(function(e){"read"===e.status||"recall"===e.status||e.bySelf||o++}),o},select2:function(e,t){this.$data.selectedKeys=[t],this.select(e),this.$data.activedKey[this.type]=e},loadMoreMsgs:function(){var e=this,t="",n=!1;"contact"===this.type?t=this.$data.activedKey[this.type].name:"group"===this.type?(t=this.$data.activedKey[this.type].groupid,n=!0):"chatroom"===this.type&&(t=this.$data.activedKey[this.type].id,n=!0),this.getHistoryMessage({name:t,isGroup:n,success:function(t){0===t.length&&(e.$data.loadText="已无更多数据")}})},changeMenus:function(){"contact"===this.type?this.$data.showFirendMenus=!this.$data.showFirendMenus:"group"===this.type&&(this.$refs.groupInfoModel.chengeInfoModel(),this.getGroupInfo())},getGroupInfo:function(){this.onGetGroupinfo({select_id:this.$data.activedKey[this.type].groupid})},onSendTextMsg:function(){this.onSendText({chatType:this.type,chatId:this.$data.activedKey[this.type],message:this.$data.message}),this.$data.message=""},selectEmoji:function(e){this.$data.message=e,this.$refs.txtDom.focus()},customEmoji:function(e){return'<img src="../../../static/faces/'+e+'" style="width:20px"/>'},renderTxt:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],n=null,r=/(\[.*?\])/g,i=0,o=0;n=r.exec(e);){if((o=n.index)>i&&t.push(e.substring(i,o)),n[1]in emoji.obj){var s=emoji.obj[n[1]];t.push(this.customEmoji(s))}else t.push(n[1]);i=o+n[1].length}return t.push(e.substring(i,e.length)),t.toString().replace(/,/g,"")},callVideo:function(){if("contact"==this.type){this.$refs.emediaModal.showEmediaModal(),this.$refs.emediaModal.showCallerWait(this.$data.activedKey[this.type].name);var e=JSON.parse(localStorage.getItem("videoSetting")),t=e&&e.recMerge||!1,n=e&&e.rec||!1;this.onCallVideo({chatType:this.type,to:this.$data.activedKey[this.type].name,rec:n,recMerge:t})}else"group"==this.type&&(this.getGroupMembers(this.$data.activedKey[this.type].groupid),this.$refs.addAvMembertModal.show())},callVoice:function(){this.$refs.emediaModal.showEmediaModal(),this.$refs.emediaModal.showCallerWait(this.$data.activedKey[this.type].name);var e=JSON.parse(localStorage.getItem("videoSetting")),t=e&&e.recMerge||!1,n=e&&e.rec||!1;this.onCallVoice({chatType:this.type,to:this.$data.activedKey[this.type].name,rec:n,recMerge:t})},readablizeBytes:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(t))).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB"][t]},renderTime:function(e){var t=new Date(parseInt(e)),n=(t.getFullYear(),t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1),r=t.getDate()<10?"0"+t.getDate():t.getDate(),i=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();t.getSeconds(),t.getSeconds();return n+"-"+r+" "+i+":"+o},getLastMsg:function(e){var t=this.$route,n=t.name,r=(t.params,this.chatList[n]["contact"==n?e.name:"group"==n?e.groupid:e.id]||[]),i="",o=r.length&&r[r.length-1].type;return r.length&&(i="img"===o?"[image]":"file"===o?r[r.length-1].filename:"audio"===o?"[audio]":"vidio"===o?"[vidio]":r[r.length-1].msg),{lastMsg:i,msgTime:r.length?this.renderTime(r[r.length-1].time):""}},scollBottom:function(){var e=this;setTimeout(function(){var t=e.$refs.msgContent;t&&(t.scrollTop=t.scrollHeight)},0)},handleCommand:function(e){var t="";"contact"===this.type?t=this.$data.activedKey[this.type].name:"group"===this.type?t=this.$data.activedKey[this.type].groupid:"chatroom"===this.type&&(t=this.$data.activedKey[this.type].id),this.recallMessage({to:t,message:e})}})},ue={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"userlist"},[n("a-menu",{staticStyle:{width:"100%","border-right":"0"},attrs:{mode:"vertical",selectedKeys:e.selectedKeys}},e._l(e.userList[e.type],function(t){return n("a-menu-item",{key:e.getKey(t),staticStyle:{height:"80px",position:"relative",textAlign:"left",borderBottom:"1px solid #eee",margin:"0"},on:{click:function(n){e.select2(t,e.getKey(t))}}},[t.friendDetail?n("div",[n("img",{staticClass:"friend_portrait",attrs:{src:t.friendDetail.avatarurl?t.friendDetail.avatarurl:e.headPortraitImg,alt:""},on:{click:function(n){return e.alertPersaonCard(t)}}}),e._v(" "),n("span",{staticClass:"custom-title"},[e._v(e._s(t.friendDetail.nickname||t.name))])]):e._e(),e._v(" "),t.friendDetail?e._e():n("span",{staticClass:"custom-title"},[e._v(e._s(t.name))]),e._v(" "),0!=e.getUnreadNum(t)?n("div",{staticClass:"icon-style"},[n("span",{staticClass:"unreadNum"},[e._v(e._s(e.getUnreadNum(t)))])]):e._e(),e._v(" "),n("span",{staticClass:"time-style",staticStyle:{float:"right"}},[e._v(e._s(e.getLastMsg(t).msgTime))]),e._v(" "),n("div",[e._v(e._s(e.getLastMsg(t).lastMsg))])])}),1)],1)},staticRenderFns:[]};var de=n("VU/8")(ce,ue,!1,function(e){n("g3oB")},"data-v-27fe7f05",null).exports,le=n("Nx5R"),fe=n.n(le),pe={data:function(){return{emojiList:fe.a.obj,currentEmoji:"",showModal:!1}},methods:{selectEmoji:function(e){var t=(this.inpMessage||"")+e;this.$data.showModal=!1,this.$emit("selectEmoji",t)}},props:{inpMessage:String}},he={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("el-popover",{ref:"popover5",attrs:{placement:"top-start",width:"360"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},e._l(e.emojiList,function(t,i){return r("img",{key:i,staticClass:"img-style",attrs:{src:n("PtD/")("./"+t)},on:{click:function(t){return e.selectEmoji(i)}}})}),0),e._v(" "),r("van-icon",{directives:[{name:"popover",rawName:"v-popover:popover5",arg:"popover5"}],attrs:{name:"smile-o",size:"20",color:"rgba(0, 0, 0, 0.65)"}})],1)},staticRenderFns:[]};var me=n("VU/8")(pe,he,!1,function(e){n("0jOB")},"data-v-648c1f50",null).exports,ve=(window.screen.availWidth>350||window.screen.availWidth,{data:function(){return{image:null}},methods:o()({},Object(C.b)(["sendImgMessage"]),{pictureChange:function(e){var t=this,n="chatroom"==this.type||"groupchat"==this.type,r=S.utils.getFileUrl(e.target);if(!r.filename)return this.$refs.imgDom.value=null,!1;var i={chatType:this.type,chatId:this.chatId,file:r,roomType:n,callback:function(){t.$refs.imgDom.value=null}};this.sendImgMessage(i)},clickFile:function(){var e=this.$refs.imgDom;e&&e.click()},inputRef:function(e){this.image=e}}),props:["type","chatId"]}),_e={render:function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"uploadImage"},on:{click:this.clickFile}},[t("van-icon",{attrs:{name:"photo-o",size:"20",color:"rgba(0, 0, 0, 0.65)"}}),this._v(" "),t("input",{ref:"imgDom",staticClass:"hide",attrs:{type:"file"},on:{change:this.pictureChange}})],1)},staticRenderFns:[]};var ge=n("VU/8")(ve,_e,!1,function(e){n("pgwj")},"data-v-6cdee4b0",null).exports,be={data:function(){return{file:null}},methods:o()({},Object(C.b)(["sendFileMessage"]),{clickFile:function(){var e=this.$refs.imgDom;e&&e.click()},inputRef:function(e){this.file=e},fileChange:function(e){var t=this,n="chatroom"==this.type||"groupchat"==this.type,r=S.utils.getFileUrl(e.target);if(!r.filename)return this.$refs.imgDom.value=null,!1;var i={chatType:this.type,chatId:this.chatId,file:r,roomType:n,callback:function(){t.$refs.imgDom.value=null}};this.sendFileMessage(i)}}),props:["type","chatId"]},ye={render:function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"uploadFile"},on:{click:this.clickFile}},[t("van-icon",{attrs:{name:"notes-o",size:"20",color:"rgba(0, 0, 0, 0.65)"}}),this._v(" "),t("input",{ref:"imgDom",staticClass:"hide",attrs:{type:"file"},on:{change:this.fileChange}})],1)},staticRenderFns:[]};var Ae=n("VU/8")(be,ye,!1,function(e){n("R8aL")},"data-v-36a00601",null).exports;window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var we=function(e,t){(t=t||{}).sampleBits=t.sampleBits||16,t.sampleRate=t.sampleRate||16e3;var n=new AudioContext,r=n.createMediaStreamSource(e),i=n.createScriptProcessor(16384,1,1),o=0,s=function(e,t,n){return e+(t-e)*n},a={size:0,buffer:[],inputSampleRate:n.sampleRate,inputSampleBits:16,outputSampleRate:t.sampleRate,outputSampleBits:t.sampleBits,input:function(e){this.buffer.push(new Float32Array(e)),this.size+=e.length},compress:function(){for(var e=new Float32Array(this.size),t=0,n=0;n<this.buffer.length;n++)e.set(this.buffer[n],t),t+=this.buffer[n].length;return function(e,t,n){var r=Math.round(e.length*(t/n)),i=new Array,o=new Number((e.length-1)/(r-1));i[0]=e[0];for(var a=1;a<r-1;a++){var c=a*o,u=new Number(Math.floor(c)).toFixed(),d=new Number(Math.ceil(c)).toFixed(),l=c-u;i[a]=s(e[u],e[d],l)}return i[r-1]=e[e.length-1],i}(e,this.outputSampleRate,this.inputSampleRate)},encodeWAV:function(){var e=Math.min(this.inputSampleRate,this.outputSampleRate),t=Math.min(this.inputSampleBits,this.outputSampleBits),n=this.compress(),r=n.length*(t/8),i=new ArrayBuffer(44+r),o=new DataView(i),s=0,a=function(e){for(var t=0;t<e.length;t++)o.setUint8(s+t,e.charCodeAt(t))};if(a("RIFF"),s+=4,o.setUint32(s,36+r,!0),s+=4,a("WAVE"),s+=4,a("fmt "),s+=4,o.setUint32(s,16,!0),s+=4,o.setUint16(s,1,!0),s+=2,o.setUint16(s,1,!0),s+=2,o.setUint32(s,e,!0),s+=4,o.setUint32(s,1*e*(t/8),!0),s+=4,o.setUint16(s,t/8*1,!0),s+=2,o.setUint16(s,t,!0),s+=2,a("data"),s+=4,o.setUint32(s,r,!0),s+=4,8===t)for(var c=0;c<n.length;c++,s++){var u=(d=Math.max(-1,Math.min(1,n[c])))<0?32768*d:32767*d;u=parseInt(255/(65535/(u+32768))),o.setInt8(s,u,!0)}else for(c=0;c<n.length;c++,s+=2){var d=Math.max(-1,Math.min(1,n[c]));o.setInt16(s,d<0?32768*d:32767*d,!0)}return new Blob([o],{type:"audio/wav"})}};this.start=function(){r.connect(i),i.connect(n.destination)},this.isEmptyData=function(e){for(var t=Math.floor(e.length/10),n=0,r=0;r<t;r++)n+=Math.abs(e[10*r]);if(0,n<10){if(++o>10)return console.log("stoped"),!0}else o=0;return!1},this.stop=function(){"running"===n.state&&n.close(),i.disconnect()},this.getBlob=function(){return this.stop(),a.encodeWAV()},this.play=function(e){e.src=window.URL.createObjectURL(this.getBlob())},i.onaudioprocess=function(e){a.input(e.inputBuffer.getChannelData(0))}};we.setErrorInfoText=function(e){we.errorMessage=e},we.canRecording=null!=navigator.getUserMedia,we.get=function(e,t){e&&(navigator.getUserMedia?navigator.getUserMedia({audio:!0},function(n){var r=new we(n,t);e(r,n)},function(e){switch(e.code||e.name){case"PERMISSION_DENIED":case"PermissionDeniedError":p.Message.error("用户拒绝提供信息。");break;case"NOT_SUPPORTED_ERROR":case"NotSupportedError":p.Message.error("浏览器不支持硬件设备。");break;case"MANDATORY_UNSATISFIED_ERROR":case"MandatoryUnsatisfiedError":p.Message.error("无法发现指定的硬件设备。");break;default:p.Message.error("当前浏览器不支持录音功能。(建议使用Chrome)")}}):p.Message.error("当前浏览器不支持录音功能。"))};var Se=we,Ce={data:function(){return{form:{time:"按住说话(60秒)",audioUrl:""},num:60,recorder:null,mediaStream:null,interval:"",audioFileList:[],startTime:"",endTime:"",audioSrc:"",randomheight:[30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30],runAnimation:!1,recoderVisible:!1}},methods:o()({},Object(C.b)(["sendRecorder"]),{clearTimer:function(){this.interval&&(this.num=60,clearInterval(this.interval))},onRandom:function(){var e=this,t=this.randomheight.concat([]),n=0;if(this.$data.randomheight=t,this.runAnimation){for(;n<this.randomheight.length;n++)t[n]=60*Math.random().toFixed(2)+10;setTimeout(function(){e.onRandom()},500)}},hide:function(){this.recoderVisible=!1},show:function(){this.recoderVisible=!0},mouseStart:function(e){var t=this;e.preventDefault(),this.$data.runAnimation=!0,this.onRandom(),this.clearTimer(),this.startTime=(new Date).getTime(),Se.get(function(e,n){e&&n&&(t.flag?(t.mouseEnd(),t.flag=!1):(t.recorder=e,t.mediaStream=n,t.interval=setInterval(function(){t.num<=0?(t.mediaStream.getAudioTracks()[0].stop(),t.recorder.stop(),t.num=60,t.clearTimer()):(t.num--,t.time="松开结束（"+t.num+"秒）",t.recorder.start())},1e3)))})},mouseEnd:function(e){if(this.$data.runAnimation=!1,this.$data.randomheight=this.randomheight.map(function(e){return 30}),this.hide(),this.clearTimer(),this.endTime=(new Date).getTime(),this.recorder&&this.mediaStream){this.mediaStream.getAudioTracks()[0].stop(),this.recorder.stop(),this.num=60,this.time="按住说话（"+this.num+"秒）";var t=this.recorder.getBlob();if("audio"===e){this.$data.audioSrc=WebIM.utils.parseDownloadResponse.call(WebIM.conn,t);var n=Vue.$route,r=n.name,i=n.params,o={url:WebIM.utils.parseDownloadResponse.call(WebIM.conn,t),filename:"audio",filetype:"audio",data:t};this.sendRecorder({type:r,useId:i.id,file:o})}}}})},Ie={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a-modal",{attrs:{title:null,closable:!1,width:"0",centered:"",footer:null},model:{value:e.recoderVisible,callback:function(t){e.recoderVisible=t},expression:"recoderVisible"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.recoderVisible,expression:"recoderVisible"}],staticClass:"recoder"},[n("div",{staticClass:"sound-waves"},e._l(e.randomheight,function(e,t){return n("div",{key:t,staticClass:"wavesItem",style:{height:e+"px"}})}),0),e._v(" "),n("div",{staticClass:"tipText"},[e._v("按住开始录音")]),e._v(" "),n("a-button",{staticClass:"holdBtn",attrs:{type:"primary"},on:{touchstart:e.mouseStart,touchend:function(t){return e.mouseEnd("audio")},mousedown:function(t){return t.preventDefault(),e.mouseStart(t)},mouseup:function(t){return t.preventDefault(),e.mouseEnd("audio")}}},[n("svg",{staticClass:"icon microphone",attrs:{t:"1571062524943",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2945",width:"200",height:"200"}},[n("path",{attrs:{d:"M714 605.9v-338c0-111.4-90.6-202-202-202s-202 90.6-202 202v338c0 104.6 80 190.9 182 201v111.2H379c-11 0-20 9-20 20s9 20 20 20h266c11 0 20-9 20-20s-9-20-20-20H532V806.9c102-10.1 182-96.4 182-201z m-202-500c89.3 0 162 72.7 162 162v318H350v-318c0-89.4 72.7-162 162-162z m-160.8 520h321.5c-9.9 79.9-78.2 142-160.8 142s-150.8-62.1-160.7-142z",fill:"#565656","p-id":"2946"}}),n("path",{attrs:{d:"M455.4 193.8m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2947"}}),n("path",{attrs:{d:"M455.4 303.5m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2948"}}),n("path",{attrs:{d:"M455.4 413.2m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2949"}}),n("path",{attrs:{d:"M455.4 522.9m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2950"}}),n("path",{attrs:{d:"M398.9 248.7m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2951"}}),n("path",{attrs:{d:"M398.9 358.4m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2952"}}),n("path",{attrs:{d:"M398.9 468.1m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2953"}}),n("path",{attrs:{d:"M512 248.7m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2954"}}),n("path",{attrs:{d:"M512 358.4m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2955"}}),n("path",{attrs:{d:"M512 468.1m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2956"}}),n("path",{attrs:{d:"M568.6 193.8m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2957"}}),n("path",{attrs:{d:"M568.6 303.5m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2958"}}),n("path",{attrs:{d:"M568.6 413.2m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2959"}}),n("path",{attrs:{d:"M568.6 522.9m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2960"}}),n("path",{attrs:{d:"M625.1 248.7m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2961"}}),n("path",{attrs:{d:"M625.1 358.4m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2962"}}),n("path",{attrs:{d:"M625.1 468.1m-18.4 0a18.4 18.4 0 1 0 36.8 0 18.4 18.4 0 1 0-36.8 0Z",fill:"#565656","p-id":"2963"}})])])],1)]),e._v(" "),n("div",{staticClass:"wrap"},[n("i",{staticClass:"el-icon-mic",staticStyle:{"font-size":"20px","margin-left":"8px"},on:{click:e.show}})])],1)},staticRenderFns:[]};var xe=n("VU/8")(Ce,Ie,!1,function(e){n("8YGH")},"data-v-6e707b81",null).exports,Me={data:function(){return{activedKey:{contact:"",group:"",chatroom:""},message:"",isHttps:"https:"===window.location.protocol,loadText:"加载更多",status:{sending:"发送中",sent:"已发送",read:"已读"},nowIsVideo:!1}},beforeMount:function(){"contact"===this.type?this.onGetContactUserList():"group"===this.type?this.onGetGroupUserList():"chatroom"===this.type&&this.onGetChatroomUserList()},updated:function(){this.scollBottom()},computed:o()({},Object(C.c)({contact:"onGetContactUserList",group:"onGetGroupUserList",chatroom:"onGetChatroomUserList",msgList:"onGetCurrentChatObjMsg"}),{userList:function(){return{contact:this.contact,group:this.group,chatroom:this.chatroom}},selectedKeys:function(){return[this.getKey(this.activedKey[this.type])||""]}}),props:["type","username","broken","showUserList","hideUserList"],methods:o()({},Object(C.b)(["onGetContactUserList","onGetGroupUserList","onGetChatroomUserList","onGetCurrentChatObjMsg","onSendText","onCallVideo","onCallVoice","getGroupMembers","getHistoryMessage","onAddBlack","onDelteFirend","onGetGroupinfo","recallMessage","onGetGroupBlack"]),{getKey:function(e,t){var n="";switch(t){case"contact":n=e.name;break;case"group":n=e.groupid;break;case"chatroom":n=e.id}return n},getCurrentMsg:function(e){this.onGetCurrentChatObjMsg({type:e,id:this.getKey(this.activedKey[e],e)})},select:function(e){var t=this;this.$data.activedKey[this.type]=e;if(this.$data.loadText="加载更多","group"===this.type)this.$router.push({name:this.type,params:{id:e.groupid}}),this.onGetCurrentChatObjMsg({type:this.type,id:e.groupid}),setTimeout(function(){Vue.$store.commit("updateMessageStatus",{action:"oneUserReadMsgs",readUser:e.groupid}),t.$forceUpdate()},100),this.msgList||this.getHistoryMessage({name:e.groupid,isGroup:!0});else if("contact"===this.type)this.$router.push({name:this.type,params:{id:e.name}}),this.onGetCurrentChatObjMsg({type:this.type,id:e.name}),setTimeout(function(){Vue.$store.commit("updateMessageStatus",{action:"oneUserReadMsgs",readUser:e.name}),t.$forceUpdate()},100),this.msgList||this.getHistoryMessage({name:e.name,isGroup:!1});else if("chatroom"===this.type){var n=this;this.$router.push({name:this.type,params:{id:e.id}}),this.onGetCurrentChatObjMsg({type:this.type,id:e.id}),WebIM.conn.joinChatRoom({roomId:e.id,success:function(){n.msgList||(n.getHistoryMessage({name:e.id,isGroup:!0}),setTimeout(function(){n.$forceUpdate()},100))}})}},loadMoreMsgs:function(){var e=this,t="",n=!1;"contact"===this.type?t=this.$data.activedKey[this.type].name:"group"===this.type?(t=this.$data.activedKey[this.type].groupid,n=!0):"chatroom"===this.type&&(t=this.$data.activedKey[this.type].id,n=!0),this.getHistoryMessage({name:t,isGroup:n,success:function(t){0===t.length&&(e.$data.loadText="已无更多数据")}})},changeMenus:function(){"contact"===this.type||"group"===this.type&&(this.$refs.groupInfoModel.chengeInfoModel(),this.getGroupInfo())},menuClick:function(e){var t=this;switch(this.changeMenus(),e){case"1":this.onAddBlack({userId:this.$data.activedKey[this.type]}),this.$data.activedKey.contact="",this.$router.push({path:"/contact"});break;case"2":this.onDelteFirend({userId:this.$data.activedKey[this.type],callback:function(){t.closeContactMessage()}})}},getGroupInfo:function(){this.onGetGroupinfo({select_id:this.$data.activedKey[this.type].groupid})},onSendTextMsg:function(){""!=this.$data.message&&"\n"!=this.$data.message?(this.onSendText({chatType:this.type,chatId:this.$data.activedKey[this.type],message:this.$data.message}),this.$data.message=""):this.$data.message=""},selectEmoji:function(e){this.$data.message=e,this.$refs.txtDom.focus()},customEmoji:function(e){return'<img src="../../../static/faces/'+e+'" style="width:20px"/>'},renderTxt:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],n=null,r=/(\[.*?\])/g,i=0,o=0;n=r.exec(e);){if((o=n.index)>i&&t.push(e.substring(i,o)),n[1]in fe.a.obj){var s=fe.a.obj[n[1]];t.push(this.customEmoji(s))}else t.push(n[1]);i=o+n[1].length}return t.push(e.substring(i,e.length)),t.toString().replace(/,/g,"")},callVideo:function(){if("contact"==this.type){var e=this.$data.activedKey[this.type].name;this.$emit("EmediaModalFun",[e],1)}else if("group"==this.type){this.getGroupMembers(this.$data.activedKey[this.type].groupid);this.$emit("show_add_member_modal")}},callVoice:function(){var e=this.$data.activedKey[this.type].name;this.$emit("EmediaModalFun",[e],0)},readablizeBytes:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(t))).toFixed(2)+" "+["Bytes","KB","MB","GB","TB","PB"][t]},renderTime:function(e){var t=new Date(parseInt(e)),n=(t.getFullYear(),t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1),r=t.getDate()<10?"0"+t.getDate():t.getDate(),i=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();t.getSeconds(),t.getSeconds();return n+"-"+r+" "+i+":"+o},getLastMsg:function(e){var t=this.$route,n=t.name,r=(t.params,this.$store.state.chat.msgList[n]["contact"==n?e.name:"group"==n?e.groupid:e.id]||[]);return{lastMsg:r.length?r[r.length-1].msg:"",msgTime:r.length?this.renderTime(r[r.length-1].time):""}},scollBottom:function(){var e=this;setTimeout(function(){var t=e.$refs.msgContent;t&&(t.scrollTop=t.scrollHeight)},0)},handleCommand:function(e){var t="";"contact"===this.type?t=this.$data.activedKey[this.type].name:"group"===this.type?t=this.$data.activedKey[this.type].groupid:"chatroom"===this.type&&(t=this.$data.activedKey[this.type].id),this.recallMessage({to:t,message:e})},closeGroupMessage:function(){this.$data.activedKey.group=""},closeContactMessage:function(){this.$data.activedKey.contact=""}}),components:{ChatEmoji:me,UpLoadImage:ge,UpLoadFile:Ae,GetGroupInfo:ae,RecordAudio:xe}},Ee={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.activedKey[e.type],expression:"activedKey[type] != ''"}],staticClass:"messagebox"},[n("div",{staticClass:"messagebox-header"},[n("div",[n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.broken,expression:"broken"}],staticClass:"user-goback",attrs:{type:"left"},on:{click:e.showUserList}}),e._v(" "),e.activedKey[e.type].friendDetail?n("span",[e._v(e._s(e.activedKey[e.type].friendDetail.nickname?e.activedKey[e.type].friendDetail.nickname:e.activedKey[e.type].name))]):n("span",[e._v(e._s(e.activedKey[e.type].name+"    "+(e.activedKey[e.type].groupid||"")))]),e._v(" "),"group"==e.type?n("a-icon",{staticClass:"user-ellipsis",attrs:{type:"ellipsis"},on:{click:e.changeMenus}}):"contact"==e.type?n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link user-ellipsis",attrs:{href:"#"},on:{click:e.changeMenus}},[n("a-icon",{attrs:{type:"ellipsis"}})],1),e._v(" "),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{on:{click:function(t){return e.menuClick("1")}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("加入黑名单")])]),e._v(" "),n("a-menu-item",{on:{click:function(t){return e.menuClick("2")}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("删除好友")])])],1)],1):e._e()],1)]),e._v(" "),n("div",{ref:"msgContent",staticClass:"messagebox-content"},[n("div",{staticClass:"moreMsgs",on:{click:e.loadMoreMsgs}},[e._v(e._s(e.loadText))]),e._v(" "),e._l(e.msgList,function(t,r){return n("div",{key:r,staticClass:"message-group",style:{float:t.bySelf?"right":"left"}},[n("h4",{staticStyle:{"text-align":"left",margin:"0"}},[e._v(e._s(t.from))]),e._v(" "),"recall"==t.status?n("div",{staticClass:"recallMsg"},[e._v("\n        "+e._s(t.msg)+"\n      ")]):e._e(),e._v(" "),"recall"==t.status?n("div",{staticClass:"recallMsg"},[e._v("\n        "+e._s(e.renderTime(t.time))+"\n      ")]):n("a-dropdown",{style:{float:t.bySelf?"right":"left"},attrs:{trigger:["contextmenu"],disabled:!t.bySelf}},[n("span",{staticStyle:{"user-select":"none"}},["img"===t.type?n("img",{key:t.msg,staticClass:"img-style",attrs:{src:t.msg?t.msg:""}}):"file"===t.type?n("div",{staticClass:"file-style",style:{float:t.bySelf?"right":"left"}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("div",{staticStyle:{padding:"14px"}},[n("h2",[e._v("文件")]),e._v(" "),n("span",[n("h3",[e._v(e._s(t.filename))])]),e._v(" "),n("div",{staticClass:"bottom clearfix"},[n("span",[e._v(e._s(e.readablizeBytes(t.file_length)))]),e._v(" "),n("a",{attrs:{href:t.msg,download:t.filename}},[e._v("点击下载")])])])])],1):"audio"===t.type?n("div",{style:{float:t.bySelf?"right":"left"}},[n("audio",{attrs:{src:t.msg,controls:""}})]):"video"===t.type?n("div",[n("video",{attrs:{src:t.msg,width:"100%",controls:""}})]):n("p",{class:{byself:t.bySelf},staticStyle:{"user-select":"text"},domProps:{innerHTML:e._s(e.renderTxt(t.msg))}})]),e._v(" "),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(n){return e.handleCommand(t)}}},[e._v("撤回")])],1)],1),e._v(" "),"recall"!==t.status?n("div",{staticClass:"time-style",style:{"text-align":t.bySelf?"right":"left"}},[e._v("\n        "+e._s(e.renderTime(t.time))+"\n        "+e._s(t.bySelf?e.status[t.status]:"")+"\n      ")]):e._e()],1)})],2),e._v(" "),n("div",{staticClass:"messagebox-footer"},[n("div",{staticClass:"footer-icon"},[n("ChatEmoji",{attrs:{inpMessage:e.message},on:{selectEmoji:e.selectEmoji}}),e._v(" "),n("UpLoadImage",{attrs:{type:this.type,chatId:e.activedKey[e.type]}}),e._v(" "),n("UpLoadFile",{attrs:{type:this.type,chatId:e.activedKey[e.type]}}),e._v(" "),n("RecordAudio",{directives:[{name:"show",rawName:"v-show",value:e.isHttps,expression:"isHttps"}]}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.isHttps&&"chatroom"!=e.type,expression:"isHttps && type != 'chatroom'"}],staticClass:"el-icon-video-camera icon",style:e.nowIsVideo?"pointer-events: none":"cursor: pointer",on:{click:e.callVideo}}),e._v(" "),"contact"===e.type?n("i",{directives:[{name:"show",rawName:"v-show",value:e.isHttps&&"chatroom"!=e.type,expression:"isHttps && type != 'chatroom'"}],staticClass:"el-icon-microphone icon",style:e.nowIsVideo?"pointer-events: none":"cursor: pointer",on:{click:e.callVoice}}):e._e()],1),e._v(" "),n("div",{staticClass:"fotter-send"},[n("a-input",{ref:"txtDom",staticClass:"sengTxt",staticStyle:{resize:"none"},attrs:{equired:"",placeholder:"消息"},on:{pressEnter:e.onSendTextMsg},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),void 0],2)]),e._v(" "),n("GetGroupInfo",{ref:"groupInfoModel",on:{closeGroupMessage:e.closeGroupMessage}})],1)},staticRenderFns:[]};var Te=n("VU/8")(Me,Ee,!1,function(e){n("ecjX")},"data-v-54ec54ce",null).exports,Re={data:function(){return{form:{name:""},showAddFriendModal:!1}},computed:{},methods:o()({},Object(C.b)(["addfirend"]),{changeModal:function(){this.$data.showAddFriendModal=!this.$data.showAddFriendModal},submitValue:function(){var e={id:this.form.name,params:this.$route.query.username};this.changeModal(),this.addfirend(e),this.$message.success("已发送请求"),this.$data.form.name=""}})},ke={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"添加好友"},on:{ok:e.submitValue,cancel:function(t){e.showAddFriendModal=!1}},model:{value:e.showAddFriendModal,callback:function(t){e.showAddFriendModal=t},expression:"showAddFriendModal"}},[n("el-form",{attrs:{model:e.form}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.showAddFriendModal=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.submitValue}},[e._v("确 定")])],1)],1)},staticRenderFns:[]},Oe=n("VU/8")(Re,ke,!1,null,null,null).exports,Pe={data:function(){return{showRequestFriendModal:this.$store.state.friendModule.friendRequest.isShow}},computed:{isShowFriendRequest:function(){return this.$store.state.friendModule.friendRequest.isShow}},methods:o()({},Object(C.b)(["acceptSubscribe","declineSubscribe"]),{changeModal:function(){this.$store.state.friendModule.friendRequest.isShow=!this.$store.state.friendModule.friendRequest.isShow},acceptSubmit:function(){var e=this.$store.state.friendModule.friendRequest.from;this.acceptSubscribe(e),this.changeModal()},refusedClick:function(){var e={id:this.$store.state.friendModule.friendRequest.from,params:this.$route.query.username};this.declineSubscribe(e),this.changeModal()}})},je={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{attrs:{title:"请求添加好友",visible:this.isShowFriendRequest}},[n("p",{class:e.$style.p},[e._v(e._s(this.$store.state.friendModule.friendRequest.status))]),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.refusedClick}},[e._v("拒绝")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.acceptSubmit}},[e._v("接受")])],1)])],1)},staticRenderFns:[]};var De=n("VU/8")(Pe,je,!1,function(e){this.$style=n("Bzlm")},null,null).exports,Le=(n("RFSV"),{data:function(){return{showBlackModel:!1}},computed:{fidendList:function(){return this.$store.state.friendModule.blackList}},methods:o()({},Object(C.b)(["onGetFirendBlack","onRemoveBlack"]),{changModel:function(){this.$data.showBlackModel=!this.$data.showBlackModel},select:function(e){var t=e.name;this.onRemoveBlack({removeName:t}),this.onGetFirendBlack()}})}),Be={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"黑名单",footer:null},model:{value:e.showBlackModel,callback:function(t){e.showBlackModel=t},expression:"showBlackModel"}},[n("ul",{staticClass:"black-name"},e._l(e.fidendList,function(t){return n("li",{key:t.name},[e._v("\n\t\t\t"+e._s(t.name)+"\n\t\t\t"),n("label",{staticClass:"icon-x",on:{click:function(n){return e.select(t)}}},[n("i",{staticClass:"el-icon-remove-outline"})])])}),0)])},staticRenderFns:[]};var Ue=n("VU/8")(Le,Be,!1,function(e){n("s/5s")},"data-v-c0ea7538",null).exports,Ne={data:function(){return{select_groupid:"",showGroupModel:!1,showGroupInfoModel:!1,showGroupListModel:!0}},computed:{publicGroupList:function(){return this.$store.state.group.publicGroupList},publicGroupInfo:function(){return this.$store.state.group.groupInfo}},methods:o()({},Object(C.b)(["onGetGroupUserList","onGetPublicGroup","onGetGroupinfo","onJoinGroup"]),{changeGroupModel:function(){this.$data.showGroupModel=!this.$data.showGroupModel,this.$data.showGroupListModel||this.changeGroupListModel(),this.$data.select_groupid="",this.getPublicGroup()},changeGroupListModel:function(){this.$data.showGroupListModel=!this.$data.showGroupListModel,this.$data.showGroupInfoModel=!this.$data.showGroupInfoModel},getPublicGroup:function(){this.onGetPublicGroup()},getGroupinfo:function(){var e=this;this.onGetGroupinfo({select_groupid:this.$data.select_groupid,callback:function(){e.$data.showGroupListModel=!1,e.$data.showGroupInfoModel=!0}})},postJoinGroup:function(){this.onJoinGroup({select_groupid:this.$data.select_groupid}),this.changeGroupModel()},select:function(e){this.$data.select_groupid=e.groupid,this.getGroupinfo()}})},Ve={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"申请入群",footer:null},model:{value:e.showGroupModel,callback:function(t){e.showGroupModel=t},expression:"showGroupModel"}},[n("div",[n("a-input-search",{attrs:{placeholder:"请输入群组ID",enterButton:"搜索"},on:{search:e.getGroupinfo},model:{value:e.select_groupid,callback:function(t){e.select_groupid=t},expression:"select_groupid"}})],1),e._v(" "),1==e.showGroupListModel?n("div",{staticClass:"pubGroup"},e._l(e.publicGroupList,function(t){return n("ul",{key:t.groupid,staticClass:"groupList",attrs:{title:t.groupid},on:{click:function(n){return e.select(t)}}},[e._v(e._s(t.groupname))])}),0):e._e(),e._v(" "),1==e.showGroupInfoModel?n("div",{staticClass:"info"},[n("div",[n("span",{staticClass:"infoTitle"},[e._v("群组名称")]),e._v(" "),n("span",{staticClass:"infoContent"},[e._v(e._s(e.publicGroupInfo.name))])]),e._v(" "),n("div",[n("span",{staticClass:"infoTitle"},[e._v("管理员")]),e._v(" "),n("span",{staticClass:"infoContent"},[e._v(e._s(e.publicGroupInfo.admin))])]),e._v(" "),n("div",[n("span",{staticClass:"infoTitle"},[e._v("简介")]),e._v(" "),n("span",{staticClass:"infoContent"},[e._v(e._s(e.publicGroupInfo.desc||"空"))])]),e._v(" "),n("div",[n("span",{staticClass:"infoTitle"},[e._v("审批")]),e._v(" "),n("span",{staticClass:"infoContent"},[e._v(e._s(e.publicGroupInfo.membersonly?"[Y]":"[N]"))])]),e._v(" "),n("div",[n("div",{staticClass:"groBack",on:{click:e.changeGroupListModel}},[n("i",{staticClass:"el-icon-back"}),e._v(" "),n("i",[e._v("返回")])]),e._v(" "),n("div",{staticClass:"groCreate"},[n("a-button",{attrs:{type:"primary"},on:{click:e.postJoinGroup}},[e._v("申请加群")])],1)])]):e._e()])},staticRenderFns:[]};var Fe=n("VU/8")(Ne,Ve,!1,function(e){n("Uj7k")},null,null).exports,We={data:function(){return{showCreateGroupModel:!1,showCreateModel:!0,showFriendListModel:!1,form:{groName:"",desc:"",radio:"2",radiopom:"2",membersList:[]}}},computed:{firendList:function(){return this.$store.state.chat.userList.contactUserList||[]}},methods:o()({},Object(C.b)(["onCreateGroup"]),{changeCreateModel:function(){this.$data.showCreateGroupModel=!this.$data.showCreateGroupModel,this.$data.showCreateModel||this.chenageCreateModel(),this.$data.form.groName="",this.$data.form.desc=""},chenageCreateModel:function(){this.$data.showCreateModel=!this.$data.showCreateModel,this.$data.showFriendListModel=!this.$data.showFriendListModel},postCreateGroup:function(){this.onCreateGroup({groupname:this.$data.form.groName,desc:this.$data.form.desc,members:this.$data.form.membersList,approval:2!=this.$data.form.radiopom,pub:2==this.$data.form.radio}),this.changeCreateModel()}})},Ge={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"创建群组",footer:null},model:{value:e.showCreateGroupModel,callback:function(t){e.showCreateGroupModel=t},expression:"showCreateGroupModel"}},[1==e.showCreateModel?n("el-form",{attrs:{model:e.form}},[n("div",[n("el-input",{attrs:{placeholder:"群组名称"},model:{value:e.form.groName,callback:function(t){e.$set(e.form,"groName",t)},expression:"form.groName"}})],1),e._v(" "),n("div",{staticClass:"groDesc"},[n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"简介"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),n("div",{staticClass:"groPub"},[n("p",[e._v("群组类型")]),e._v(" "),n("el-radio",{attrs:{label:"1"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("私有群")]),e._v(" "),n("el-radio",{attrs:{label:"2"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("公有群")])],1),e._v(" "),n("div",{staticClass:"groPub"},[n("p",[e._v("加群权限")]),e._v(" "),n("el-radio",{attrs:{label:"1"},model:{value:e.form.radiopom,callback:function(t){e.$set(e.form,"radiopom",t)},expression:"form.radiopom"}},[e._v("审批")]),e._v(" "),n("el-radio",{attrs:{label:"2"},model:{value:e.form.radiopom,callback:function(t){e.$set(e.form,"radiopom",t)},expression:"form.radiopom"}},[e._v("随便加")])],1),e._v(" "),n("div",{staticClass:"groPost"},[n("el-button",{attrs:{type:"success"},on:{click:e.chenageCreateModel}},[e._v("下一步")])],1)]):e._e(),e._v(" "),1==e.showFriendListModel?n("div",[n("div",{staticClass:"groPub"},[n("el-checkbox-group",{model:{value:e.form.membersList,callback:function(t){e.$set(e.form,"membersList",t)},expression:"form.membersList"}},e._l(e.firendList,function(e){return n("li",{key:e.name,staticClass:"friendItem"},[n("el-checkbox",{key:e.name,attrs:{label:e.name}})],1)}),0)],1),e._v(" "),n("div",[n("div",{staticClass:"groBack",on:{click:e.chenageCreateModel}},[n("i",{staticClass:"el-icon-back"}),e._v(" "),n("i",[e._v("返回")])]),e._v(" "),n("div",{staticClass:"groCreate"},[n("el-button",{attrs:{type:"success"},on:{click:e.postCreateGroup}},[e._v("创建群组")])],1)])]):e._e()],1)},staticRenderFns:[]};var Ke=n("VU/8")(We,Ge,!1,function(e){n("ZAw0")},"data-v-07ff3780",null).exports,ze={data:function(){return{recModalVisible:!1,checkList:[]}},methods:{onChange:function(e){this.$data.checkList=e;var t={recMerge:-1!=e.indexOf("recMerge"),rec:-1!=e.indexOf("rec")};localStorage.setItem("videoSetting",j()(t))},show:function(){var e=JSON.parse(localStorage.getItem("videoSetting")),t=[];e&&(t=L()(e).filter(function(t){if(e[t])return t})),this.$data.checkList=t,this.$data.recModalVisible=!0},hide:function(){this.$data.recModalVisible=!1}}},qe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"音视频录制",footer:null},model:{value:e.recModalVisible,callback:function(t){e.recModalVisible=t},expression:"recModalVisible"}},[n("div",[n("el-checkbox-group",{on:{change:e.onChange},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[n("el-checkbox",{staticClass:"checkbox",attrs:{label:"rec"}},[e._v("启用录制")]),e._v(" "),n("el-checkbox",{staticClass:"checkbox",attrs:{label:"recMerge"}},[e._v("启用合并")])],1)],1)])},staticRenderFns:[]};var He=n("VU/8")(ze,qe,!1,function(e){n("EVUP")},null,null).exports,Qe={data:function(){return{showGroupRequestModel:this.$store.state.group.groupNotifications.isShow}},computed:{isShowGroupReques:function(){return this.$store.state.group.groupNotifications}},methods:o()({},Object(C.b)(["onAgreeJoinGroup","onRejectJoinGroup"]),{changeGroupRequestModal:function(){this.$store.state.group.groupNotifications.isShow=!this.$store.state.group.groupNotifications.isShow},AgreeJoinGroup:function(){this.onAgreeJoinGroup({joinName:this.$store.state.group.groupNotifications.from,joinGroupId:this.$store.state.group.groupNotifications.gid}),this.changeGroupRequestModal()},RejectJoinGroup:function(){this.onRejectJoinGroup({joinName:this.$store.state.group.groupNotifications.from,joinGroupId:this.$store.state.group.groupNotifications.gid}),this.changeGroupRequestModal()}})},Ye={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{"text-align":"center"},attrs:{title:"申请入群",visible:this.isShowGroupReques.isShow,footer:null}},[n("p",[e._v(e._s(this.$store.state.group.groupNotifications.from)+"申请入群:"+e._s(this.$store.state.group.groupNotifications.gid))]),e._v(" "),n("div",{staticClass:"btn"},[n("el-button",{on:{click:e.RejectJoinGroup}},[e._v("拒绝")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.AgreeJoinGroup}},[e._v("同意")])],1)])},staticRenderFns:[]};var Je=n("VU/8")(Qe,Ye,!1,function(e){n("JmqS")},"data-v-184059c9",null).exports,Xe={data:function(){return{showInviteModel:this.$store.state.group.groupInviteNotifications.isShow}},computed:{isShowGroupInvite:function(){return this.$store.state.group.groupInviteNotifications}},methods:o()({},Object(C.b)(["onAgreeInviteGroup","onRejectInviteGroup"]),{changeGroupInviteModal:function(){this.$store.state.group.groupInviteNotifications.isShow=!this.$store.state.group.groupInviteNotifications.isShow},AgreeJoinGroup:function(){this.onAgreeInviteGroup({username:localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).userId,inviteGroupId:this.$store.state.group.groupInviteNotifications.gid}),this.changeGroupInviteModal()},RejectJoinGroup:function(){this.onRejectInviteGroup({username:localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).userId,inviteGroupId:this.$store.state.group.groupInviteNotifications.gid}),this.changeGroupInviteModal()}})},Ze={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{staticStyle:{"text-align":"center"},attrs:{title:"加群邀请",visible:this.isShowGroupInvite.isShow,footer:null}},[n("p",[e._v(e._s(this.$store.state.group.groupInviteNotifications.from)+"邀请您加入群组:"+e._s(this.$store.state.group.groupInviteNotifications.gid))]),e._v(" "),n("div",{staticClass:"btn"},[n("el-button",{on:{click:e.RejectJoinGroup}},[e._v("拒绝")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.AgreeJoinGroup}},[e._v("同意")])],1)])},staticRenderFns:[]};var $e=n("VU/8")(Xe,Ze,!1,function(e){n("3Cq4")},"data-v-2b55f3a8",null).exports,et=n("Xxa5"),tt=n.n(et),nt=n("exGp"),rt=n.n(nt),it=(n("sYU0"),{data:function(){return{loginUser:JSON.parse(localStorage.getItem("userInfo")).userId||"",visible:!1,userInfo:null,baseAvatarUrl:"https://download-sdk.oss-cn-beijing.aliyuncs.com/downloads/IMDemo/avatar/",defaultAvatar:n("SYEH"),inputSyle:"width:300px",isShowList:!1,inputInfo:{nickname:{state:!1,value:""},sign:{state:!1,value:""},gender:{state:!1,value:""},birth:{state:!1,value:""},phone:{state:!1,value:""},mail:{state:!1,value:""}},ruler:{birth:/^((19[2-9]\d{1})|(20((0[0-9])|(1[0-8]))))\-((0?[1-9])|(1[0-2]))\-((0?[1-9])|([1-2][0-9])|30|31)$/,mail:/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,phone:/^[1][0-9]{10}$/},isShowFriendsCard:!1}},computed:o()({},Object(C.d)({ownInfo:function(e){return e.login.userDetail}}),{avatarList:function(){for(var e=[],t=0;t<9;t++)e.push(this.baseAvatarUrl+"Image"+(t+1)+".png");return e}}),methods:o()({},Object(C.b)(["updateOwnUserInfo"]),{getOthersUserInfo:function(e){var t=this;return rt()(tt.a.mark(function n(){var r,i;return tt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=e.friendDetail,i=e.name,t.userInfo={friendDetail:r,name:i},t.isShowFriendsCard=!0,t.visible=!0,console.log(">>>>>>>>卡片页",e);case 5:case"end":return n.stop()}},n,t)}))()},commitUserInfo:function(e,t){var n=this;return rt()(tt.a.mark(function r(){var i,o;return tt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("avatarurl"!==e){r.next=3;break}return r.next=3,n.updateOwnUserInfo({infoValue:t,type:e});case 3:if("gender"!==e){r.next=13;break}if(n.inputInfo.gender.state=!n.inputInfo.gender.state,""!==(i=n.inputInfo.gender.value)&&i!=t){r.next=10;break}return r.abrupt("return",!1);case 10:return r.next=12,n.updateOwnUserInfo({infoValue:n.inputInfo.gender.value,type:e});case 12:n.inputInfo.gender.value="";case 13:if("avatarurl"===e||"gender"===e){r.next=35;break}if(!n.inputInfo[e].value){r.next=34;break}o=n.inputInfo[e].value,r.t0=e,r.next="birth"===r.t0?19:"phone"===r.t0?22:"mail"===r.t0?25:28;break;case 19:if(n.ruler.birth.test(o)){r.next=21;break}return r.abrupt("return",n.$message.warning("出生日期格式不合法，请重新输入..."));case 21:return r.abrupt("break",29);case 22:if(n.ruler.phone.test(o)){r.next=24;break}return r.abrupt("return",n.$message.warning("号码格式不合法，请重新输入..."));case 24:return r.abrupt("break",29);case 25:if(n.ruler.mail.test(o)){r.next=27;break}return r.abrupt("return",n.$message.warning("邮箱地址不合法，请重新输入..."));case 27:case 28:return r.abrupt("break",29);case 29:return r.next=31,n.updateOwnUserInfo({infoValue:o,type:e});case 31:n.inputInfo[e].state=!1,o="",r.next=35;break;case 34:n.inputInfo[e].state=!1;case 35:case"end":return r.stop()}},r,n)}))()},initInfoState:function(){var e=this;this.inputInfo.nickname.state=!1,this.inputInfo.sign.state=!1,this.inputInfo.gender.state=!1,this.inputInfo.birth.state=!1,this.inputInfo.phone.state=!1,this.inputInfo.mail.state=!1,setTimeout(function(){e.isShowFriendsCard=!1},300)},showModal:function(){this.visible=!0},handleOk:function(e){this.visible=!1}})}),ot={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"personCard"},[n("a-modal",{attrs:{mask:"",title:e.isShowFriendsCard?"好友名片":"个人名片",footer:null},on:{ok:e.handleOk,cancel:e.initInfoState},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowFriendsCard,expression:"!isShowFriendsCard"}],staticClass:"ownInfo"},[n("div",{staticClass:"avatar_box"},[n("img",{staticClass:"avatar",attrs:{src:e.ownInfo.avatarurl?e.ownInfo.avatarurl:e.defaultAvatar,alt:""},on:{click:function(t){e.isShowList=!e.isShowList}}}),e._v(" "),n("transition",{attrs:{name:"draw"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowList,expression:"isShowList"}],staticClass:"avatar_list"},[n("a-divider",[e._v("自选头像")]),e._v(" "),e._l(e.avatarList,function(t,r){return n("div",{key:r},[n("img",{attrs:{src:t,alt:""},on:{click:function(n){return e.commitUserInfo("avatarurl",t)}}})])})],2)])],1),e._v(" "),n("div",{staticClass:"infoSet nickname_box"},[e._v("\n        昵称：\n        "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.nickname.state,expression:"!inputInfo.nickname.state"}]},[e._v("\n          "+e._s(e.ownInfo.nickname?e.ownInfo.nickname:"暂无昵称")+"\n        ")]),e._v(" "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.nickname.state,expression:"!inputInfo.nickname.state"}],attrs:{type:"edit"},on:{click:function(t){e.inputInfo.nickname.state=!e.inputInfo.nickname.state}}}),e._v(" "),n("a-input-search",{directives:[{name:"show",rawName:"v-show",value:e.inputInfo.nickname.state,expression:"inputInfo.nickname.state"}],style:e.inputSyle,attrs:{placeholder:"请输入新昵称...","enter-button":"确认",size:"small"},on:{search:function(t){return e.commitUserInfo("nickname")}},model:{value:e.inputInfo.nickname.value,callback:function(t){e.$set(e.inputInfo.nickname,"value",t)},expression:"inputInfo.nickname.value"}})],1),e._v(" "),n("div",{staticClass:"infoSet id_box"},[e._v("用户ID："+e._s(e.loginUser))]),e._v(" "),n("div",{staticClass:"infoSet sign_box"},[e._v("\n        个性签名：\n        "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.sign.state,expression:"!inputInfo.sign.state"}]},[e._v("\n          "+e._s(e.ownInfo.sign?e.ownInfo.sign:"无个性，不签名...")+"\n        ")]),e._v(" "),n("a-input-search",{directives:[{name:"show",rawName:"v-show",value:e.inputInfo.sign.state,expression:"inputInfo.sign.state"}],style:e.inputSyle,attrs:{placeholder:"个性签名","enter-button":"确认",size:"small"},on:{search:function(t){return e.commitUserInfo("sign")}},model:{value:e.inputInfo.sign.value,callback:function(t){e.$set(e.inputInfo.sign,"value",t)},expression:"inputInfo.sign.value"}}),e._v(" "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.sign.state,expression:"!inputInfo.sign.state"}],attrs:{type:"edit"},on:{click:function(t){e.inputInfo.sign.state=!e.inputInfo.sign.state}}})],1),e._v(" "),n("div",{staticClass:"infoSet gender_box"},[e._v("\n        性别：\n        "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.gender.state,expression:"!inputInfo.gender.state"}]},[e._v("\n          "+e._s(e.ownInfo.gender?"1"===e.ownInfo.gender?"MR.":"MISS.":"未知")+"\n        ")]),e._v(" "),n("a-radio-group",{directives:[{name:"show",rawName:"v-show",value:e.inputInfo.gender.state,expression:"inputInfo.gender.state"}],attrs:{name:"radioGroup","default-value":0}},[n("a-radio",{attrs:{value:1},on:{click:function(t){e.inputInfo.gender.value="1"}}},[e._v("\n            MR.\n          ")]),e._v(" "),n("a-radio",{attrs:{value:2},on:{click:function(t){e.inputInfo.gender.value="2"}}},[e._v("\n            MISS.\n          ")])],1),e._v(" "),n("a-icon",{attrs:{type:"edit"},on:{click:function(t){return e.commitUserInfo("gender",e.ownInfo.gender)}}})],1),e._v(" "),n("div",{staticClass:"infoSet birth_box"},[e._v("\n        出生日期：\n        "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.birth.state,expression:"!inputInfo.birth.state"}]},[e._v("\n          "+e._s(e.ownInfo.birth?e.ownInfo.birth:"1946-02-14")+"\n        ")]),e._v(" "),n("a-input-search",{directives:[{name:"show",rawName:"v-show",value:e.inputInfo.birth.state,expression:"inputInfo.birth.state"}],style:e.inputSyle,attrs:{placeholder:"格式（2001-12-11）","enter-button":"确认",size:"small"},on:{search:function(t){return e.commitUserInfo("birth")}},model:{value:e.inputInfo.birth.value,callback:function(t){e.$set(e.inputInfo.birth,"value",t)},expression:"inputInfo.birth.value"}}),e._v(" "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.birth.state,expression:"!inputInfo.birth.state"}],attrs:{type:"edit"},on:{click:function(t){e.inputInfo.birth.state=!e.inputInfo.birth.state}}})],1),e._v(" "),n("div",{staticClass:"infoSet phone_box"},[e._v("\n        电话：\n        "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.phone.state,expression:"!inputInfo.phone.state"}]},[e._v("\n          "+e._s(e.ownInfo.phone?e.ownInfo.phone:"电话号码")+"\n        ")]),e._v(" "),n("a-input-search",{directives:[{name:"show",rawName:"v-show",value:e.inputInfo.phone.state,expression:"inputInfo.phone.state"}],style:e.inputSyle,attrs:{placeholder:"请输入电话十位号码","enter-button":"确认",size:"small"},on:{search:function(t){return e.commitUserInfo("phone")}},model:{value:e.inputInfo.phone.value,callback:function(t){e.$set(e.inputInfo.phone,"value",t)},expression:"inputInfo.phone.value"}}),e._v(" "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.phone.state,expression:"!inputInfo.phone.state"}],attrs:{type:"edit"},on:{click:function(t){e.inputInfo.phone.state=!e.inputInfo.phone.state}}})],1),e._v(" "),n("div",{staticClass:"infoSet email_box"},[e._v("\n        邮箱：\n        "),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.mail.state,expression:"!inputInfo.mail.state"}]},[e._v("\n          "+e._s(e.ownInfo.mail?e.ownInfo.mail:"暂无邮箱地址")+"\n        ")]),e._v(" "),n("a-input-search",{directives:[{name:"show",rawName:"v-show",value:e.inputInfo.mail.state,expression:"inputInfo.mail.state"}],style:e.inputSyle,attrs:{placeholder:"111@qq.com","enter-button":"确认",size:"small"},on:{search:function(t){return e.commitUserInfo("mail")}},model:{value:e.inputInfo.mail.value,callback:function(t){e.$set(e.inputInfo.mail,"value",t)},expression:"inputInfo.mail.value"}}),e._v(" "),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.inputInfo.mail.state,expression:"!inputInfo.mail.state"}],attrs:{type:"edit"},on:{click:function(t){e.inputInfo.mail.state=!e.inputInfo.mail.state}}})],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowFriendsCard,expression:"isShowFriendsCard"}],staticClass:"friendInfo"},[e.userInfo?n("div",{staticClass:"friendInfo_box"},[n("div",{staticClass:"avatar_box"},[n("img",{attrs:{src:e.userInfo.friendDetail.avatarurl||e.defaultAvatar,alt:""}})]),e._v(" "),n("div",{staticClass:"nickname"},[e._v("\n        昵称："),n("p",[e._v(e._s(e.userInfo.friendDetail.nickname||"暂无昵称"))])]),e._v(" "),n("div",{staticClass:"id"},[e._v("\n        用户ID："),n("p",[e._v(e._s(e.userInfo.name))])]),e._v(" "),n("div",{staticClass:"sign"},[e._v("\n        个性签名："),n("p",[e._v(e._s(e.userInfo.friendDetail.sign||"无个性，不签名..."))])]),e._v(" "),n("div",{staticClass:"gender"},[e._v("\n        性别："),n("p",[e._v(e._s(e.userInfo.friendDetail.gender?1===e.userInfo.friendDetail.gender?"男":"女":"未知"))])]),e._v(" "),n("div",{staticClass:"birth"},[e._v("\n        出生日期："),n("p",[e._v(e._s(e.userInfo.friendDetail.birth||"未知"))])]),e._v(" "),n("div",{staticClass:"phone"},[e._v("\n        电话："),n("p",[e._v(e._s(e.userInfo.friendDetail.phone||"暂无号码"))])]),e._v(" "),n("div",{staticClass:"email"},[e._v("\n        E-mail："),n("p",[e._v(e._s(e.userInfo.friendDetail.mail||"暂无邮箱地址"))])])]):e._e()])])],1)},staticRenderFns:[]},st=n("VU/8")(it,ot,!1,null,null,null).exports,at=n("Gu7T"),ct=n.n(at),ut=(n("rc/f"),S.rtc),dt=S.AgoraRTC,lt={data:function(){return{aoff:!1,voff:!1,hour:0,minute:0,second:0,span:12,isTalting:[]}},computed:{time:function(){return this.$store.state.agora.callDuration},onJoin:function(){return this.$store.state.agora.callStatus},videos:function(){var e=this.$store.state.agora,t=e.joinedMembers,n=e.invitedMembers;console.log("joinedMembers>>",t,"invitedMembers>>",n);var r=t.concat(n);return console.log("a>>>>>>",r),t.concat(n)}},watch:{onJoin:function(){var e=this.$store.state.agora,t=e.callStatus,n=e.confr;3!==t||n.calleeDevId||this.join()}},mounted:function(){ut.client=dt.createClient({mode:"rtc",codec:"vp8"}),this.addListener(),this.interval();var e=this.$store.state.agora,t=e.joinedMembers,n=e.invitedMembers;e.callStatus,e.confr;t.concat(n).length>4?this.span=6:this.span=12},beforeDestroy:function(){this.intervalID&&clearInterval(this.intervalID)},methods:o()({},Object(C.b)(["updateConfr","setCallStatus","hangup","cancelCall","setCallDuration","getRtctoken","setJoinedMembers","updateJoinedMembers","setInvitedMembers"]),{video_class:function(e){var t="default"+(e?"":"joining");return console.log("newClass>>",t),t},addListener:function(){var e,t=this;ut.client.on("user-published",(e=rt()(tt.a.mark(function e(n,r){var i,o,s,a,c,u;return tt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("有远端画面 -------- "),console.log(n,r),e.next=4,ut.client.subscribe(n,r);case 4:console.log("subscribe success"),i=t.$store.state.agora.joinedMembers,o="",s=!1,i.length>4?t.span=6:t.span=12,i.forEach(function(e,t){console.log("item>>",e),e.name===n.uid&&(s=!0)}),a={},s||(a={name:n.uid,videoElm:"video"+n.uid,type:r,value:n.uid},o="video"+n.uid,t.setJoinedMembers(a)),"video"===r&&(c=n.videoTrack,u=o||i.filter(function(e){return e.name==n.uid})[0].videoElm,setTimeout(function(){c.play(u)},100)),"audio"===r&&n.audioTrack.play();case 14:case"end":return e.stop()}},e,t)})),function(t,n){return e.apply(this,arguments)})),ut.client.on("user-unpublished",function(e,t){console.log("取消发布了")}),ut.client.on("user-left",function(e){console.log("-- 对方已离开 ---",e),t.updateJoinedMembers({name:e.uid});var n=t.$store.state.agora.joinedMembers;n.length<2&&t.hangup(),n.length>4?t.span=6:t.span=12}),ut.client.enableAudioVolumeIndicator(),ut.client.on("volume-indicator",function(e){var n=[].concat(ct()(t.$data.isTalting));e.forEach(function(e,t){if(e.level>1&&!n.includes(e.uid))n.push(e.uid);else if(e.level<1&&n.includes(e.uid)){var r=n.indexOf(e.uid);n.splice(r,1)}}),t.isTalting=n})},join:function(){var e=this;return rt()(tt.a.mark(function t(){var n,r,i,o,s,a,c,u,d,l;return tt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="15cb0d28b87b425ea613fc46f7c9f974",r=e.$store.state.agora.confr,i=S.conn.context.jid.name,o={username:i,channelName:r.channel,appkey:S.conn.appKey},console.log("params>>>>",o),t.next=7,e.getRtctoken(o);case 7:return s=t.sent,a=s.accessToken,t.next=11,ut.client.join(n,r.channel,a,i);case 11:return t.sent,t.next=14,dt.createMicrophoneAudioTrack();case 14:return ut.localAudioTrack=t.sent,t.next=17,dt.createCameraVideoTrack();case 17:return ut.localVideoTrack=t.sent,t.next=20,ut.client.publish([ut.localAudioTrack,ut.localVideoTrack]);case 20:c=e.$store.state.agora,u=c.joinedMembers,d=c.invitedMembers,console.log("joinedMembers>>",u,"invitedMembers>>",d),console.log("publish success! --- "),l="video"+S.conn.context.jid.name,e.setJoinedMembers({videoElm:l,name:i,type:"video"}),setTimeout(function(){ut.localVideoTrack.play(l)},500);case 26:case"end":return t.stop()}},t,e)}))()},closeModal:function(){var e=this;console.log("挂断");var t=this.$store.state.agora,n=t.invitedMembers,r=t.callStatus,i=[].concat(ct()(n));[1,3].includes(r)&&i.forEach(function(t){console.log("members>>",i),e.cancelCall({to:t})}),this.hangup()},interval:function(){var e=this,t=0,n=0,r=0;this.intervalID=setInterval(function(){60===(r+=1)&&(r=0,60===(n+=1)&&(n=0,24==(t+=1)&&(t=0)));var i=e.loadTime(t,n,r);e.setCallDuration(i)},1e3)},loadTime:function(e,t,n){var r=function(e){return e>=0&&e<10?"0"+e:e+""},i=r(e),o=r(t),s=r(n);return"00"==i?o+":"+s:i+":"+o+":"+s},addMember:function(){this.$emit("show_add_member_modal")},open_mic:function(){this.aoff=!1,ut.localAudioTrack.setEnabled(!0)},close_mic:function(){this.aoff=!0,ut.localAudioTrack.setEnabled(!1)},open_camera:function(){this.voff=!1,ut.localVideoTrack.setEnabled(!0)},close_camera:function(){this.voff=!0,ut.localVideoTrack.setEnabled(!1)}}),components:{Draggable:N}},ft={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Draggable",[r("div",{staticClass:"multi-webim-rtc"},[r("el-row",{attrs:{gutter:2}},e._l(e.videos,function(t){return r("el-col",{key:t.name,attrs:{span:e.span}},[r("div",{staticClass:"default",attrs:{id:"video"+t.name}}),e._v(" "),r("div",{staticClass:"user-name"},[r("span",[e._v(e._s(t.name||""))])])])}),1),e._v(" "),r("p",{staticClass:"video-duration"},[e._v(e._s(e.time))]),e._v(" "),r("div",{staticClass:"action-wrap"},[r("div",{staticClass:"tools_p"},[e.aoff?r("img",{attrs:{src:n("ylmy"),alt:""},on:{click:e.open_mic}}):r("img",{attrs:{src:n("AuOP"),alt:""},on:{click:e.close_mic}}),e._v(" "),r("p",[e._v("语音")])]),e._v(" "),r("div",{staticClass:"tools_p"},[r("img",{attrs:{src:n("qCfk"),alt:""},on:{click:e.closeModal}}),e._v(" "),r("p",[e._v("挂断")])]),e._v(" "),r("div",{staticClass:"tools_p"},[e.voff?r("img",{attrs:{src:n("Ei0D"),alt:""},on:{click:e.open_camera}}):r("img",{attrs:{src:n("VF88"),alt:""},on:{click:e.close_camera}}),e._v(" "),r("p",[e._v("视频")])])])],1)])},staticRenderFns:[]},pt=n("VU/8")(lt,ft,!1,null,null,null).exports,ht=n("AuOP"),mt=n.n(ht),vt=n("ylmy"),_t=n.n(vt),gt=S.rtc,bt=S.AgoraRTC,yt={data:function(){return{full_width:360,full_height:360,toggle_right:0,toggle_top:0,toggle_display:"block",close_right:0,close_bottom:0,accept_left:0,accept_bottom:0,accept_display:"block",mute_left:0,mute_bottom:6,hasVideo:!1,localFullRemoteCorner:!0,showCallVal:!1,muteBtnIcon:mt.a,isopen:!0}},computed:{title:function(){var e=S.conn.context.jid.name,t=this.$store.state.agora.confr.callerIMName,n=this.$store.state.agora.confr.calleeIMName;return t==e?n:t},text:function(){return this.$store.state.agora.callStatus>4?"正在通话中...":"正在等待对方接受邀请..."},mute_display:function(){return this.$store.state.agora.callStatus>4?"block":"none"},time:function(){return this.$store.state.agora.callDuration},onSetCallStatus:function(){return this.$store.state.agora.callStatus},video_display:function(){return 1==this.$store.state.agora.confr.type?"block":"none"}},mounted:function(){var e=this.$store.state.agora.callStatus;gt.client=bt.createClient({mode:"rtc",codec:"vp8"}),this.addListener(),5!=e&&3!=e||this.join()},beforeDestroy:function(){console.log("执行卸载"),0!=this.$store.state.agora.callStatus&&this.hangup(),this.intervalID&&clearInterval(this.intervalID)},methods:o()({},Object(C.b)(["updateConfr","setCallStatus","hangup","cancelCall","setCallDuration","getRtctoken"]),{addListener:function(){var e,t=this;gt.client.on("user-published",(e=rt()(tt.a.mark(function e(n,r){var i;return tt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("-- 对方发布流 -- "),e.next=3,gt.client.subscribe(n,r);case 3:"video"===r&&(n.videoTrack.play("remote-player"),t.$data.localFullRemoteCorner=!1),"audio"===r&&(i=n.audioTrack,gt.other=n,i.play());case 5:case"end":return e.stop()}},e,t)})),function(t,n){return e.apply(this,arguments)})),gt.client.on("user-left",function(){console.log("-- 对方已离开 --"),t.hangup()})},join:function(){var e=this;return rt()(tt.a.mark(function t(){var n,r,i,o,s,a,c,u,d;return tt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("执行join"),n=e.$store.state.agora.confr,r=n.channel,n.token,i=n.type,o="15cb0d28b87b425ea613fc46f7c9f974",s=S.conn.context.jid.name,a={username:s,channelName:r,appkey:S.conn.appKey},t.next=8,e.getRtctoken(a);case 8:return c=t.sent,u=c.accessToken,t.next=12,gt.client.join(o,r,u,s);case 12:return t.sent,t.next=15,bt.createMicrophoneAudioTrack();case 15:if(gt.localAudioTrack=t.sent,d=[gt.localAudioTrack],0!==i){t.next=22;break}return t.next=20,gt.client.publish(d);case 20:t.next=29;break;case 22:return t.next=24,bt.createCameraVideoTrack();case 24:return gt.localVideoTrack=t.sent,d.push(gt.localVideoTrack),t.next=28,gt.client.publish(d);case 28:gt.localVideoTrack.play("local-player");case 29:console.log("publish success! --- "),e.interval();case 31:case"end":return t.stop()}},t,e)}))()},close:function(){var e=this;return rt()(tt.a.mark(function t(){var n;return tt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$store.state.agora.confr,gt.localAudioTrack&&gt.localAudioTrack.close(),gt.localVideoTrack&&gt.localVideoTrack.close(),n.callerIMName===S.conn.context.jid.name&&e.cancelCall(),e.hangup(),t.next=7,gt.client.leave();case 7:case"end":return t.stop()}},t,e)}))()},interval:function(){var e=this,t=0,n=0,r=0;this.intervalID=setInterval(function(){60===(r+=1)&&(r=0,60===(n+=1)&&(n=0,24==(t+=1)&&(t=0)));var i=e.loadTime(t,n,r);e.setCallDuration(i)},1e3)},loadTime:function(e,t,n){var r=function(e){return e>=0&&e<10?"0"+e:e+""},i=r(e),o=r(t),s=r(n);return"00"==i?o+":"+s:i+":"+o+":"+s},controlStream:function(e){"audioControl"===e?(this.$refs.audio.isopen?gt.localAudioTrack.setEnabled(!0):gt.localAudioTrack.setEnabled(!1),this.muteBtnIcon=this.$refs.audio.isopen?mt.a:_t.a,this.$refs.audio.isopen=!this.$refs.audio.isopen):(this.$refs.video.isopen?gt.localVideoTrack.setEnabled(!0):gt.localVideoTrack.setEnabled(!1),this.$refs.video.style.color=this.$refs.video.isopen?"#eeeeee":"#4eb1f4",this.$refs.video.isopen=!this.$refs.video.isopen)}}),components:{Draggable:N}},At={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Draggable",{attrs:{id:"drag2"}},[r("div",{ref:"rtc",staticClass:"webim-rtc-video"},[r("div",{staticClass:"rtc-avatar"},[r("img",{attrs:{src:n("UjHD")}})]),e._v(" "),r("div",{staticClass:"rtc-text"},[r("div",[e._v(e._s(e.title))]),e._v(" "),r("div",[e._v(e._s(e.text))])]),e._v(" "),r("div",{staticClass:"rtc-control"},[r("div",{style:{display:e.mute_display}},[r("img",{ref:"audio",attrs:{src:e.muteBtnIcon,isopen:{isopen:e.isopen}},on:{click:function(t){return e.controlStream("audioControl")}}}),e._v(" "),r("p",[e._v("语音")])]),e._v(" "),r("div",[r("p",{staticClass:"rtc-time",style:{display:e.mute_display}},[e._v(e._s(e.time))]),e._v(" "),r("img",{attrs:{src:n("qCfk")},on:{click:e.close}}),e._v(" "),r("p",[e._v("挂断")])])]),e._v(" "),r("div",{ref:"localVideo",staticClass:"video corner",style:{display:e.video_display},attrs:{id:"local-player"}}),e._v(" "),r("div",{ref:"remoteVideo",staticClass:"video full",style:{display:e.video_display},attrs:{id:"remote-player"}})])])},staticRenderFns:[]},wt=n("VU/8")(yt,At,!1,null,null,null).exports,St={data:function(){return{}},computed:{callerIMName:function(){return this.$store.state.agora.confr.callerIMName},text:function(){var e=this.$store.state.agora.confr.type,t=0==e?"语音":1==e?"视频":"多人视频";return t}},methods:o()({},Object(C.b)(["updateConfr","answerCall","setCallStatus","hangup"]),{accept:function(){console.log("同意");this.answerCall({result:"accept"}),this.setCallStatus(5)},refuse:function(){console.log("拒绝"),this.answerCall({result:"refuse"}),console.log("Vue>>",Vue.$store.getters.getAgora),Vue.$store.getters.getAgora.callStatus<7&&this.hangup()}}),components:{},mounted:function(){}},Ct={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"rtc-alert-box"},[r("div",{staticClass:"rtc-alert-item"},[e._m(0),e._v(" "),r("div",{staticClass:"rtc-alert-name"},[e._v(e._s(e.callerIMName))])]),e._v(" "),r("div",{staticClass:"rtc-alert-item"},[r("div",{staticClass:"rtc-alert-text"},[e._v("邀请你"+e._s(e.text)+"通话...")]),e._v(" "),r("div",{staticClass:"rtc-alert-button"},[r("div",[r("img",{attrs:{src:n("qCfk")},on:{click:e.refuse}})]),e._v(" "),r("div",[r("img",{attrs:{src:n("IQcC")},on:{click:e.accept}})])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"rtc-alert-avatar"},[t("img",{attrs:{src:n("lyEO")}})])}]},It=n("VU/8")(St,Ct,!1,null,null,null).exports,xt=(n("S2Q3"),WebIM.rtc),Mt={data:function(){return{activedType:{contact:"",group:"",chatroom:""},groupRead:!1,contactRead:!1,showSettingOptions:!1,activeKey:"contact",selectedItem:"",showAddOptions:!1,nowIsVideo:!1,addList:[{name:"添加好友",id:"1",icon:"chat"},{name:"申请入群",id:"2",icon:"friends"},{name:"创建群组",id:"3",icon:"comment"}],userName:localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).userId,head_portraitImg:n("SYEH"),collapsed:!1,broken:!1,current:["contact"],nowClickID:"",showAlert:!1}},computed:{userDetail:function(){return this.$store.state.login.userDetail},chatList:function(){return this.$store.state.chat.msgList},onSetCallStatus:function(){return this.$store.state.agora.callStatus},showCall:function(){var e=this.$store.state.agora,t=e.confr,n=e.callStatus;return!!([1,3,5,6,7].includes(n)&&"number"==typeof t.type&&t.type<2)},showConfr:function(){var e=this.$store.state.agora,t=e.confr,n=e.callStatus;return!(2!==t.type||![0,3,5,6,7].includes(n))}},watch:{onSetCallStatus:function(e){console.log("触发对msg》》",this.$store.state.agora);var t=this.$store.state.agora,n=t.confr,r=t.callStatus,i=t.minisize;console.log("confr>>",n,"callStatus>>",r,"minisize>>",i);return this.$data.showAlert=4==r,3===r?this.$refs.call&&this.$refs.call.join():7===r?this.$refs.multiCall&&this.$refs.multiCall.join():void 0}},methods:o()({},Object(C.b)(["onLogout","onGetFirendBlack","initChatState","updateConfr","setCallStatus","hangup","cancelCall"]),{toLogout:function(){this.onLogout(),this.initChatState()},onCollapse:function(e,t){this.$data.collapsed="responsive"!=t},onBreakpoint:function(e){this.$data.broken=e},changeIsVideoState:function(e){this.$data.nowIsVideo=!!e},EmediaModalFun:function(e,t){this.invite(e,t,this.$data.activeKey)},show_add_member_modal:function(){this.$refs.addAvMembertModal.show()},hideUserList:function(){this.$data.collapsed=!0},showUserList:function(){this.$data.collapsed=!1},select:function(e){this.$refs.messageList.select(e),this.broken&&(this.$data.collapsed=!0)},GetFirendBlack:function(){this.onGetFirendBlack(),this.$refs.firendModel.changModel()},optionsVisibleChange:function(){this.$data.showSettingOptions=!this.$data.showSettingOptions},contactTypeChange:function(e){switch(this.$data.activeKey=e.key,this.$router.push("/"+e.key),this.broken&&this.collapsed&&(this.$data.collapsed=!1),e.key){case"contact":this.$refs.messageBox.onGetContactUserList();break;case"group":this.$refs.messageBox.onGetGroupUserList();break;case"chatroom":this.$refs.messageBox.onGetChatroomUserList()}this.$refs.messageList.getCurrentMsg(e.key)},addModalChange:function(){this.$data.showAddOptions=!this.$data.showAddOptions},ulClick:function(e){switch(e){case"1":this.$refs.addFriendMethods.changeModal();break;case"2":this.$refs.addGroupModel.changeGroupModel();break;case"3":this.$refs.createGroupModel.changeCreateModel()}},recEmedia:function(){this.$refs.videoSetting.show()},getUnread:function(e){var t=this.chatList[e],n={contact:!1,group:!1};if("{}"!=j()(t))for(var r in t)t[r].map(function(e,t){return"unread"===e.status&&("group"===e.chatType&&(n.group=!0),"contact"===e.chatType&&(n.contact=!0)),n});return{contact:n.contact,group:n.group}},invite:function(e,t,n){var r=this;console.log("tos",e,"callType",t,"selectTab",n),console.log("tasdjahskjdhwkjasd>>",this.$route.params.id);var i=WebIM.conn.getUniqueId().toString(),o=Math.uuid(8),s=this.$store.state.agora.callStatus;switch(t){case 0:if("contact"===n){var a=WebIM.conn.getUniqueId(),c=new WebIM.message("txt",a),u={msg:"邀请您进行语音通话",to:e[0],chatType:"singleChat",ext:{action:"invite",channelName:o,type:0,callerDevId:WebIM.conn.context.jid.clientResource,callId:i,ts:Date.now(),msgType:"rtcCallWithAgora",callerIMName:WebIM.conn.context.jid.name}};c.set(u),WebIM.conn.send(c.body),this.updateConfr({ext:{channelName:o,token:null,type:0,callerDevId:WebIM.conn.context.jid.clientResource,callId:i},to:e[0],callerIMName:WebIM.conn.context.jid.name,calleeIMName:e[0]});this.setCallStatus(1)}break;case 1:if(s>0&&console.log("正在通话中"),"contact"===n){var d=WebIM.conn.getUniqueId(),l=new WebIM.message("txt",d),f={msg:"邀请您进行视频通话",to:e[0],chatType:"singleChat",ext:{action:"invite",channelName:o,type:1,callerDevId:WebIM.conn.context.jid.clientResource,callId:i,ts:Date.now(),msgType:"rtcCallWithAgora"}};l.set(f),WebIM.conn.send(l.body),this.updateConfr({ext:{channelName:o,type:1,callerDevId:WebIM.conn.context.jid.clientResource,callId:i},to:e[0],callerIMName:WebIM.conn.context.jid.name,calleeIMName:e[0]});this.setCallStatus(1)}else"group"===n&&console.log("执行了group");this.setCallStatus(1);var p=e[0];xt.timer=setTimeout(function(){"contact"===n&&(r.cancelCall(p),r.hangup())},3e4);break;case 2:console.log("this.$refs.multiCall>>",this.$refs.multiCall)}}}),components:{MessageBox:de,Message:Te,AddFriend:Oe,GetFriendRequest:De,FirendBlack:Ue,AddGroupUser:Fe,CreateGroup:Ke,VidoeSetting:He,GroupRequest:Je,GroupInvite:$e,EmediaModal:W,MultiAVModal:pt,Call:wt,AddAVMemberModal:q,AlertModal:It,PersonCard:st}},Et={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout",{staticStyle:{position:"absolute",width:"100%",overflow:"hidden",height:"100%"}},[n("a-layout-header",{staticClass:"layout-header"},[n("div",{staticClass:"header"},[n("span",{staticClass:"setting"},[n("img",{staticClass:"head_portrait",attrs:{src:e.userDetail.avatarurl||e.head_portraitImg,alt:""},on:{click:function(t){return e.$refs.person_card.showModal()}}}),e._v(" "),n("span",{staticClass:"username"},[e._v(e._s(e.userDetail.nickname||e.userName))]),e._v(" "),n("a-dropdown",[n("span",{staticClass:"ant-dropdown-link",attrs:{href:"#"}},[n("a-icon",{attrs:{type:"setting"}})],1),e._v(" "),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{on:{click:e.recEmedia}},[n("a",{attrs:{href:"javascript:;"}},[e._v("音视频录制")])]),e._v(" "),n("a-menu-item",{on:{click:e.GetFirendBlack}},[n("a",{attrs:{href:"javascript:;"}},[e._v("好友黑名单")])]),e._v(" "),n("a-menu-item",{on:{click:e.toLogout}},[n("a",{attrs:{href:"javascript:;"}},[e._v("退出")])])],1)],1)],1),e._v(" "),n("span",{staticClass:"setting"},[n("a-dropdown",[n("span",{staticClass:"ant-dropdown-link",attrs:{href:"#"}},[n("a-icon",{attrs:{type:"plus-circle"}})],1),e._v(" "),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{on:{click:function(t){return e.ulClick("1")}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("添加好友")])]),e._v(" "),n("a-menu-item",{on:{click:function(t){return e.ulClick("2")}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("申请入群")])]),e._v(" "),n("a-menu-item",{on:{click:function(t){return e.ulClick("3")}}},[n("a",{attrs:{href:"javascript:;"}},[e._v("创建群组")])])],1)],1)],1)]),e._v(" "),n("a-menu",{style:{lineHeight:"50px",background:"#434648",color:"#fff",textAlign:"left"},attrs:{mode:"horizontal",defaultSelectedKeys:["contact"]},on:{click:e.contactTypeChange},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}},[n("a-menu-item",{key:"contact"},[n("a-icon",{staticClass:"navMenu-icon",attrs:{type:"user"}}),e._v(" "),n("span",{staticClass:"navMenu-text"},[e._v("好友")]),e._v(" "),e.getUnread("contact").contact?n("div",{staticClass:"tip-style"},[e._v("\n             \n          ")]):e._e()],1),e._v(" "),n("a-menu-item",{key:"group"},[n("a-icon",{staticClass:"navMenu-icon",attrs:{type:"team"}}),e._v(" "),n("span",{staticClass:"navMenu-text"},[e._v("群组")]),e._v(" "),e.getUnread("group").group?n("div",{staticClass:"tip-style"},[e._v(" ")]):e._e()],1),e._v(" "),n("a-menu-item",{key:"chatroom"},[n("a-icon",{staticClass:"navMenu-icon",attrs:{type:"usergroup-add"}}),e._v(" "),n("span",{staticClass:"navMenu-text"},[e._v("聊天室")])],1)],1)],1),e._v(" "),n("a-layout",[n("a-layout-sider",{staticStyle:{background:"#fff"},attrs:{width:e.broken?"100%":350,breakpoint:"lg",collapsedWidth:"0",trigger:null},on:{collapse:e.onCollapse,breakpoint:e.onBreakpoint},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[n("MessageBox",{ref:"messageBox",attrs:{type:e.activeKey,card:e.$refs.person_card,select:e.select}})],1),e._v(" "),n("a-layout-content",{staticStyle:{overflow:"visible"}},[n("Message",{ref:"messageList",attrs:{type:e.activeKey,broken:e.broken,hideUserList:e.hideUserList,showUserList:e.showUserList},on:{EmediaModalFun:e.EmediaModalFun,show_add_member_modal:e.show_add_member_modal}}),e._v(" "),n("AddFriend",{ref:"addFriendMethods"}),e._v(" "),n("GetFriendRequest"),e._v(" "),n("FirendBlack",{ref:"firendModel"}),e._v(" "),n("AddGroupUser",{ref:"addGroupModel"}),e._v(" "),n("CreateGroup",{ref:"createGroupModel"}),e._v(" "),n("VidoeSetting",{ref:"videoSetting"}),e._v(" "),n("GroupRequest"),e._v(" "),n("GroupInvite"),e._v(" "),n("EmediaModal",{ref:"emediaModal",on:{changeIsVideoState:e.changeIsVideoState}}),e._v(" "),n("AddAVMemberModal",{ref:"addAvMembertModal",on:{EmediaModalFun:e.EmediaModalFun}}),e._v(" "),e.showAlert?n("AlertModal"):e._e(),e._v(" "),e.showConfr?n("MultiAVModal",{ref:"multiCall",on:{show_add_member_modal:e.show_add_member_modal}}):e._e(),e._v(" "),e.showCall?n("Call",{ref:"call"}):e._e()],1),e._v(" "),n("PersonCard",{ref:"person_card"})],1)],1)},staticRenderFns:[]},Tt=n("VU/8")(Mt,Et,!1,null,null,null).exports;r.default.use(E.a);var Rt=new E.a({mode:"history",routes:[{path:"",redirect:"/login"},{path:"/",redirect:"/login"},{path:"/login",name:"login",component:O},{path:"/register",name:"login",component:O},{path:"/contact/:id",name:"contact",component:Tt},{path:"/contact",name:"contact",component:Tt},{path:"/group/:id",name:"group",component:Tt},{path:"/group",name:"group",component:Tt},{path:"/chatroom/:id",name:"chatroom",component:Tt},{path:"/chatroom",name:"chatroom",component:Tt}]}),kt=n("Fd2+"),Ot={state:{isRegister:!1,username:"",userDetail:{}},mutations:{setUserName:function(e,t){e.username=t},setRegisterFlag:function(e,t){e.isRegister=t},setUserDetaild:function(e,t){e.userDetail=t}},actions:{onLogin:function(e,t){e.commit("setUserName",t.username);var n={user:t.username,pwd:t.password,appKey:WebIM.config.appkey,apiUrl:"https://a1.easecdn.com"};WebIM.conn.open(n),localStorage.setItem("userInfo",j()({userId:t.username,password:t.password}))},onLogout:function(e){e.commit("setUserName",""),localStorage.setItem("userInfo",""),WebIM.conn.close()},onRegister:function(e,t){var n={username:t.username,password:t.password,nickname:t.nickname,appKey:WebIM.config.appkey,success:function(){Object(p.Message)({type:"success",message:"注册成功"}),e.commit("setRegisterFlag",!1)},error:function(e){if("duplicate_unique_property_exists"==JSON.parse(e.data).error)p.Message.error("用户已存在！");else if("illegal_argument"==JSON.parse(e.data).error){if("USERNAME_TOO_LONG"===JSON.parse(e.data).error_description)return message.error("用户名超过64个字节！");p.Message.error("用户名不合法！")}else"unauthorized"==JSON.parse(e.data).error?p.Message.error("注册失败，无权限！"):"resource_limited"==JSON.parse(e.data).error&&p.Message.error("您的App用户注册数量已达上限,请升级至企业版！")}};WebIM.conn.registerUser(n)},getLoginUserInfo:function(e,t){var n=t.userId;WebIM.conn.fetchUserInfoById(n).then(function(t){console.log(t.data[n]);var r=t.data[n];t.data[n]&&e.commit("setUserDetaild",r)})},updateOwnUserInfo:function(e,t){var n=e.commit,r=t.infoValue,i=t.type;WebIM.conn.updateOwnUserInfo(i,r).then(function(e){e.data&&n("setUserDetaild",e.data)})},setRegisterFlag:function(e,t){var n=t?"/register":"/login";Vue.$router.push(n),e.commit("setRegisterFlag",t)}},getters:{}},Pt=n("woOf"),jt=n.n(Pt);var Dt,Lt={state:{userList:{contactUserList:[],groupUserList:[],chatroomUserList:[]},msgList:{contact:{},group:{},chatroom:{}},currentMsgs:[],noticeCallMsg:{}},mutations:{updateUserList:function(e,t){var n=t.userList,r=t.type;e.userList[r]=n},updateMsgList:function(e,t){var n=t.chatType,r=t.chatId,i=t.msg,s=t.bySelf,a=t.type,c=t.id;if(t.isHistory){var u=e.msgList[n][r],d=u&&u.filter(function(e){return e.mid!=t.mid});e.msgList[n][r]=d}var l=Vue.$route.params,f="unread";"contact"==t.chatType?l.id==t.from&&(f="read"):"group"==t.chatType&&l.id==t.chatId&&(f="read"),e.msgList[n][r]?(e.msgList[n][r].push(o()({msg:i,bySelf:s,type:a||"",mid:c,status:f},t)),e.msgList[n][r]=e.msgList[n][r].sort(function(e,t){return e.time-t.time})):e.msgList[n][r]=[o()({msg:i,bySelf:s,type:a||"",mid:c,status:f},t)],e.currentMsgs="chatroom"!==n||s?jt()({},e.msgList[n][l.id||r]):_.uniqBy(e.msgList[n][r],"mid"),e.msgList=jt()({},e.msgList)},updateCurrentMsgList:function(e,t){e.currentMsgs=t},updateMessageMid:function(e,t){var n=t.id,r=t.mid,i=Vue.$route,o=i.name;i.params;L()(e.msgList[o]).forEach(function(t){e.msgList[o][t].length&&e.msgList[o][t].forEach(function(e){e.mid==n&&(e.mid=r)})})},updateMessageStatus:function(e,t){var n=t.id,r=t.mid,i=t.action,o=t.readUser,s=Vue.$route,a=s.name;s.params;L()(e.msgList[a]).forEach(function(s){"oneUserReadMsgs"==i?e.msgList[a][o]&&e.msgList[a][o].forEach(function(e){"recall"!=e.status&&(e.status="read")}):e.msgList[a][s].length&&e.msgList[a][s].forEach(function(e){"readMsgs"!==i||e.bySelf?e.mid!=n&&e.mid!=r||(e.status=t.status,t.msg&&(e.msg=t.msg)):"recall"!=e.status&&(e.status="read")})})},changeUserList:function(e,t){var n=[];_.forIn(t,function(e,t){n.push({name:t})}),e.userList.contactUserList=_.pullAllBy(e.userList.contactUserList,n,"name")},initChatState:function(e){e.userList={contactUserList:[],groupUserList:[],chatroomUserList:[]},e.msgList={contact:{},group:{},chatroom:{}},e.currentMsgs=[]},noticeCall:function(e,t){console.log("store noticeCall msg",t),e.noticeCallMsg=t}},actions:{onGetContactUserList:function(e,t){try{S.conn.getRoster({success:function(n){var r=n.filter(function(e){return["both","to"].includes(e.subscription)}),i=[];r&&r.forEach(function(e){return i.push(e.name)}),i&&S.conn.fetchUserInfoById(i).then(function(n){var i=n.data;r.forEach(function(e,t){return r[t].friendDetail=i[e.name]}),e.commit("updateUserList",{userList:r,type:"contactUserList",black:t})})}})}catch(e){console.log("error",e)}},onGetAllFriendsInfo:function(e,t){console.log(t)},onGetGroupUserList:function(e,t){var n={success:function(t){var n=t.data;n.forEach(function(e,t){n[t].name=e.groupname}),e.commit("updateUserList",{userList:n,type:"groupUserList"})},error:function(e){}};S.conn.getGroup(n)},onGetChatroomUserList:function(e,t){var n={pagenum:1,pagesize:20,success:function(t){e.commit("updateUserList",{userList:t.data,type:"chatroomUserList"})},error:function(){console.log("List chat room error")}};S.conn.getChatRooms(n)},onGetCurrentChatObjMsg:function(e,t){var n=t.id,r=t.type;e.commit("updateCurrentMsgList",e.state.msgList[r][n])},onSendText:function(e,t){var n=t.chatType,r=t.chatId,i=t.message,o=S.conn.getUniqueId(),s=+new Date,a="chatroom"===n,c="contact"===n?"singleChat":"groupChat",u={contact:"name",group:"groupid",chatroom:"id"},d=new S.message("txt",o);d.set({msg:i,to:r[u[n]],chatType:c,roomType:a,success:function(){e.commit("updateMsgList",{chatType:n,chatId:r[u[n]],msg:i,bySelf:!0,time:s,mid:o,status:"sending"})},fail:function(e){console.log("Send private text error",e)}}),"group"!==n&&"chatroom"!==n||d.setGroup("groupchat"),S.conn.send(d.body)},sendImgMessage:function(e,t){var n=t.chatType,r=t.chatId,i=t.roomType,o=t.file,s=t.callback,a=S.conn.getUniqueId(),c={contact:"name",group:"groupid",chatroom:"id"},u=new S.message("img",a);u.set({file:o,to:r[c[n]],chatType:n,roomType:i,onFileUploadError:function(e){console.log("图片上传失败",e),s()},onFileUploadComplete:function(t){var i=t.uri+"/"+t.entities[0].uuid;e.commit("updateMsgList",{msg:i,chatType:n,chatId:r[c[n]],bySelf:!0,type:"img",time:t.timestamp,mid:a,status:"sending"}),s()},success:function(){console.log("图片发送成功")}}),"group"!==n&&"chatroom"!==n||u.setGroup("groupchat"),S.conn.send(u.body)},sendFileMessage:function(e,t){var n=t.chatType,r=t.chatId,i=t.roomType,o=t.file,s=t.callback,a=S.conn.getUniqueId(),c={contact:"name",group:"groupid",chatroom:"id"},u=new S.message("file",a);u.set({file:o,ext:{file_length:o.data.size},to:r[c[n]],chatType:n,roomType:i,onFileUploadError:function(e){console.log("文件上传失败",e),s()},onFileUploadComplete:function(t){var i=t.uri+"/"+t.entities[0].uuid;e.commit("updateMsgList",{msg:i,chatType:n,chatId:r[c[n]],bySelf:!0,type:"file",filename:o.data.name,file_length:o.data.size,time:t.timestamp,mid:a,status:"sending"}),s()},success:function(){console.log("文件发送成功")}}),"group"!==n&&"chatroom"!==n||u.setGroup("groupchat"),S.conn.send(u.body)},sendRecorder:function(e,t){var n=t.useId,r=t.type,i=t.file,o=S.conn.getUniqueId(),s=new S.message("audio",o),a="chatroom"==r||"groupchat"==r;s.set({file:i,to:n,type:"audio",roomType:a,onFileUploadError:function(e){console.log("语音上传失败",e)},onFileUploadComplete:function(t){console.log("上传成功",t);var s=t.uri+"/"+t.entities[0].uuid;e.commit("updateMsgList",{msg:s,chatType:r,chatId:n,bySelf:!0,type:"audio",filename:i.data.name,file_length:i.data.size,time:t.timestamp,mid:o,status:"sending"})},success:function(e){console.log("语音发送成功",e)},flashUpload:S.flashUpload}),"group"!==r&&"chatroom"!==r||s.setGroup("groupchat"),S.conn.send(s.body)},onCallVideo:function(e,t){var n=t.chatType,r=t.to,i=JSON.parse(localStorage.getItem("userInfo"));"contact"===n&&(S.call.caller=i.userId,S.call.makeVideoCall(r,null,t.rec,t.recMerge))},onCallVoice:function(e,t){var n=t.chatType,r=t.to,i=JSON.parse(localStorage.getItem("userInfo"));"contact"===n&&(S.call.caller=i.userId,S.call.makeVoiceCall(r,null,t.rec,t.recMerge))},getHistoryMessage:function(e,t){var n={queue:t.name,isGroup:t.isGroup,count:10,success:function(n){try{if(t.success&&t.success(n),n.length){var r=JSON.parse(localStorage.getItem("userInfo")),i=r&&r.userId;n.forEach(function(n){var r=Number(n.time),o={},s=n.from==i;n.filename?n.ext.file_length||"audio"===n.filename||"mp4"===n.filename.substring(n.filename.length-3)?"audio"===n.filename?(o={msg:n.url,chatType:t.isGroup?"group":"contact",chatId:s?n.to:n.from,bySelf:s,type:"audio",time:r,mid:n.id,status:"read"},t.isGroup?o.chatId=n.to:o.chatId=s?n.to:n.from):"mp4"===n.filename.substring(n.filename.length-3)?(o={msg:n.url,chatType:t.isGroup?"group":"contact",chatId:s?n.to:n.from,bySelf:s,type:"video"},t.isGroup?o.chatId=n.to:o.chatId=s?n.to:n.from):(o={msg:n.url,chatType:t.isGroup?"group":"contact",chatId:s?n.to:n.from,bySelf:s,type:"file",filename:n.filename,file_length:n.file_length,time:r,mid:n.id,status:"read"},t.isGroup?o.chatId=n.to:o.chatId=s?n.to:n.from):(o={msg:n.url,chatType:t.isGroup?"group":"contact",chatId:s?n.to:n.from,bySelf:s,type:"img",time:r,mid:n.id,status:"read"},t.isGroup?o.chatId=n.to:o.chatId=s?n.to:n.from):(o={chatType:t.isGroup?"group":"contact",chatId:s?n.to:n.from,msg:n.data,bySelf:s,time:r,mid:n.id,status:"read"},t.isGroup?o.chatId=n.to:o.chatId=s?n.to:n.from),o.isHistory=!0,e.commit("updateMsgList",o)}),e.commit("updateMessageStatus",{action:"readMsgs"})}}catch(e){console.log("error",e)}},fail:function(){}};S.conn.fetchHistoryMessages(n)},recallMessage:function(e,t){var n=t.message,r=n.chatType,i={mid:n.mid,to:t.to,type:{contact:"chat",group:"groupchat",chatroom:"chatroom"}[r],success:function(){t.message.status="recall",t.message.msg="消息已撤回",Vue.$store.commit("updateMessageStatus",t.message)},fail:function(){}};S.conn.recallMessage(i)},initChatState:function(e,t){e.commit("initChatState")}},getters:{onGetContactUserList:function(e){return e.userList.contactUserList},onGetGroupUserList:function(e){return e.userList.groupUserList},onGetChatroomUserList:function(e){return e.userList.chatroomUserList},onGetCurrentChatObjMsg:function(e){return e.currentMsgs},fetchHistoryMessages:function(e){return e.currentMsgs}}},Bt={state:{friendRequest:[],blackList:{}},mutations:{changeFriendRequestState:function(e,t){e.friendRequest=t},updateBlackList:function(e,t){e.blackList=t}},actions:{addfirend:function(e,t){var n=localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).userId,r=t.id;WebIM.conn.subscribe({to:r,message:n+"请求添加你为好友"})},acceptSubscribe:function(e,t){WebIM.conn.subscribed({to:t,message:"[resp:true]"})},declineSubscribe:function(e,t){var n=localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo")).userId,r=t.id;WebIM.conn.unsubscribed({to:r,message:n+"拒绝您的好友请求"})},onAddBlack:function(e,t){var n=t.userId.name;WebIM.conn.addToBlackList({name:n}),Vue.$store.dispatch("onGetContactUserList",{type:"addBlack",addName:n})},onGetFirendBlack:function(e,t){WebIM.conn.getBlacklist()},onRemoveBlack:function(e,t){var n=t.removeName;WebIM.conn.removeFromBlackList({name:n,success:function(){console.log("Remove from black list success.")},error:function(){console.log("Remove from black list error.")}})},onDelteFirend:function(e,t){var n=t.userId.name,r={to:n,success:function(){conn.unsubscribed({to:n}),console.log("删除好友成功")},error:function(){}};t.callback(),Vue.$router.push("/contact"),WebIM.conn.removeRoster(r)}},getters:{addfirend:function(e){return e.firendList.myFirendList}}},Ut=(n("Ya8g"),{state:{publicGroupList:[],groupInviteNotifications:[],groupNotifications:[],groupInfo:{gid:"",name:"",admin:"",desc:"",membersonly:"",members:[]},groupBlack:[],adminList:[],muteList:[]},mutations:{updatePublicGroup:function(e,t){e.publicGroupList=t},updateGroupInviteNotifications:function(e,t){e.groupInviteNotifications=t},updateGroupNotifications:function(e,t){e.groupNotifications=t},getInfo:function(e,t){var n=t.gid,r=t.name,i=t.admin,o=t.desc,s=t.membersonly,a=t.members;e.groupInfo.gid=n,e.groupInfo.name=r,e.groupInfo.admin=i,e.groupInfo.desc=o,e.groupInfo.membersonly=s,e.groupInfo.members=a},updateGroupBlack:function(e,t){e.groupBlack=t},updateAdminList:function(e,t){e.adminList=t},updateMuteList:function(e,t){e.muteList=t}},actions:{onGetPublicGroup:function(e,t){var n={limit:50,success:function(t){var n=t.data;e.commit("updatePublicGroup",n)},error:function(e){console.log("获取群组失败",e)}};WebIM.conn.listGroups(n)},onGetGroupinfo:function(e,t){var n=t.select_id||t.select_groupid,r={groupId:n,success:function(r){var i=r.data[0].name,o=r.data[0].owner,s=r.data[0].description,a=r.data[0].membersonly,c=r.data[0].affiliations;e.commit("getInfo",{gid:n,name:i,admin:o,desc:s,membersonly:a,members:c}),t.callback&&t.callback()},error:function(){}};WebIM.conn.getGroupInfo(r)},onJoinGroup:function(e,t){var n={groupId:t.select_groupid,success:function(e){1!=Vue.$store.state.group.groupInfo.membersonly?Object(p.Message)({type:"success",message:"已成功加入群组："+Vue.$store.state.group.groupInfo.gid}):Object(p.Message)({type:"success",message:"已申请加入群组："+Vue.$store.state.group.groupInfo.gid+"，等待管理员同意"})},error:function(e){17==e.type&&p.Message.error("您已经在这个群组里了")}};WebIM.conn.joinGroup(n)},onCreateGroup:function(e,t){var n={data:{groupname:t.groupname,desc:t.desc,members:t.members,public:t.pub,approval:t.approval},success:function(e){Vue.$store.dispatch("onGetGroupUserList")},error:function(){}};WebIM.conn.createGroupNew(n)},onInviteGroup:function(e,t){var n=t.select_id,r={users:[t.select_name],groupId:n,success:function(e){p.Message.success("邀请成功，等待用户同意")},error:function(e){"forbidden_op"==JSON.parse(e.data).error&&p.Message.error(JSON.parse(e.data).error_description)}};WebIM.conn.inviteToGroup(r)},onAgreeJoinGroup:function(e,t){var n={applicant:t.joinName,groupId:t.joinGroupId,success:function(e){Vue.$store.dispatch("onGetGroupUserList"),Object(p.Message)({type:"success",message:"已同意！"})},error:function(e){}};WebIM.conn.agreeJoinGroup(n)},onRejectJoinGroup:function(e,t){var n={applicant:t.joinName,groupId:t.joinGroupId,success:function(e){Object(p.Message)({type:"success",message:"已拒绝！"})},error:function(e){}};WebIM.conn.rejectJoinGroup(n)},onAgreeInviteGroup:function(e,t){var n={groupId:t.inviteGroupId,invitee:t.username,success:function(e){Object(p.Message)({type:"success",message:"已同意加入群组！"}),Vue.$store.dispatch("onGetGroupUserList"),this.$forceUpdate()},error:function(e){}};WebIM.conn.agreeInviteIntoGroup(n)},onRejectInviteGroup:function(e,t){var n=t.inviteGroupId,r={invitee:t.username,groupId:n,success:function(e){Object(p.Message)({type:"success",message:"已拒绝加入群组！"})},error:function(e){}};WebIM.conn.rejectInviteIntoGroup(r)},onUpdataGroupInfo:function(e,t){var n=t.select_id,r=t.updateName,i=t.updateDesc,o={groupId:n,groupName:r,description:i,success:function(e){Vue.$store.dispatch("onGetGroupUserList"),Vue.$store.dispatch("onGetGroupinfo",{select_id:n}),this.$forceUpdate()}};WebIM.conn.modifyGroup(o)},onSetAdmin:function(e,t){var n={groupId:t.select_id,username:t.select_name,success:function(e){t.success&&t.success()},error:function(e){}};WebIM.conn.setAdmin(n)},onRemoveAdmin:function(e,t){var n={groupId:t.select_id,username:t.select_name,success:function(e){t.success&&t.success()},error:function(e){}};WebIM.conn.removeAdmin(n)},getGroupAdmin:function(e,t){var n=t.select_id,r=(t.select_name,{groupId:n,success:function(t){e.commit("updateAdminList",t.data)},error:function(e){}});WebIM.conn.getGroupAdmin(r)},onAddMute:function(e,t){var n=t.select_id,r={username:t.select_name,muteDuration:8864e5,groupId:n,success:function(n){e.commit("updateMuteList",n.data),t.success&&t.success()},error:function(e){}};WebIM.conn.mute(r)},onRemoveMute:function(e,t){var n={groupId:t.select_id,username:t.select_name,success:function(n){e.commit("updateMuteList",n.data),t.success&&t.success()},error:function(e){}};WebIM.conn.removeMute(n)},getMuted:function(e,t){var n=t.select_id,r=(t.select_name,{groupId:n,success:function(t){console.log("禁言列表",t),e.commit("updateMuteList",t.data)},error:function(e){}});WebIM.conn.getMuted(r)},onAddGroupBlack:function(e,t){var n=t.select_id,r=t.select_name,i={groupId:n,username:r,success:function(e){Vue.$store.dispatch("onGetGroupinfo",{select_id:n}),this.$forceUpdate(),console.log("添加群组黑名单成功")},error:function(e){}};WebIM.conn.groupBlockSingle(i)},onRemoveGroupBlack:function(e,t){var n=t.select_id,r=t.removeGroupName,i={groupId:n,username:r,success:function(e){console.log("移除成功Response: ",e),Vue.$store.dispatch("onGetGroupBlack",{select_id:n}),this.$forceUpdate()},error:function(e){}};WebIM.conn.removeGroupBlockSingle(i)},onGetGroupBlack:function(e,t){var n={groupId:t.groupid||t.select_id,success:function(t){var n=t.data;e.commit("updateGroupBlack",n)},error:function(){console.log("Get group black list error.")}};WebIM.conn.getGroupBlacklistNew(n)},onRemoveGroupUser:function(e,t){var n={groupId:t.select_id,username:t.select_name,success:function(e){},error:{}};WebIM.conn.removeSingleGroupMember(n)},onQuitGroup:function(e,t){var n={groupId:t.select_id,success:function(){Vue.$store.dispatch("onGetGroupUserList"),t.callback(),this.$forceUpdate()},error:function(){console.log("Leave room faild")}};WebIM.conn.quitGroup(n)},onDissolveGroup:function(e,t){var n={groupId:t.select_id,success:function(){Vue.$store.dispatch("onGetGroupUserList"),t.callback(),this.$forceUpdate()}};WebIM.conn.dissolveGroup(n)}},getters:{onGetPublicGroup:function(e){return e.publicGroupList},onGetGroupinfo:function(e){return e.groupInfo[item]}}}),Nt=n("bOdI"),Vt=n.n(Nt),Ft="GET_GROUPMEMBERS",Wt="SHOW_MULTIANMODAL",Gt="HIDE_MULTIANMODAL",Kt="SET_CONFR",zt="SET_AVMEMBERMODAL_VISIBLE",qt={state:{groupMembers:[],multiAVModalVisible:!1,confr:{},addAVMemberModalVisible:!1},mutations:(Dt={},Vt()(Dt,Ft,function(e,t){e.groupMembers=t.groupMembers}),Vt()(Dt,Wt,function(e,t){e.multiAVModalVisible=!0,e.confr=t.confr}),Vt()(Dt,Gt,function(e){e.multiAVModalVisible=!1}),Vt()(Dt,Kt,function(e,t){e.confr=t.confr}),Vt()(Dt,zt,function(e,t){e.addAVMemberModalVisible=t.addAVMemberModalVisible}),Dt),actions:{getGroupMembers:function(e,t){var n={pageNum:1,pageSize:1e3,groupId:t,success:function(t){console.log("Response: ",t),e.commit({type:Ft,groupMembers:t.data})},error:function(e){console.log("error",e)}};WebIM.conn.listGroupMember(n)},showMultiAVModal:function(e,t){console.log("payload>>",t),e.commit({type:Wt,confr:t||{}})},hideMultiAVModal:function(e){e.commit(Gt)},setConfr:function(e,t){e.commit({type:Kt,confr:t.confr})},setAVMemeberModalVisible:function(e,t){e.commit({type:zt,addAVMemberModalVisible:t.addAVMemberModalVisible})}}},Ht=n("mtWM"),Qt=n.n(Ht),Yt=WebIM.rtc,Jt=0,Xt=2,Zt=3,$t=7,en={state:{callStatus:Jt,callDuration:"00:00",minisize:!1,confr:{channel:"",token:"",type:null,callId:null,callerDevId:null,calleeDevId:null,confrName:"",callerIMName:"",calleeIMName:""},gid:"",inviteModal:!1,joinedMembers:[],invitedMembers:[]},mutations:{updateAgoraConfr:function(e,t){console.log("msg>>",t);var n=t.ext||{},r={channel:n.channelName,token:n.token,type:n.type,callId:n.callId,callerDevId:n.callerDevId,calleeDevId:n.calleeDevId};2===n.type?r.confrName=t.to:r.confrName=t.from,t.calleeIMName&&(r.calleeIMName=t.calleeIMName),t.callerIMName&&(r.callerIMName=t.callerIMName),e.confr=r},onSetCallStatus:function(e,t){console.log("更新会议状态-----",e,"status>>",t),e.callStatus=t},onHangup:function(e,t){Yt.localAudioTrack&&Yt.localAudioTrack.close(),Yt.localVideoTrack&&Yt.localVideoTrack.close(),Yt.client&&Yt.client.leave();var n={callStatus:Jt,callDuration:"00:00",minisize:!1,confr:{channel:"",token:"",type:null,callId:null,callerDevId:null,calleeDevId:null,confrName:"",callerIMName:"",calleeIMName:""},gid:"",inviteModal:!1,joinedMembers:[],invitedMembers:[]};e.callStatus=n.callStatus,e.callDuration=n.callDuration,e.confr=n.confr,e.gid=n.gid,e.inviteModal=n.inviteModal,e.joinedMembers=n.joinedMembers,e.invitedMembers=n.invitedMembers},onSetCallDuration:function(e,t){e.callDuration=t},onSetJoinedMembers:function(e,t){var n=e.joinedMembers.concat(t),r=[];e.invitedMembers.length&&(r=e.invitedMembers.filter(function(e){if(e!=t.name)return e})),e.joinedMembers=n,e.invitedMembers=r},onUpdateJoinedMembers:function(e,t){var n=e.joinedMembers.filter(function(e){if(console.log("item>>",e),e.name!=t.name)return e});e.joinedMembers=n},onSetInvitedMembers:function(e,t){e.invitedMembers=t}},actions:{updateConfr:function(e,t){e.commit("updateAgoraConfr",t)},confirmRing:function(e,t){console.log("confirmRing...context>>",e,"payload>>",t);var n=t.msg,r=t.deviceId,i=t.callerDevId,o=t.callId,s=n.from,a=e.state.confr;console.log("confr>>>",a);var c=!0;if(o!==a.callId&&(console.warn("callId 不相同"),c=!1),e.state.callStatus>4&&(c=!1),i===WebIM.conn.context.jid.clientResource){var u=WebIM.conn.getUniqueId(),d=new WebIM.message("cmd",u);d.set({to:s,action:"rtcCall",ext:{action:"confirmRing",status:c,callerDevId:WebIM.conn.context.jid.clientResource,calleeDevId:r,callId:o,ts:Date.now(),msgType:"rtcCallWithAgora"},success:function(t,n){c&&(console.log("status>>",c),e.commit("onSetCallStatus",Zt))},fail:function(e){console.log("Fail")}}),console.log("msgObj.body>>",d.body),WebIM.conn.send(d.body)}else console.warn("callerDevId 设备不相同")},sendAlerting:function(e,t){var n=t.to,r=t.calleeDevId,i=t.callId;console.log("to>>",t);var o=WebIM.conn.getUniqueId(),s=new WebIM.message("cmd",o);s.set({to:n,action:"rtcCall",ext:{action:"alert",calleeDevId:WebIM.conn.context.jid.clientResource,callerDevId:r,callId:i,ts:Date.now(),msgType:"rtcCallWithAgora"},success:function(t,n){console.log("sendAlerting>>>"),e.commit("onSetCallStatus",Xt)},fail:function(e){console.log("Fail")}}),console.log("被叫发出的alert: ",s.body),WebIM.conn.send(s.body),Yt.timer=setTimeout(function(){console.log("定时器到期"),e.commit("onHangup"),e.commit("onSetCallStatus",Jt)},3e4),console.log("设置定时器")},answerCall:function(e,t){console.log("payload>>>",t);var n=e.state.confr;console.log("confr>>>",e);var r=t.result,i=WebIM.conn.getUniqueId(),o=new WebIM.message("cmd",i),s=t.currentCallId||n.callId,a=t.callerDevId||n.callerDevId,c=t.to||n.callerIMName;o.set({to:c,action:"rtcCall",ext:{action:"answerCall",result:r,callerDevId:a,calleeDevId:WebIM.conn.context.jid.clientResource,callId:s,ts:Date.now(),msgType:"rtcCallWithAgora"},success:function(e,t){console.log("成功发送answerCall")},fail:function(e){console.log("Fail")}}),console.log("发送answerCall",o),WebIM.conn.send(o.body)},confirmCallee:function(e,t){console.log("confirmCallee>>>>>>",t);var n=t.to,r=t.calleeDevId,i=t.result,o=WebIM.conn.getUniqueId(),s=new WebIM.message("cmd",o),a=e.state.confr,c=a.callId;if(console.log("confr.calleeDevId>>",a.calleeDevId,"confr.type>>",a.type),a.calleeDevId||2==a.type)a.calleeDevId!=r&&2!=a.type&&(i="refuse");else{console.log("进来了updateAgoraConfr");var u={to:a.confrName,ext:{channelName:a.channel,token:a.token,type:a.type,callerDevId:a.callerDevId,calleeDevId:r,callId:a.callId},calleeIMName:a.calleeIMName,callerIMName:a.callerIMName};e.commit("updateAgoraConfr",u)}s.set({to:n,action:"rtcCall",ext:{action:"confirmCallee",result:i||"accept",callerDevId:WebIM.conn.context.jid.clientResource,calleeDevId:r,callId:c,ts:Date.now(),msgType:"rtcCallWithAgora"},success:function(t,n){e.commit("onSetCallStatus",$t)},fail:function(e){console.log("Fail")}}),console.log("发送confirmCallee",s),WebIM.conn.send(s.body)},cancelCall:function(e,t){var n=e.state.confr,r=WebIM.conn.getUniqueId(),i=new WebIM.message("cmd",r),o=n.callerDevId,s=t&&t.to||n.calleeIMName,a=n.callId;s?(i.set({to:s,action:"rtcCall",ext:{action:"cancelCall",callerDevId:o,callId:a,ts:Date.now(),msgType:"rtcCallWithAgora"},success:function(t,n){e.commit("onSetCallStatus",Jt)},fail:function(e){console.log("Fail")}}),console.log("发送取消消息",i),WebIM.conn.send(i.body)):console.log("-- to is undefined --")},setCallStatus:function(e,t){e.commit("onSetCallStatus",t)},hangup:function(e,t){e.commit("onHangup")},setCallDuration:function(e,t){e.commit("onSetCallDuration",t)},setJoinedMembers:function(e,t){e.commit("onSetJoinedMembers",t)},updateJoinedMembers:function(e,t){e.commit("onUpdateJoinedMembers",t)},getRtctoken:function(e,t){Qt.a.defaults.headers.common.Authorization="Bearer "+WebIM.conn.context.accessToken;var n=t.username,r=t.channelName,i=t.appkey;return Qt.a.get("//a1.easemob.com/token/rtcToken?userAccount="+n+"&channelName="+r+"&appkey="+encodeURIComponent(i)).then(function(e){return e.data}).catch(function(e){console.log(e)})},setInvitedMembers:function(e,t){e.commit("onSetInvitedMembers",t)}},getters:{getAgora:function(e){return e}}};r.default.use(C.a);var tn=new C.a.Store({modules:{login:Ot,chat:Lt,friendModule:Bt,group:Ut,emedia:qt,agora:en}}),nn=n("2vhu");n("hZ/y"),n("tvR6");r.default.config.productionTip=!1,r.default.use(nn.a);var rn=E.a.prototype.push;E.a.prototype.push=function(e){return rn.call(this,e).catch(function(e){return e})},r.default.use(h.a).use(kt.a),r.default.config.productionTip=!1,window.Vue=new r.default({el:"#app",router:Rt,components:{App:M},template:"<App/>",store:tn,WebIM:S,render:function(e){return e(M)}})},NklH:function(e,t){e.exports="data:image/png;base64,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"},NpWZ:function(e,t){e.exports="data:image/png;base64,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"},Nx5R:function(e,t){e.exports={path:"../../../static/faces",obj:{"[):]":"ee_1.png","[:D]":"ee_2.png","[;)]":"ee_3.png","[:-o]":"ee_4.png","[:p]":"ee_5.png","[(H)]":"ee_6.png","[:@]":"ee_7.png","[:s]":"ee_8.png","[:$]":"ee_9.png","[:(]":"ee_10.png","[:'(]":"ee_11.png","[:|]":"ee_18.png","[(a)]":"ee_13.png","[8o|]":"ee_14.png","[8-|]":"ee_15.png","[+o(]":"ee_16.png","[<o)]":"ee_12.png","[|-)]":"ee_17.png","[*-)]":"ee_19.png","[:-#]":"ee_20.png","[:-*]":"ee_22.png","[^o)]":"ee_21.png","[8-)]":"ee_23.png","[(|)]":"ee_24.png","[(u)]":"ee_25.png","[(S)]":"ee_26.png","[(*)]":"ee_27.png","[(#)]":"ee_28.png","[(R)]":"ee_29.png","[({)]":"ee_30.png","[(})]":"ee_31.png","[(k)]":"ee_32.png","[(F)]":"ee_33.png","[(W)]":"ee_34.png","[(D)]":"ee_35.png"}}},"OP+V":function(e,t){},P1XA:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD0ElEQVR42u2XWUhUYRTHr0uZpaWF1UMl6kMURPRS9CDRRqS0ERYVFeFSo1m2m5VtFrY4juukZmlEtpEPmi2WUVJJUbmMU2raQuu9d5bcxsmZ+Xe+uYEhUdcmqQcfDnfuvcx3ft9Z/t+5HIB/an0AfQA/fag74f1ryxrKiZme7mKGZy79rhXTB86nK3v3O/tLAGovTlC5Kk13FwNNCTCc8Wune1+C6H0A5kRQOvsbz43txNvDwGcVzBUrISQ7p+nUQ3ofgDkRkl3TzA9WAI17gBqF/WosGN/JwAiwFwFocV7pFGA8N86ChjigKgJ4FgbU74D5/nLwyS4ZuszBvQHgxXbO8s7xSU7XzRWrgLptkvPKCAmkYSeMFybgUyIXLGZ4sDpxBICqPM3dhfLqzydxs3ilc5iQOmCfLmf4i47yEHK+nRxLzskIJByojYZNsxHNlyfZxHSP80JKvxj6bwiv5CYRuJdIkaEIygMQ0weF6HNHtrQUTkbbtZkw3QqC+d5iWGuiWbjJafh3i/gBIpRB2CNhebQaptvz0H5jDlqLA/GlYBwIoIjadqIsAGqrZjQlAu+SgTcHgKbdwPPNQE1k1867mxQJKR3aDVKKXsWT7QU+psB0bwkoBaXyAE4Of21tPAS8J4BqBS26tmvHsiy8C1QbA/AZaC8NBgnWRVkAlLO5hrwxsNXHAY27WLH1EOB7d1SvowgmwFQ2H1QTNwlglBwAqd2SuOmGfF+LrS4WeLEFeBraMwBmjfEw3VlIIuV0iZzTusN61ob8cS7QkO9ntWk3swJjOZa/+4Yd5HwRSJwKqKPYpv5MBz4f5ea1FE7pqn45+acitDwJg5DuUSakujHnfy5E9tBl+zy2VkUCNVHyAF7Goa1kBiiCS0lTHFNCUjWWuyvWynWAZr2M8DOAXWgtCgRLoeMAlD/D6dF10MQAJETdd0v2MwBqu7kgBVWQjDsGIKj6jWi+OLED9bFA7UagSiE5qVZI3VG/nZ5vYCDsufS+IRZfH64AKd9RGlwcA6Awzm67Nht4rwK0myRFbIqHTbsFZhpITKVBsDwOlY5mqnxomFzvhK12K/TZPtdJ1h0AYJNPEhdtKl8GGIuAD2pyvtfuWJ/nK/Ip/RPpCF4vZg65yc4Na1UU8O4I8OkU8DYVhvzRr8VUN1cHImAfvULaSmbSgikwP1wDw9mADpoJ9lNq3KUJyIsVKhOuqRTyitbiaaSgB2HVxEKf41NBXeT4PCCqB6v02UMrCeYY2UjmtPvkw+5ZuAlugU7teVWX5f2ETsDuXdD3XdAH8P8BfAMC2NjJ0f0lbwAAAABJRU5ErkJggg=="},P3Tn:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEJklEQVR4Xu2XW4gVdRjAfzP/uZyzR9eO5qqrSelqFqboQwS2dCEhycqgl4Iw6qEgCrGXoN59CSKiiMAyuwnRDcWkokwjyV0Tz7paW8uu2257c8/Zc9u5/GfmnzRn2cPBdpZefNkP/gzMfB+/33xz+0ZTSnEtQ+cax7zAvIBBQ/y0RZsBaBA4PCirbNcFt2oCI5RMajq/Wgv5SBj0KgAF0mGX9NghTNpqeWO6ToeV5gNdMKwUANx5Vs0iUAdGcZ1b4ONM1thxQ/v9LFi1Hl0YyEqRwp9nHx7vOv1K6POsmeK4U2L/otbs3Us3bKOpeRm60vCnikwMnH/08qWLL+kBe02bA9MSyQJguHlOtqxfs/Hmp/Zht22CKATPBTRaq2Xynd+Y3Z+9ur805ntr27fZbXftRixoAXcKPA8iWLn2HkZ//yF74fSn70kPZVq8nyyggVdk3+IbWzdu2vM2tKyEsX5wPQgCkBLQWbzpPjb6U0z05uy2e58Gz4e/eiCQtbwAlMay1e3o0iV35vC7IuIYMDqrQOCyXYMX23Y+A0tXwWAP+AEEdUtKKOTJtm4mu+I2yI+DU4UwqssJYplSmaVLtrJ8RZf+91D/C8DLsz4Foccj2dXLteY1W2B0ABw3br1bv7y4zaU8FCagWgbfB/cqeU4FyhVaFq1DEzyQeAk0nQ2ZlptA2FAuguvXt7XhDINZjtXVOJNkohS2xbpEAXRMQ9i1Qgd8rx7WCLo6MGjM8TCUQtd1I1kAKrJahEoFPD9uvwwbBabX7HKyJoVFoEvCSHmJb0IFnZNDF2FkAJTecA944MXb2mo4VtvnuOA64PuxgJWh4I/h+epcooCZ4mC56PYNnD0CgQFhFAO8aYAP3tXAbg3sxuAwAhQYC4m0KgPF3zB03kwUEII/zDS7e3M/MnHmS9CawA/BdWoijeA6uFd7V0AMFxlI63RdPkFlyvnWEhxKFFAKDIOTCJ7LdXzB+PljQAok4NQk6qGOE2+DIC7WNIgiMJtRKZ3c+PeMFEYupE12qaR5oF7CsnkLwRPnzh2l//xXICMIrRhW324pZ8AASoP0EqqiROfw11fgw99lTG4HppK/ho0SFh8GAb09fR0HS6XBtvUr2knRDE4eIglodeAIRBPYKYbdHnpGf0H64WtNJnsT54HZJITgVFOKrVfO5FBn7+eMlrrBbIph00lKAzuLbwV054/TNfjzaCTDh9IJ8LkPJBrljM1jMggezw2fKnYXTuALH6xFoKch3cyY7KNj6ChDE5cOpwWbLYPDiuQwmGMowDT4RChODRUG3ph0x3besuQOFtjX01s4yWChrygUezImBxSgmFtoSqnGiSi5CPACnhQGr1uG1Vx1/COWwfO6Rj8JkTARzb0btsEBGVF2XH+dbfKOBnn+R8z/Gc0LzAv8AypWmD2SmISYAAAAAElFTkSuQmCC"},"PtD/":function(e,t,n){var r={"./ee_1.png":"4APf","./ee_10.png":"QbHy","./ee_11.png":"g20g","./ee_12.png":"pj/q","./ee_13.png":"Z0kr","./ee_14.png":"lo38","./ee_15.png":"T0Zz","./ee_16.png":"+T25","./ee_17.png":"09iF","./ee_18.png":"NpWZ","./ee_19.png":"Mgmo","./ee_2.png":"WWVF","./ee_20.png":"NklH","./ee_21.png":"DM8S","./ee_22.png":"Uf5G","./ee_23.png":"7yD/","./ee_24.png":"P3Tn","./ee_25.png":"8djW","./ee_26.png":"AMp6","./ee_27.png":"P1XA","./ee_28.png":"SCZi","./ee_29.png":"5VM+","./ee_3.png":"4jdr","./ee_30.png":"+g4a","./ee_31.png":"3cGE","./ee_32.png":"djKE","./ee_33.png":"EqUA","./ee_34.png":"qrYh","./ee_35.png":"ykB+","./ee_4.png":"sg2z","./ee_5.png":"gnmT","./ee_6.png":"w1e7","./ee_7.png":"s1qB","./ee_8.png":"ZEaO","./ee_9.png":"gnuE"};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="PtD/"},QbHy:function(e,t){e.exports="data:image/png;base64,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"},R8aL:function(e,t){},RFSV:function(e,t){},S2Q3:function(e,t){},SCZi:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFL0lEQVR42u1XW29UVRjl1fgDRJQSmVs7hA6XlqaKBp7QtjNAW7EtKiACwnRo6fQeriHAiBRoESkglIsRMaImohQl6IMBvBGRFxOVQuvlBc2csVN6ztl7L9c+g6GQUDoC6gMPK9lzzj77W3t/31r7m2EA/lPcI3Ddj0Spf2h42j/MKPE/YBS5qxxwzGdD/f72CRjF/geNoPd4stwPDT3Wz+4ugZIU4tOzgoki129m5UTI9nLIHeXoD0+EfqbfpebdQQLcXTBe6FlpBD0tiaDnXO8sH+yGXKjXghBthRCtBZDbi2DX56B3lhd6Dr9piRd5l8dDvuLbIXBfYqbv4+ScAK6E82DW5sNuzodcMRGq0QcZHgVZ5SMyIRdnQNV7IZePh92YC7NmEq4szkHfnGwkijNP6LXSJhAPesv6GFy9PgdqbwVk2zQG8UDVjYXYvRD2RzHYX+6G/cVOiA/XQexaAFUbINyQLVOh2mcQpeibG0A86CtLn0Che31/1WOQ+56FiD0B+dIIkqiA9VMnLHUONj6H6H+feBcCJ2HJ07B/fI9zZkMuGgmxNh9q5wz0R/IQL/KsS49ACRF0d1iNk1M7Z3BxqB4WLkDYx6B+jUF1NwOX6ok6jhugfllDMm+R2DeQh2ohFz4M+coUWHW5SIS8B7jm0AkYenLI02Uvf5RH6oLcNhsmuiCN/VCXdOBlwMUIUTkAS4ko5B9bIXCG31RAVY9mTeSAa1000iEQD2VVJMtZYKt0wU2A1XMStvkBgzddDRTWQW9AOIWuasi+PRBdh6EaciCbA0iW+UCJPndrAtrhZvqHJ4KupGjOY9G5ITrCsPEdj3g9d149IHjkRlx719MIIY5B7n0RatloSnQCT8HdaxSPGc4YNyfAPLmo4bNmVS7kq4WQlY/APtkGgU+Z56YBu40MAv2ep2C9AXliDeQSKoeqMCsDMEK+szrGTQkYRa5YssLvuJvY8qSjcfurXRBXjuhiGyKBsJMmaWyD+LYVMhqAWE8VbSmkbWdq294wGIENDoF2Etg8DXJZFuyvSaDvbRKoTYNAhARaSWALCWRfJVCAZIVDYONgKfAYIe95qzoHattTTAHz9xkXkp1acumdgNkB+cmKVAo2UY4RJwXnGcN3qyLMSIRcpmieBBUdfbUIT0P9vOpagEHzT3TTB+wjLMJ5UFUuiLpxughNFmEGYwxJhi9QhtrbHSnZ3UeZhoNa53/L7SbBtQwrIXvbIC/sScmwKZsy9CIe8s9P04i8l2wtxRoXi3JeyuF+36p1PlD3148ZXF1eC2EfpYqeoRG56YRagp6eNIyISDnhAas+D3LTVMgFI2ivUdjqtGMy6GlypMZcX0M3LZk7d4IfXMRvRkLGHocV1QS8B9OyYg19gfRHWAc7Z0KsyeOCDzn2Ki4chrBoMtabkH/uILZzvB/SfAfyh12QbaW8BzIgVuZC8R7pr5yAOKWX/m3IK7Rvbra+Uonp+mKhqzEdDeyE9syH7FwFcWYj5JkYx82Qu5+HouOpag93PtkJjrYC9gRjmf/M2f+wIck8RRJsSNhkRFmMTlEFqA435UVUjYFcSnCsajwQjQHYzLlZPZ4NyXgneKI46xTXuj9tAgNPgu3VavpDO+vie9122dFxUJunQrw8BSLGk2mZArtmHPQ7PUfP5XerufOyO9qUGk5T6i9lr3DZDPMkWguJAphLsmHwmfOuZAzn3v22fJQR9B2nt9Nes7TDnaDJjPrX/hcQzh8T+nqTBscj0vj23n/D/xeBvwBOu11RJCwhlQAAAABJRU5ErkJggg=="},SYEH:function(e,t,n){e.exports=n.p+"static/img/headPortrait.dd5dc3d.jpeg"},SwOA:function(e,t){},T0Zz:function(e,t){e.exports="data:image/png;base64,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"},UWxu:function(e,t){},Uf5G:function(e,t){e.exports="data:image/png;base64,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"},Uj7k:function(e,t){},UjHD:function(e,t){e.exports="data:image/png;base64,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"},VF88:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAA/FBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgIKCgoMDAwODg4VFRUXFxciIiIjIyMnJycpKSkqKio2NjY5OTk6OjpISEhLS0tUVFRVVVVXV1dgYGBiYmJnZ2doaGiGhoaPj4+UlJSmpqatra2/v7/MzMzNzc3d3d3f39/h4eHj4+Pm5ubq6urt7e319fX19fX39/f39/f5+fn9/f39/f3+/v7///////8BpbKTAAAAU3RSTlMAAQQFCgsPEBQgIycqNTc5OkhKS09ZXmNpamtvcHJzd3h5fYCAgoKDhYWIiYqKi46PkJSVmJmZnZ6foK2xs73Ay9TV4OLk5ufs7fT19vf5/P39/o1GTT4AAAIoSURBVFjDxZnncsIwEIQVDCGYYMCAaQ7t0nvvhfRe/f7vEghJSIIkW/Iy2V+a8ejDQue704oxuWKmZTtlt95q1d2yY1tmjOnLSGZLNKBSNmno0EYS+SYJ1MwnRhRxkVSVpKqmIiprTdfIV7V04JUnXQokNxkIFy9QYBXi/rzxBimoMe63GTYpypZuTrRIyipGxbzRCmmoMirijU2QlibGBO+nyesQue8YrZC2Kpz/MVKkECoO7rVNoWQPxDOF1J8IjzfCAhu/v8IChVbhV34hgH7kHsNFAN1+fswQROnvEKxhgLWvYEwRSKnP+lZFAau9WpggmBIfwDwOmP+ImSYO2DSEQT3ZfvI4er1Y8w3uLPfJmifQmRSY7QBL3CebIuBNbwHzM9xppU6/xv+pLRHwtvt05cp7WODOizFTA7h71xnscOeZzFIHHj13B/vceRbLqQKn2r0BH5hjjirw3JMBHVZWBXpSYJm5WKDL6lhgnbWwwBYeCF8yfFPgYeNggY76p/ciBdrqyWHvXga0NNLX6rUEaOok2NlTMTAmKgHyjH385nnrghIgKFJyIG2fHEyKihS/jG6IgJe+ZZRf6OceBcBD30IvaEWmF5c5Wprzb0XwzRK8nYM3nPiWmKXBTTv+WAE/+OCPZvjDI/x4iz+A4y0CuImBt1nwRhDeqsKbaXi7D29IDsEyxZu63fyYCWI7Z4z/M8aHYN0P4XKhf/2R619/5PyvP94B+9M+C2wRcGUAAAAASUVORK5CYII="},WWVF:function(e,t){e.exports="data:image/png;base64,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"},XN5v:function(e,t){e.exports={name:"ant-design-vue",version:"1.3.17",title:"Ant Design Vue",description:"An enterprise-class UI design language and Vue-based implementation",keywords:["ant","design","antd","vue","vueComponent","component","components","ui","framework","frontend"],main:"lib/index.js",module:"es/index.js",typings:"types/index.d.ts",files:["dist","lib","es","types","scripts"],scripts:{dev:"cross-env NODE_ENV=development ENTRY_INDEX=dev ./node_modules/.bin/webpack-dev-server --open --hot --port 3001",start:"cross-env NODE_ENV=development ./node_modules/.bin/webpack-dev-server --open --hot",test:"cross-env NODE_ENV=test jest --config .jest.js",site:"node scripts/run.js _site",copy:"node scripts/run.js copy-html",compile:"node antd-tools/cli/run.js compile",pub:"node antd-tools/cli/run.js pub","pub-with-ci":"node antd-tools/cli/run.js pub-with-ci",prepublish:"node antd-tools/cli/run.js guard","pre-publish":"node ./scripts/prepub",dist:"node antd-tools/cli/run.js dist",lint:"eslint -c ./.eslintrc --fix --ext .jsx,.js,.vue ./components","lint:style":'stylelint "{site,components}/**/*.less" --syntax less',commitmsg:"commitlint -x @commitlint/config-conventional -e $GIT_PARAMS",codecov:"codecov",prettier:"node ./scripts/prettier.js",postinstall:'node scripts/postinstall || echo "ignore"'},repository:{type:"git",url:"git+https://github.com/vueComponent/ant-design-vue.git"},license:"MIT",bugs:{url:"https://github.com/vueComponent/ant-design-vue/issues"},homepage:"https://vue.ant.design/","pre-commit":["lint","prettier"],peerDependencies:{vue:">=2.5.0","vue-template-compiler":">=2.5.0"},devDependencies:{"@commitlint/cli":"^6.2.0","@commitlint/config-conventional":"^6.1.3","@octokit/rest":"^15.4.1","@vue/cli-plugin-eslint":"^3.0.5","@vue/server-test-utils":"1.0.0-beta.16","@vue/test-utils":"1.0.0-beta.16",acorn:"^6.0.5",autoprefixer:"^9.6.0",axios:"^0.18.0","babel-cli":"^6.26.0","babel-core":"^6.26.0","babel-eslint":"^10.0.1","babel-helper-vue-jsx-merge-props":"^2.0.3","babel-jest":"^23.6.0","babel-loader":"^7.1.2","babel-plugin-import":"^1.1.1","babel-plugin-inline-import-data-uri":"^1.0.1","babel-plugin-istanbul":"^4.1.1","babel-plugin-syntax-dynamic-import":"^6.18.0","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-class-properties":"^6.24.1","babel-plugin-transform-decorators":"^6.24.1","babel-plugin-transform-decorators-legacy":"^1.3.4","babel-plugin-transform-es3-member-expression-literals":"^6.22.0","babel-plugin-transform-es3-property-literals":"^6.22.0","babel-plugin-transform-object-assign":"^6.22.0","babel-plugin-transform-object-rest-spread":"^6.26.0","babel-plugin-transform-runtime":"~6.23.0","babel-plugin-transform-vue-jsx":"^3.7.0","babel-polyfill":"^6.26.0","babel-preset-env":"^1.6.1","case-sensitive-paths-webpack-plugin":"^2.1.2",chalk:"^2.3.2",cheerio:"^1.0.0-rc.2",codecov:"^3.0.0",colorful:"^2.1.0",commander:"^2.15.0","compare-versions":"^3.3.0","cross-env":"^5.1.4","css-loader":"^0.28.7","deep-assign":"^2.0.0","enquire-js":"^0.2.1",eslint:"^5.8.0","eslint-config-prettier":"^3.0.1","eslint-plugin-html":"^3.2.2","eslint-plugin-vue":"^5.1.0","fetch-jsonp":"^1.1.3","fs-extra":"^7.0.0",glob:"^7.1.2",gulp:"^4.0.1","gulp-babel":"^7.0.0","gulp-strip-code":"^0.1.4","highlight.js":"^9.12.0","html-webpack-plugin":"^3.2.0",husky:"^0.14.3","istanbul-instrumenter-loader":"^3.0.0",jest:"^24.0.0","jest-serializer-vue":"^1.0.0","js-base64":"^2.4.8",jsonp:"^0.2.1",less:"^3.9.0","less-loader":"^4.1.0","less-plugin-npm-import":"^2.1.0","lint-staged":"^7.2.2","markdown-it":"^8.4.0","markdown-it-anchor":"^4.0.0",marked:"^0.3.7",merge2:"^1.2.1","mini-css-extract-plugin":"^0.5.0",minimist:"^1.2.0",mkdirp:"^0.5.1",mockdate:"^2.0.2",nprogress:"^0.2.0","optimize-css-assets-webpack-plugin":"^5.0.1",postcss:"^7.0.6","postcss-loader":"^3.0.0","pre-commit":"^1.2.2",prettier:"^1.15.3",querystring:"^0.2.0","raw-loader":"^1.0.0-beta.0",reqwest:"^2.0.5",rimraf:"^2.6.2","rucksack-css":"^1.0.2","selenium-server":"^3.0.1",semver:"^5.3.0","style-loader":"^0.18.2",stylelint:"^9.10.1","stylelint-config-prettier":"^4.0.0","stylelint-config-standard":"^18.2.0",through2:"^2.0.3","uglifyjs-webpack-plugin":"^2.1.1","url-loader":"^1.1.2",vue:"^2.5.16","vue-antd-md-loader":"^1.1.0","vue-clipboard2":"0.0.8","vue-eslint-parser":"^5.0.0","vue-i18n":"^8.3.2","vue-infinite-scroll":"^2.0.2","vue-jest":"^2.5.0","vue-loader":"^15.5.1","vue-router":"^3.0.1","vue-server-renderer":"^2.5.16","vue-template-compiler":"^2.5.16","vue-virtual-scroller":"^0.12.0",vuex:"^3.1.0",webpack:"^4.28.4","webpack-cli":"^3.2.1","webpack-dev-server":"^3.1.14","webpack-merge":"^4.1.1",webpackbar:"^3.1.5"},dependencies:{"@ant-design/icons":"^2.1.1","@ant-design/icons-vue":"^2.0.0","add-dom-event-listener":"^1.0.2","array-tree-filter":"^2.1.0","async-validator":"^3.0.3","babel-helper-vue-jsx-merge-props":"^2.0.3","babel-runtime":"6.x",classnames:"^2.2.5","component-classes":"^1.2.6","dom-align":"^1.7.0","dom-closest":"^0.2.0","dom-scroll-into-view":"^1.2.1","enquire.js":"^2.1.6",intersperse:"^1.0.0","is-negative-zero":"^2.0.0",ismobilejs:"^0.5.1",json2mq:"^0.2.0",lodash:"^4.17.5",moment:"^2.21.0","mutationobserver-shim":"^0.3.2","node-emoji":"^1.10.0","omit.js":"^1.0.0",raf:"^3.4.0","resize-observer-polyfill":"^1.5.1","shallow-equal":"^1.0.0",shallowequal:"^1.0.2","vue-ref":"^1.0.4",warning:"^3.0.0"},sideEffects:["site/*","components/style.js","components/**/style/*","*.vue","*.md","dist/*","es/**/style/*","lib/**/style/*","*.less"]}},Y20i:function(e,t){},Z0kr:function(e,t){e.exports="data:image/png;base64,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"},ZAw0:function(e,t){},ZEaO:function(e,t){e.exports="data:image/png;base64,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"},dIxr:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__=__webpack_require__("lHA8"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_map__=__webpack_require__("ifoU"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_map___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_map__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__=__webpack_require__("BO1k"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol_iterator__=__webpack_require__("Zzip"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol_iterator__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_reflect_metadata__=__webpack_require__("T6n+"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_reflect_metadata___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_reflect_metadata__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_set_prototype_of__=__webpack_require__("kiBT"),__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_set_prototype_of___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_set_prototype_of__),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_array_from__=__webpack_require__("c/Tr"),__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_array_from___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_array_from__),__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_object_assign__=__webpack_require__("woOf"),__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_10_babel_runtime_core_js_object_get_own_property_descriptor__=__webpack_require__("K6ED"),__WEBPACK_IMPORTED_MODULE_10_babel_runtime_core_js_object_get_own_property_descriptor___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_babel_runtime_core_js_object_get_own_property_descriptor__),__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names__=__webpack_require__("aFK5"),__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names__),__WEBPACK_IMPORTED_MODULE_12_babel_runtime_core_js_object_get_own_property_symbols__=__webpack_require__("8hRR"),__WEBPACK_IMPORTED_MODULE_12_babel_runtime_core_js_object_get_own_property_symbols___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_babel_runtime_core_js_object_get_own_property_symbols__),__WEBPACK_IMPORTED_MODULE_13_babel_runtime_core_js_object_prevent_extensions__=__webpack_require__("kBtn"),__WEBPACK_IMPORTED_MODULE_13_babel_runtime_core_js_object_prevent_extensions___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_babel_runtime_core_js_object_prevent_extensions__),__WEBPACK_IMPORTED_MODULE_14_babel_runtime_core_js_object_is_extensible__=__webpack_require__("g4jZ"),__WEBPACK_IMPORTED_MODULE_14_babel_runtime_core_js_object_is_extensible___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_babel_runtime_core_js_object_is_extensible__),__WEBPACK_IMPORTED_MODULE_15_babel_runtime_core_js_object_get_prototype_of__=__webpack_require__("Zx67"),__WEBPACK_IMPORTED_MODULE_15_babel_runtime_core_js_object_get_prototype_of___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15_babel_runtime_core_js_object_get_prototype_of__),__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys__=__webpack_require__("fZjL"),__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_17_babel_runtime_core_js_object_define_properties__=__webpack_require__("HSQo"),__WEBPACK_IMPORTED_MODULE_17_babel_runtime_core_js_object_define_properties___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_17_babel_runtime_core_js_object_define_properties__),__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create__=__webpack_require__("OvRC"),__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create__),__WEBPACK_IMPORTED_MODULE_19_babel_runtime_core_js_symbol_to_string_tag__=__webpack_require__("a1FJ"),__WEBPACK_IMPORTED_MODULE_19_babel_runtime_core_js_symbol_to_string_tag___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_19_babel_runtime_core_js_symbol_to_string_tag__),__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol__=__webpack_require__("5QVw"),__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol__),__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property__=__webpack_require__("C4MV"),__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property__),__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof__),root,factory;root=window,factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property___default()(e,t,{enumerable:!0,get:r})},n.r=function(e){void 0!==__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a&&__WEBPACK_IMPORTED_MODULE_19_babel_runtime_core_js_symbol_to_string_tag___default.a&&__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property___default()(e,__WEBPACK_IMPORTED_MODULE_19_babel_runtime_core_js_symbol_to_string_tag___default.a,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))&&e&&e.__esModule)return e;var r=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/Users/suqin/Desktop/软件开发文档/环信/project/websdk/packages/webrtc",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){(function(e){var r,i,o=n(3),s=(i=o)&&i.__esModule?i:{default:i};var a=n(70).default,c=n(440),u=n(71);window.WebIM="undefined"!=typeof WebIM?WebIM:{},WebIM.WebRTC=WebIM.WebRTC||{},WebIM.WebRTC.Call=c,WebIM.WebRTC.Util=a,WebIM.WebRTC.emedia=u,WebIM.__alreadyOpenMedias=[],"object"===(0,s.default)(e)&&"object"===(0,s.default)(e.exports)?e.exports=WebIM.WebRTC:void 0===(r=function(){return WebIM.WebRTC}.apply(t,[]))||(e.exports=r),WebIM.WebRTC.config=function(e){if(e instanceof Object!=0)for(var t in e)this[t]=e[t]},WebIM.WebRTC.supportPRAnswer=u.supportPRAnswer,console&&console.warn("Webrtc version","Git.e4f0006")}).call(this,n(2)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){t.__esModule=!0;var r=s(n(4)),i=s(n(55)),o="function"==typeof i.default&&"symbol"===__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(r.default)?function(e){return void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e)};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){e.exports={default:n(5),__esModule:!0}},function(e,t,n){n(6),n(50),e.exports=n(54).f("iterator")},function(e,t,n){var r=n(7)(!0);n(10)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(8),i=n(9);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(11),i=n(12),o=n(28),s=n(17),a=n(29),c=n(30),u=n(46),d=n(48),l=n(47)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,m,v,_){c(n,t,h);var g,b,y,A=function(e){if(!f&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",S="values"==m,C=!1,I=e.prototype,x=I[l]||I["@@iterator"]||m&&I[m],M=x||A(m),E=m?S?A("entries"):M:void 0,T="Array"==t&&I.entries||x;if(T&&(y=d(T.call(new e)))!==Object.prototype&&y.next&&(u(y,w,!0),r||"function"==typeof y[l]||s(y,l,p)),S&&x&&"values"!==x.name&&(C=!0,M=function(){return x.call(this)}),r&&!_||!f&&!C&&I[l]||s(I,l,M),a[t]=M,a[w]=p,m)if(g={values:S?M:A("values"),keys:v?M:A("keys"),entries:E},_)for(b in g)b in I||o(I,b,g[b]);else i(i.P+i.F*(f||C),t,g);return g}},function(e,t){e.exports=!0},function(e,t,n){var r=n(13),i=n(14),o=n(15),s=n(17),a=n(27),c=function e(t,n,c){var u,d,l,f=t&e.F,p=t&e.G,h=t&e.S,m=t&e.P,v=t&e.B,_=t&e.W,g=p?i:i[n]||(i[n]={}),b=g.prototype,y=p?r:h?r[n]:(r[n]||{}).prototype;for(u in p&&(c=n),c)(d=!f&&y&&void 0!==y[u])&&a(g,u)||(l=d?y[u]:c[u],g[u]=p&&"function"!=typeof y[u]?c[u]:v&&d?o(l,r):_&&y[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):m&&"function"==typeof l?o(Function.call,l):l,m&&((g.virtual||(g.virtual={}))[u]=l,t&e.R&&b&&!b[u]&&s(b,u,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(16);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(18),i=n(26);e.exports=n(22)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(19),i=n(21),o=n(25),s=__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property___default.a;t.f=n(22)?__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property___default.a:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(20);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"===(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(22)&&!n(23)(function(){return 7!=Object.defineProperty(n(24)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(20),i=n(13).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(20);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=n(17)},function(e,t){e.exports={}},function(e,t,n){var r=n(31),i=n(26),o=n(46),s={};n(17)(s,n(47)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(19),i=n(32),o=n(44),s=n(41)("IE_PROTO"),a=function(){},c=function(){var e,t=n(24)("iframe"),r=o.length;for(t.style.display="none",n(45).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default.a||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(18),i=n(19),o=n(33);e.exports=n(22)?__WEBPACK_IMPORTED_MODULE_17_babel_runtime_core_js_object_define_properties___default.a:function(e,t){i(e);for(var n,s=o(t),a=s.length,c=0;a>c;)r.f(e,n=s[c++],t[n]);return e}},function(e,t,n){var r=n(34),i=n(44);e.exports=__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default.a||function(e){return r(e,i)}},function(e,t,n){var r=n(27),i=n(35),o=n(38)(!1),s=n(41)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(36),i=n(9);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(37);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(35),i=n(39),o=n(40);e.exports=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),d=o(s,u);if(e&&n!=n){for(;u>d;)if((a=c[d++])!=a)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===n)return e||d||0;return!e&&-1}}},function(e,t,n){var r=n(8),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(8),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(42)("keys"),i=n(43);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(14),i=n(13),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(11)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(13).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(18).f,i=n(27),o=n(47)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(42)("wks"),i=n(43),o=n(13).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(27),i=n(49),o=n(41)("IE_PROTO"),s=Object.prototype;e.exports=__WEBPACK_IMPORTED_MODULE_15_babel_runtime_core_js_object_get_prototype_of___default.a||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(9);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(51);for(var r=n(13),i=n(17),o=n(29),s=n(47)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],d=r[u],l=d&&d.prototype;l&&!l[s]&&i(l,s,u),o[u]=o.Array}},function(e,t,n){var r=n(52),i=n(53),o=n(29),s=n(35);e.exports=n(10)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){t.f=n(47)},function(e,t,n){e.exports={default:n(56),__esModule:!0}},function(e,t,n){n(57),n(67),n(68),n(69),e.exports=n(14).Symbol},function(e,t,n){var r=n(13),i=n(27),o=n(22),s=n(12),a=n(28),c=n(58).KEY,u=n(23),d=n(42),l=n(46),f=n(43),p=n(47),h=n(54),m=n(59),v=n(60),_=n(63),g=n(19),b=n(20),y=n(49),A=n(35),w=n(25),S=n(26),C=n(31),I=n(64),x=n(66),M=n(61),E=n(18),T=n(33),R=x.f,k=E.f,O=I.f,P=r.Symbol,j=r.JSON,D=j&&j.stringify,L=p("_hidden"),B=p("toPrimitive"),U={}.propertyIsEnumerable,N=d("symbol-registry"),V=d("symbols"),F=d("op-symbols"),W=Object.prototype,G="function"==typeof P&&!!M.f,K=r.QObject,z=!K||!K.prototype||!K.prototype.findChild,q=o&&u(function(){return 7!=C(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=R(W,t);r&&delete W[t],k(e,t,n),r&&e!==W&&k(W,t,r)}:k,H=function(e){var t=V[e]=C(P.prototype);return t._k=e,t},Q=G&&"symbol"==__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(P.iterator)?function(e){return"symbol"==(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))}:function(e){return e instanceof P},Y=function(e,t,n){return e===W&&Y(F,t,n),g(e),t=w(t,!0),g(n),i(V,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=C(n,{enumerable:S(0,!1)})):(i(e,L)||k(e,L,S(1,{})),e[L][t]=!0),q(e,t,n)):k(e,t,n)},J=function(e,t){g(e);for(var n,r=v(t=A(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},X=function(e){var t=U.call(this,e=w(e,!0));return!(this===W&&i(V,e)&&!i(F,e))&&(!(t||!i(this,e)||!i(V,e)||i(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=A(e),t=w(t,!0),e!==W||!i(V,t)||i(F,t)){var n=R(e,t);return!n||!i(V,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=O(A(e)),r=[],o=0;n.length>o;)i(V,t=n[o++])||t==L||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===W,r=O(n?F:A(e)),o=[],s=0;r.length>s;)!i(V,t=r[s++])||n&&!i(W,t)||o.push(V[t]);return o};G||(a((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0);return o&&z&&q(W,e,{configurable:!0,set:function t(n){this===W&&t.call(F,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),q(this,e,S(1,n))}}),H(e)}).prototype,"toString",function(){return this._k}),x.f=Z,E.f=Y,n(65).f=I.f=$,n(62).f=X,M.f=ee,o&&!n(11)&&a(W,"propertyIsEnumerable",X,!0),h.f=function(e){return H(p(e))}),s(s.G+s.W+s.F*!G,{Symbol:P});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=T(p.store),ie=0;re.length>ie;)m(re[ie++]);s(s.S+s.F*!G,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=P(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!G,"Object",{create:function(e,t){return void 0===t?C(e):J(C(e),t)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var oe=u(function(){M.f(1)});s(s.S+s.F*oe,"Object",{getOwnPropertySymbols:function(e){return M.f(y(e))}}),j&&s(s.S+s.F*(!G||u(function(){var e=P();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Q(e))return _(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,D.apply(j,r)}}),P.prototype[B]||n(17)(P.prototype,B,P.prototype.valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(43)("meta"),i=n(20),o=n(27),s=n(18).f,a=0,c=__WEBPACK_IMPORTED_MODULE_14_babel_runtime_core_js_object_is_extensible___default.a||function(){return!0},u=!n(23)(function(){return c(__WEBPACK_IMPORTED_MODULE_13_babel_runtime_core_js_object_prevent_extensions___default()({}))}),d=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[r].w},onFreeze:function(e){return u&&l.NEED&&c(e)&&!o(e,r)&&d(e),e}}},function(e,t,n){var r=n(13),i=n(14),o=n(11),s=n(54),a=n(18).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){var r=n(33),i=n(61),o=n(62);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),c=o.f,u=0;a.length>u;)c.call(e,s=a[u++])&&t.push(s);return t}},function(e,t){t.f=__WEBPACK_IMPORTED_MODULE_12_babel_runtime_core_js_object_get_own_property_symbols___default.a},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(37);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(35),i=n(65).f,o={}.toString,s="object"==("undefined"==typeof window?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(window))&&window&&__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names___default.a?__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names___default()(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(34),i=n(44).concat("length","prototype");t.f=__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names___default.a||function(e){return r(e,i)}},function(e,t,n){var r=n(62),i=n(26),o=n(35),s=n(25),a=n(27),c=n(21),u=__WEBPACK_IMPORTED_MODULE_10_babel_runtime_core_js_object_get_own_property_descriptor___default.a;t.f=n(22)?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(59)("asyncIterator")},function(e,t,n){n(59)("observable")},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(71);t.default=r.util},function(e,t,n){var r=window.emedia=window.emedia||{},i=r.util=n(72),o=n(146);if(r.config=function(e){for(var t in e=i.extend({},e))r.config[t]=e[t],"logLevel"===t&&(r.LOG_LEVEL=e[t]);r.config.loglastConfrCount&&!r._logContext&&(r._logContext=new Array(r.config.loglastConfrCount),r._logContextIndex=-1)},r.config({autoSub:!0,onlyEnter:!1,reconnect:13,reconnectDelay:3e3,getCopyIntervalMillis:3e4,checkConnectIntervalMillis:1e3,iceRebuildCount:3,iceRebuildIntervalMillis:500,enterTimeout:2e4,useRTCCfgIfServerReturn:!1,forceUseRTCCfgIfServerReturnWhenP2P:!0,allowRepeatAudioMixerPublish:!1,logVolumeWhenInstantGE:.5,getMediaMeterIntervalMillis:400,_useRequestAnimationFrame:!1,meterWithTrackAudioLevel:!1,judgeTalkingByInstantGE:.05,_printSoundData:!1,trackBufferSize:20,allowSendWhenLessThan:4,disableTrack:!1,ctrlCheckIntervalMillis:1e4,ctrlTimeoutMillis:3e4,_printDebugStats:!1,statsSeconds:10,remainLastStatsCount:120,loglastConfrCount:2,loglastStoreArray:!0,consoleLogger:!0,printStatsWhenPCClose:!0,rebuildPeerConnectionWhenNetworkChanaged:!0,useDeployMore:!1,useDTX:!0,uploadStats:!0,liveCfgs:[],rtcStatsTypeMath:function(e,t){switch(e.type){case"remote-candidate":case"local-candidate":case"track":case"stream":case"inbound-rtp":case"outbound-rtp":case"transport":return!0}return!1}}),i.logger.count(),function(){var e=n(147).default;if(r.browser=e.__browser,r.browserVersion=e.__browserVersion,void 0===r.browser)throw"Not discern browser. may require adapter error. eg. it.default"}(),i.logger.info("Current browser",r.browser,r.browserVersion),r.AudioContext=window.AudioContext||window.webkitAudioContext,r.config.getMediaMeterIntervalMillis){try{"function"==typeof r.AudioContext?(r.__audioContext=new r.AudioContext,r.__usingWebAudio=!0):r.__usingWebAudio=!1}catch(e){r.__usingWebAudio=!1}r.__usingWebAudio&&"suspended"===r.__audioContext.state&&o(function(){var e=function e(){"suspended"===r.__audioContext.state&&r.__audioContext.resume(),i.logger.warn("AudioContext state suspended ->",r.__audioContext.state),setTimeout(function(){"running"===r.__audioContext.state&&(document.body.removeEventListener("touchend",e,!1),document.body.removeEventListener("click",e,!1))},0)};document.body.addEventListener("touchend",e,!1),document.body.addEventListener("click",e,!1)}),r.__usingWebAudio||console.warn("'new AudioContext()' failed. can not know who talking."),r.__audioContext&&"suspended"===r.__audioContext.state&&console.warn("audioContext.state is suspended. can not know who talking. You can resume() emedia.__audioContext, but only in response to a tap.")}if(window.requestAnimationFrame&&r.config._useRequestAnimationFrame?r.requestAnimationFrame=function(e){window.requestAnimationFrame(e)}:r.requestAnimationFrame=function(e,t){return setTimeout(e,t||r.config.getMediaMeterIntervalMillis)},window.cancelAnimationFrame&&r.config._useRequestAnimationFrame?r.cancelAnimationFrame=function(e){window.cancelAnimationFrame(e)}:r.cancelAnimationFrame=function(e){clearTimeout(e)},r.isWifi=function(){try{var e=!0,t=window.navigator.userAgent,n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;if(/MicroMessenger/.test(t)){if(t.indexOf("WIFI")>=0)return!0;e=!1}else if(n){var r=n.type;"wifi"!==r&&"2"!==r&&"unknown"!==r&&(e=!1)}return e}catch(e){return!1}},r.stopAudioTracks=function(e){e&&e.getAudioTracks().forEach(function(t){t.stop(),i.logger.info("Media stream stop audio track. stream =",e.id,"track =",t.id,t.kind)})},r.stopAndRemoveAudioTracks=function(e){var t=[];e&&e.getAudioTracks().forEach(function(n){n.stop(),t.push(n),i.logger.info("Media stream stop and remove audio tracks. stream =",e.id,"track =",n.id,n.kind)}),i.forEach(t,function(t,n){e.removeTrack(n)})},r.stopTracks=function(e){try{if(!e||!1===e.active)return void i.logger.debug("stream tracks had been stoped. it ",e&&e.id);e.getTracks().forEach(function(t){t.stop(),i.logger.info("Media stream stop track. stream =",e.id," track =",t.id,t.kind)}),e._bindAttendee&&(i.removeAttribute(e._bindAttendee._openedRtcMediaStreams,e.id),e._bindAttendee=null),i.logger.info("stream tracks stoped. it ",e.id)}catch(e){i.logger.error(e)}},r.enableVideoTracks=function(e,t){e&&e.getVideoTracks().forEach(function(n){if("function"==typeof n.enable)return n.enable(),i.logger.info("Media stream enable video track. stream =",e.id,"track =",n.kind,n.enabled,n.id),void(n.enabled===t||n.enable(t));n.enabled===t||(n.enabled=t),i.logger.info("Media stream enable video track. stream =",e.id,"track =",n.kind,n.enabled,n.id)})},r.enableAudioTracks=function(e,t){e&&e.getAudioTracks().forEach(function(n){if("function"==typeof n.enable)return n.enable(),i.logger.info("Media stream enable audio track. stream =",e.id,"track =",n.kind,n.enabled,n.id),void(n.enabled===t||n.enable(t));n.enabled===t||(n.enabled=t),i.logger.info("Media stream enable audio track. stream =",e.id,"track =",n.kind,n.enabled,n.id)})},r.hasEnabledTracks=function(e){if(!e||"function"!=typeof e.getAudioTracks)return!1;if(!e.active)return!1;var t=e.getAudioTracks();if(0===t.length)return!1;for(var n in t)if("function"==typeof t[n].enable&&t[n].enable(),t[n].enabled)return!0;return!1},r.genReportName=function(){var e=r._lastSetupDate||new Date;return(r._lastSetupTktId||r._lastSetupConfr)+"_"+r._lastSetupMemName+"_"+e.getTime()+".log"},r.getReportUploadUrl=function(e,t,n){var r=new XMLHttpRequest;r.open(e,t,!0),r.addEventListener("load",function(e){n&&n(e)},!1),r.send(null)},r.uploadReport=function(e,t,n,o,s,a){var c=r.genReport();if(c){"function"==typeof n&&(a=s,s=o,o=n,n=void 0);var u=new Blob([c],{type:"text/plain"}),d=new FormData;d.append(e,u,e),n&&"function"==typeof d.set&&i.forEach(n,function(e,t){d.set(e,t)});var l=new XMLHttpRequest;l.open("POST",t,!0),l.setRequestHeader("X-File-Name",e),a&&a(l),l.addEventListener("load",function(n){console.info("log begin upload. result = ",n.currentTarget.status,e," > ",t),200===n.currentTarget.status?o&&o(n):s&&s(n)},!1),l.send(d),console.info("log begin upload. ",e," > ",t)}else s&&s("not logs")},r.genReport=function(){if(r._logContext&&r._logContext instanceof Array&&!(void 0===r._logContextIndex||r._logContextIndex<0)){var e=0,t=r._logContextIndex;r._logContextIndex>=r._logContext.length&&(e=r._logContextIndex-r._logContext.length+1);for(var n="",i=e;i<=t;i++){var o=i%r._logContext.length;n+=r._logContext[o].join("\r\n")+"\r\n"}return r._logContext.loadlogs&&r._logContext.loadlogs instanceof Array&&(n+="-------------------------------------------------------------\r\n",n+=r._logContext.loadlogs.join("\r\n")+"\r\n"),n}},r.fileReport=function(e,t){var n=r.genReport();if(n){t&&(n="遇到的异常描述如下：\r\n "+t+" \r\n "+n);var i=encodeURIComponent(n),o=document.createElement("a");o.style.display="none",o.download=e||"emedia-"+(new Date).toJSON()+".log",o.href="data:text/plain;charset=utf-8,"+i,document.body.appendChild(o),o.click(),o.parentNode.removeChild(o)}},navigator.mediaDevices){var s=navigator.mediaDevices.getSupportedConstraints();i.logger.info("Supported constraints",s)}r.config({globalConstraints:{}});var a=n(200),c=n(208);r.Webrtc=n(213),r.Service=a,r.P2P=n(223),r.XService=a,r.XServiceWithP2P=r.P2P(a),r.mgr=n(224).outer,r.ctrl=n(431),r.CompositeCanvas=n(437),r.pannel||(r.pannel={}),r.pannel.DefaultMouseTrack=n(220),r.pannel.MouseTrack=n(221),r.pannel.KeyboardTrack=n(438);var u=r.PCStats=n(219);if(r.helper=r.helper||{},r.helper.PCStats=u,r.helper.pcstats=u.echo,r.helper.intervalPcstats=u.intervalEcho,r.helper.inboundAudio=u.inboundAudio,r.helper.inboundVideo=u.inboundVideo,r.helper.outboundAudio=u.outboundAudio,r.helper.outboundVideo=u.outboundVideo,r.event=c,r.LOG_LEVEL=0,r.isFirefox="firefox"===r.browser,r.isChrome="chrome"===r.browser,r.isSafari="safari"===r.browser,r.isEdge="edge"===r.browser,r.isElectron=/Electron/.test(navigator.userAgent),r.isElectron)try{n(439)}catch(e){i.logger.error(e)}r.youInSomeBrowsers=function(){if(r.isSafari){var e=new RegExp("(Version)/([0-9.]+)","i"),t=navigator.userAgent.match(e);if(null!=t){var n=unescape(t[2]);return(n=parseInt(n))<13}}return!1},r.replaceIpAndPortOfCandidate=function(e,t,n){var r="string"==typeof e?e:e.candidate;return r=r.replace(/(candidate:\d+\s+\d+\s+udp\s+\d+\s+)([\d\.]+)\s+(\d+)(\s+.*)/g,function(e,r,i,o,s){return r+t+" "+n+s}),e.candidate?(e=i.extend(!0,{},e)).candidate=r:e=r,e},r.replaceIpAndPort=function(e,t){if("function"!=typeof t)return e;var n="string"==typeof e?e:e.candidate;return n=n.replace(/(candidate:\d+\s+\d+\s+udp\s+\d+\s+)([\d\.]+)\s+(\d+)(\s+.*)/g,function(e,n,r,i,o){var s=t(r,i);return"string"==typeof s?n+(s=s.replace(":"," "))+o:n+r+" "+i+o}),e.candidate?(e=i.extend(!0,{},e)).candidate=n:e=n,e},r.replaceURL=function(e,t){return"function"!=typeof t?e:e.replace(/([^:\/?&#=]+):\/\/([^\/:?#]+)(:\d+)?(\/[^?#]*)?(\?[^\/#]*)?(#[^\/?]*)?/g,function(n,r,i,o,s,a,c){o&&(o=o.substring(1));var u=t(n,r,i,o,s,a,c);if(!u)return e;if("string"==typeof u)return u;var d=u.protocol||r,l=u.host||i,f=u.port||o,p=u.path||s,h=u.query||a,m=u.fragment||c;return d+"://"+l+(f?":"+f:"")+(p||"")+(h||"")+(m||"")})},r.requireTrustBeforeJoin=function(){return!1},r.isWebRTC=window.RTCPeerConnection&&/^https\:$/.test(window.location.protocol),(r.isChrome||r.isSafari)&&(r.supportPRAnswer=!0),r.supportPRAnswer=!1,r.config({baseAcptOps:[102,104,105,106,107,300,302,303,304,301,204,206,400,401,1001,100221,100222,100223,100224,100201,100202,100203]}),r.config({clientType:"WEB",version:"3.2.2",userAgent:navigator.userAgent,isHttpDNS:!0,acptOps:[100230,100205,1003,1004]}),e.exports=r},function(module,exports,__webpack_require__){var _typeof2=__webpack_require__(73),_typeof3=_interopRequireDefault(_typeof2),_getPrototypeOf=__webpack_require__(140),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_stringify=__webpack_require__(144),_stringify2=_interopRequireDefault(_stringify),CHARS;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function Util(){}CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Math.uuid=function(e,t){var n,r,i=CHARS,o=[];if(t=t||i.length,e)for(n=0;n<e;n++)o[n]=i[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",n=0;n<36;n++)o[n]||(r=0|16*Math.random(),o[n]=i[19==n?3&r|8:r]);return o.join("")},Math.uuidFast=function(){for(var e,t=CHARS,n=new Array(36),r=0,i=0;i<36;i++)8==i||13==i||18==i||23==i?n[i]="-":14==i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,n[i]=t[19==i?3&e|8:e]);return n.join("")},Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t});var Logger=function(e){var t=this,n=0,r=1,i=2,o=3,s=4,a=5,c=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function u(n,r){try{!function(n,r){if(emedia&&emedia.LOG_LEVEL&&n<emedia.LOG_LEVEL)return;var i=[];i.push(n),e&&i.push(e);for(var o=0;o<r.length;o++)i.push(r[o]&&r[o]._toString?r[o]._toString.call(r[o]):r[o]);t._log.apply(t,i)}(n,r)}catch(e){if(console){if(console.error)return void console.error(e);if(console.log)return void console.log(e)}throw e}}this._log=function(){var e=arguments[0];e=arguments[0]=c[e],emedia._logContext&&function(){try{(function(){if(emedia._logContextIndex<0)return;if(!(emedia._logContext&&emedia._logContext instanceof Array))return;var e=emedia._logContextIndex%emedia._logContext.length,t=emedia._logContext[e];t&&t instanceof Array||(t=emedia._logContext[e]=[]);var n=[];n.push(emedia._logContextIndex);var r,i=new Date;"function"==typeof i.toLocaleString?n.push(i.toLocaleString()):i.toJSON?n.push(i.toJSON()):i.toISOString?n.push(i.toISOString()):n.push(i+"");for(var o=0;o<arguments.length;o++){var s=arguments[o];"string"!=typeof s?s?"string"!=typeof s.message?"function"!=typeof s.message?"string"!=typeof s.stack?s.event&&"function"==typeof s.event.toString?n.push(s.event.toString()):s.event&&"function"==typeof s.event.toString?n.push(s.event.toString()):"string"!=typeof s.candidate?"string"!=typeof s.sdp?isPlainObject(s)?n.push((0,_stringify2.default)(s)):n.push(String(s)):n.push(s.sdp):n.push(s.candidate):n.push(s.stack):n.push(s.message()):n.push(s.message):n.push(s):n.push(s)}emedia.config.loglastStoreArray&&t.push(r=n.join(" "));if("function"==typeof emedia.config.onSdkLog)try{r||(r=n.join(" ")),emedia.config.onSdkLog(r)}catch(e){console.error(e)}}).apply(null,arguments)}catch(e){console.warn(e)}}.apply(null,arguments),!0===emedia.config.consoleLogger&&(emedia&&emedia.isElectron?console.log.apply(console,arguments):console&&e&&(console[e.toLowerCase()]||console.warn).apply(console,arguments))},this.log=function(){this._log&&u(i,arguments)},this.trace=function(){this._log&&u(n,arguments)},this.debug=function(){this._log&&u(r,arguments)},this.info=function(){this._log&&u(i,arguments)},this.warn=function(){this._log&&u(o,arguments)},this.error=function(){this._log&&u(s,arguments)},this.fatal=function(){this._log&&u(a,arguments)}};Logger.prototype.count=function(){if(emedia._logContext){emedia._logContextIndex++;var e=emedia._logContextIndex%emedia._logContext.length;0===e&&0!==emedia._logContextIndex&&(emedia._logContext.loadlogs=emedia._logContext[e]),emedia._logContext[e]=[]}},Util.prototype.logger=new Logger,Util.prototype.tagLogger=function(e){return new Logger(e)},Util.prototype.parseJSON=function(e){return JSON.parse(e)};var stringifyJSON=Util.prototype.stringifyJSON=function(e){return(0,_stringify2.default)(e)},class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,fnToString=hasOwn.toString,ObjectFunctionString=fnToString.call(Object),isPlainObject=Util.prototype.isPlainObject=function(e){var t,n;return!(!e||"[object Object]"!==toString.call(e)||"<JSAPI-Auto Javascript Object>"===e.toString()||"[object IFBComJavascriptObject]"===e.toString())&&(!(t=(0,_getPrototypeOf2.default)(e))||"function"==typeof(n=hasOwn.call(t,"constructor")&&t.constructor)&&fnToString.call(n)===ObjectFunctionString)},e,n,engine;Util.prototype.isArray=Array.isArray,Util.prototype.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},Util.prototype.type=function(e){return null==e?e+"":"object"===(void 0===e?"undefined":(0,_typeof3.default)(e))||"function"==typeof e?class2type[toString.call(e)]||"object":void 0===e?"undefined":(0,_typeof3.default)(e)},Util.prototype.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"===(void 0===s?"undefined":(0,_typeof3.default)(s))||this.isFunction(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(r=e[t])&&(u&&r&&(this.isPlainObject(r)||(i=this.isArray(r)))?(i?(i=!1,o=n&&this.isArray(n)?n:[]):o=n&&this.isPlainObject(n)?n:{},s[t]=this.extend(u,o,r)):void 0!==r&&(s[t]=r));return s},Util.prototype.removeAttribute=function(e,t){if(null!==e&&void 0!==e){var n=e[t];return delete e[t],n}},Util.prototype.prototypeExtend_000=Util.prototype.classExtend=function(){var e,t=this;function n(){for(var e=0;e<arguments.length;e++){var n=arguments[e]||{};t.extend(!0,this,n)}this.__init__&&this.__init__.apply(this,arguments)}for(var r=0;r<arguments.length;r++){var i=arguments[r]||{};"function"==typeof i?e?(i.constructor=e,i.__proto__=e.prototype):e=i:t.extend(!0,n.prototype,i)}return e&&(n.prototype.__proto__=e.prototype),e&&(n.prototype.constructor=e),n.extend||(n.extend=function(e){return t.prototypeExtend(n,e)}),n},Util.prototype.prototypeExtend=Util.prototype.classExtend=function(){var e=this;function t(){for(var t=0;t<arguments.length;t++){var n=arguments[t]||{};e.extend(!0,this,n)}this.__init__&&this.__init__.apply(this,arguments)}for(var n=0;n<arguments.length;n++){var r=arguments[n]||{};"function"==typeof r&&(r=r.prototype),e.extend(!0,t.prototype,r)}return t.extend||(t.extend=function(n){return e.prototypeExtend(t,n)}),t},Util.prototype.hasLocalStorage=function(e){return null!=localStorage.getItem(e)&&"{}"!=localStorage.getItem(e)},Util.prototype.toggleClass=function(e,t){e.hasClass(t)?e.removeClass(t):e.addClass(t)},Util.prototype.setCookie=function(e,t,n){var r=new Date;r.setTime(r.getTime()+60*n*60*1e3),document.cookie=e+"="+escape(t)+";expires="+r.toGMTString()},Util.prototype.getCookie=function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},Util.prototype.parseURL=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},Util.prototype.forEach=function(e,t){if(e&&!(this.isArray(e)&&0===e.length||void 0!==e.length&&0===e.length))if(e.length)for(var n=0;n<e.length;n++)t(n,e[n]);else if(e&&!this.isEmptyObject(e)){e=e||{};var r=this.extend(!1,{},e);for(var i in r)t(i,e[i])}},Util.prototype.isInt=function(e){return Number(e)===e&&e%1==0},Util.prototype.isFloat=function(e){return Number(e)===e&&e%1!=0},Util.prototype.list=function(){return 1===arguments.length?[arguments[0]]:Array.apply(null,arguments)},Util.prototype.addEvent=function(e,t,n){if(e.attachEvent)return e.attachEvent("on"+t,n);if(e.addEventListener)return e.addEventListener(t,n,!1);throw"Handler could not be attached"},Util.prototype.removeEvent=function(e,t,n){if(e.detachEvent)return e.detachEvent("on"+t,n);if(e.removeEventListener)return e.removeEventListener(t,n,!1);throw"Handler could not be removed"},Util.prototype.stopEvent=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1},Util.prototype.getDomPageRect=function(e){var t=e.getBoundingClientRect();return{x:t.left+(window.pageXOffset||window.document.documentElement.scrollLeft),y:t.top+(window.pageYOffset||window.document.documentElement.scrollTop),width:t.width||e.offsetWidth,height:t.height||e.offsetHeight}},Util.prototype.getEventElementXY=function(e,t,n){var r,i,o=(e=e||window.event).changedTouches?e.changedTouches[0]:e.touches?e.touches[0]:e;void 0!=o.pageX&&void 0!=o.pageY?(r=o.pageX,i=o.pageY):void 0!=o.clientX&&void 0!=o.clientY&&(r=o.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=o.clientY+document.body.scrollTop+document.documentElement.scrollTop);var s=this.getDomPageRect(t),a=r-s.x,c=i-s.y;return(0===n||void 0==n)&&(n=1),{x:Math.round(Math.max(Math.min(a,s.width-1),0)/n),y:Math.round(Math.max(Math.min(c,s.height-1),0)/n),width:Math.round(s.width/n),height:Math.round(s.height/n),realX:a,realY:c}},Util.prototype.layoutEngine=(engine={presto:!!window.opera,trident:!!window.ActiveXObject&&(window.XMLHttpRequest?document.querySelectorAll?6:5:4),webkit:function(){try{return!navigator.taintEnabled&&(i.Features.xpath?i.Features.query?525:420:419)}catch(e){return!1}}(),gecko:!(!document.getBoxObjectFor&&null==window.mozInnerScreenX)&&(document.getElementsByClassName?19:18)},engine.webkit&&(engine.webkit=(e=engine,n=(navigator.userAgent.match(/WebKit\/([0-9\.]*) /)||["",e])[1],parseFloat(n,10))),engine),Util.prototype.targetDOM="object"===("undefined"==typeof HTMLElement?"undefined":(0,_typeof3.default)(HTMLElement))?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"===(void 0===e?"undefined":(0,_typeof3.default)(e))&&1===e.nodeType&&"string"==typeof e.nodeName},Util.prototype.cloneCSS=function(e,t){var n=window.getComputedStyle&&window.getComputedStyle(e,null)||e.currentStyle;for(var r in n){var i=n[r];/^[a-z]/i.test(r)&&[null,"",void 0].indexOf(i)<0&&(t.style[r]=i)}},Util.prototype.canYield=function(){try{return eval("!!Function('yield true;')().next()")}catch(e){return!1}}(),module.exports=new Util},function(e,t,n){t.__esModule=!0;var r=s(n(74)),i=s(n(125)),o="function"==typeof i.default&&"symbol"===__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(r.default)?function(e){return void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e)};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){e.exports={default:n(75),__esModule:!0}},function(e,t,n){n(76),n(120),e.exports=n(124).f("iterator")},function(e,t,n){var r=n(77)(!0);n(80)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(78),i=n(79);e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(81),i=n(82),o=n(98),s=n(87),a=n(99),c=n(100),u=n(116),d=n(118),l=n(117)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,m,v,_){c(n,t,h);var g,b,y,A=function(e){if(!f&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",S="values"==m,C=!1,I=e.prototype,x=I[l]||I["@@iterator"]||m&&I[m],M=x||A(m),E=m?S?A("entries"):M:void 0,T="Array"==t&&I.entries||x;if(T&&(y=d(T.call(new e)))!==Object.prototype&&y.next&&(u(y,w,!0),r||"function"==typeof y[l]||s(y,l,p)),S&&x&&"values"!==x.name&&(C=!0,M=function(){return x.call(this)}),r&&!_||!f&&!C&&I[l]||s(I,l,M),a[t]=M,a[w]=p,m)if(g={values:S?M:A("values"),keys:v?M:A("keys"),entries:E},_)for(b in g)b in I||o(I,b,g[b]);else i(i.P+i.F*(f||C),t,g);return g}},function(e,t){e.exports=!0},function(e,t,n){var r=n(83),i=n(84),o=n(85),s=n(87),a=n(97),c=function e(t,n,c){var u,d,l,f=t&e.F,p=t&e.G,h=t&e.S,m=t&e.P,v=t&e.B,_=t&e.W,g=p?i:i[n]||(i[n]={}),b=g.prototype,y=p?r:h?r[n]:(r[n]||{}).prototype;for(u in p&&(c=n),c)(d=!f&&y&&void 0!==y[u])&&a(g,u)||(l=d?y[u]:c[u],g[u]=p&&"function"!=typeof y[u]?c[u]:v&&d?o(l,r):_&&y[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):m&&"function"==typeof l?o(Function.call,l):l,m&&((g.virtual||(g.virtual={}))[u]=l,t&e.R&&b&&!b[u]&&s(b,u,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(86);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(88),i=n(96);e.exports=n(92)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(89),i=n(91),o=n(95),s=__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property___default.a;t.f=n(92)?__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property___default.a:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(90);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"===(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(92)&&!n(93)(function(){return 7!=Object.defineProperty(n(94)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=!n(93)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(90),i=n(83).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(90);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=n(87)},function(e,t){e.exports={}},function(e,t,n){var r=n(101),i=n(96),o=n(116),s={};n(87)(s,n(117)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(89),i=n(102),o=n(114),s=n(111)("IE_PROTO"),a=function(){},c=function(){var e,t=n(94)("iframe"),r=o.length;for(t.style.display="none",n(115).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default.a||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(88),i=n(89),o=n(103);e.exports=n(92)?__WEBPACK_IMPORTED_MODULE_17_babel_runtime_core_js_object_define_properties___default.a:function(e,t){i(e);for(var n,s=o(t),a=s.length,c=0;a>c;)r.f(e,n=s[c++],t[n]);return e}},function(e,t,n){var r=n(104),i=n(114);e.exports=__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default.a||function(e){return r(e,i)}},function(e,t,n){var r=n(97),i=n(105),o=n(108)(!1),s=n(111)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(106),i=n(79);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(107);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(105),i=n(109),o=n(110);e.exports=function(e){return function(t,n,s){var a,c=r(t),u=i(c.length),d=o(s,u);if(e&&n!=n){for(;u>d;)if((a=c[d++])!=a)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===n)return e||d||0;return!e&&-1}}},function(e,t,n){var r=n(78),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(78),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(112)("keys"),i=n(113);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(84),i=n(83),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(81)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(83).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(88).f,i=n(97),o=n(117)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(112)("wks"),i=n(113),o=n(83).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(97),i=n(119),o=n(111)("IE_PROTO"),s=Object.prototype;e.exports=__WEBPACK_IMPORTED_MODULE_15_babel_runtime_core_js_object_get_prototype_of___default.a||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(79);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(121);for(var r=n(83),i=n(87),o=n(99),s=n(117)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],d=r[u],l=d&&d.prototype;l&&!l[s]&&i(l,s,u),o[u]=o.Array}},function(e,t,n){var r=n(122),i=n(123),o=n(99),s=n(105);e.exports=n(80)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){t.f=n(117)},function(e,t,n){e.exports={default:n(126),__esModule:!0}},function(e,t,n){n(127),n(137),n(138),n(139),e.exports=n(84).Symbol},function(e,t,n){var r=n(83),i=n(97),o=n(92),s=n(82),a=n(98),c=n(128).KEY,u=n(93),d=n(112),l=n(116),f=n(113),p=n(117),h=n(124),m=n(129),v=n(130),_=n(133),g=n(89),b=n(90),y=n(119),A=n(105),w=n(95),S=n(96),C=n(101),I=n(134),x=n(136),M=n(131),E=n(88),T=n(103),R=x.f,k=E.f,O=I.f,P=r.Symbol,j=r.JSON,D=j&&j.stringify,L=p("_hidden"),B=p("toPrimitive"),U={}.propertyIsEnumerable,N=d("symbol-registry"),V=d("symbols"),F=d("op-symbols"),W=Object.prototype,G="function"==typeof P&&!!M.f,K=r.QObject,z=!K||!K.prototype||!K.prototype.findChild,q=o&&u(function(){return 7!=C(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=R(W,t);r&&delete W[t],k(e,t,n),r&&e!==W&&k(W,t,r)}:k,H=function(e){var t=V[e]=C(P.prototype);return t._k=e,t},Q=G&&"symbol"==__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(P.iterator)?function(e){return"symbol"==(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))}:function(e){return e instanceof P},Y=function(e,t,n){return e===W&&Y(F,t,n),g(e),t=w(t,!0),g(n),i(V,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=C(n,{enumerable:S(0,!1)})):(i(e,L)||k(e,L,S(1,{})),e[L][t]=!0),q(e,t,n)):k(e,t,n)},J=function(e,t){g(e);for(var n,r=v(t=A(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},X=function(e){var t=U.call(this,e=w(e,!0));return!(this===W&&i(V,e)&&!i(F,e))&&(!(t||!i(this,e)||!i(V,e)||i(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=A(e),t=w(t,!0),e!==W||!i(V,t)||i(F,t)){var n=R(e,t);return!n||!i(V,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=O(A(e)),r=[],o=0;n.length>o;)i(V,t=n[o++])||t==L||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===W,r=O(n?F:A(e)),o=[],s=0;r.length>s;)!i(V,t=r[s++])||n&&!i(W,t)||o.push(V[t]);return o};G||(a((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0);return o&&z&&q(W,e,{configurable:!0,set:function t(n){this===W&&t.call(F,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),q(this,e,S(1,n))}}),H(e)}).prototype,"toString",function(){return this._k}),x.f=Z,E.f=Y,n(135).f=I.f=$,n(132).f=X,M.f=ee,o&&!n(81)&&a(W,"propertyIsEnumerable",X,!0),h.f=function(e){return H(p(e))}),s(s.G+s.W+s.F*!G,{Symbol:P});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=T(p.store),ie=0;re.length>ie;)m(re[ie++]);s(s.S+s.F*!G,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=P(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!G,"Object",{create:function(e,t){return void 0===t?C(e):J(C(e),t)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var oe=u(function(){M.f(1)});s(s.S+s.F*oe,"Object",{getOwnPropertySymbols:function(e){return M.f(y(e))}}),j&&s(s.S+s.F*(!G||u(function(){var e=P();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Q(e))return _(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,D.apply(j,r)}}),P.prototype[B]||n(87)(P.prototype,B,P.prototype.valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(113)("meta"),i=n(90),o=n(97),s=n(88).f,a=0,c=__WEBPACK_IMPORTED_MODULE_14_babel_runtime_core_js_object_is_extensible___default.a||function(){return!0},u=!n(93)(function(){return c(__WEBPACK_IMPORTED_MODULE_13_babel_runtime_core_js_object_prevent_extensions___default()({}))}),d=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[r].w},onFreeze:function(e){return u&&l.NEED&&c(e)&&!o(e,r)&&d(e),e}}},function(e,t,n){var r=n(83),i=n(84),o=n(81),s=n(124),a=n(88).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){var r=n(103),i=n(131),o=n(132);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),c=o.f,u=0;a.length>u;)c.call(e,s=a[u++])&&t.push(s);return t}},function(e,t){t.f=__WEBPACK_IMPORTED_MODULE_12_babel_runtime_core_js_object_get_own_property_symbols___default.a},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(107);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(105),i=n(135).f,o={}.toString,s="object"==("undefined"==typeof window?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(window))&&window&&__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names___default.a?__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names___default()(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(104),i=n(114).concat("length","prototype");t.f=__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names___default.a||function(e){return r(e,i)}},function(e,t,n){var r=n(132),i=n(96),o=n(105),s=n(95),a=n(97),c=n(91),u=__WEBPACK_IMPORTED_MODULE_10_babel_runtime_core_js_object_get_own_property_descriptor___default.a;t.f=n(92)?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(129)("asyncIterator")},function(e,t,n){n(129)("observable")},function(e,t,n){e.exports={default:n(141),__esModule:!0}},function(e,t,n){n(142),e.exports=n(84).Object.getPrototypeOf},function(e,t,n){var r=n(119),i=n(118);n(143)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(82),i=n(84),o=n(93);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",s)}},function(e,t,n){e.exports={default:n(145),__esModule:!0}},function(e,t,n){var r=n(84),i=r.JSON||(r.JSON={stringify:__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_json_stringify___default.a});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){var r;void 0===(r=function(){return t=function(){var e,t,n,r,i,o,s=[],a=s.concat,c=s.filter,u=s.slice,d=window.document,l={},f={},p={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},h=/^\s*<(\w+|!)[^>]*>/,m=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,_=/^(?:body|html)$/i,g=/([A-Z])/g,b=["val","css","html","text","data","width","height","offset"],y=d.createElement("table"),A=d.createElement("tr"),w={tr:d.createElement("tbody"),tbody:y,thead:y,tfoot:y,td:A,th:A,"*":d.createElement("div")},S=/complete|loaded|interactive/,C=/^[\w-]*$/,I={},x=I.toString,M={},E=d.createElement("div"),T={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},R=Array.isArray||function(e){return e instanceof Array};function k(e){return null==e?String(e):I[x.call(e)]||"object"}function O(e){return"function"==k(e)}function P(e){return null!=e&&e==e.window}function j(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function D(e){return"object"==k(e)}function L(e){return D(e)&&!P(e)&&__WEBPACK_IMPORTED_MODULE_15_babel_runtime_core_js_object_get_prototype_of___default()(e)==Object.prototype}function B(e){var t=!!e&&"length"in e&&e.length,r=n.type(e);return"function"!=r&&!P(e)&&("array"==r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function U(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function N(e){return e in f?f[e]:f[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function V(e,t){return"number"!=typeof t||p[U(e)]?t:t+"px"}function F(e){return"children"in e?u.call(e.children):n.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function W(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function G(e,t){return null==t?n(e):n(e).filter(t)}function K(e,t,n,r){return O(t)?t.call(e,n,r):t}function z(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function q(t,n){var r=t.className||"",i=r&&r.baseVal!==e;if(n===e)return i?r.baseVal:r;i?r.baseVal=n:t.className=n}function H(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}return M.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=E).appendChild(e),r=~M.qsa(i,t).indexOf(e),o&&E.removeChild(e),r},i=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},o=function(e){return c.call(e,function(t,n){return e.indexOf(t)==n})},M.fragment=function(t,r,i){var o,s,a;return m.test(t)&&(o=n(d.createElement(RegExp.$1))),o||(t.replace&&(t=t.replace(v,"<$1></$2>")),r===e&&(r=h.test(t)&&RegExp.$1),r in w||(r="*"),(a=w[r]).innerHTML=""+t,o=n.each(u.call(a.childNodes),function(){a.removeChild(this)})),L(i)&&(s=n(o),n.each(i,function(e,t){b.indexOf(e)>-1?s[e](t):s.attr(e,t)})),o},M.Z=function(e,t){return new W(e,t)},M.isZ=function(e){return e instanceof M.Z},M.init=function(t,r){var i,o;if(!t)return M.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&h.test(t))i=M.fragment(t,RegExp.$1,r),t=null;else{if(r!==e)return n(r).find(t);i=M.qsa(d,t)}else{if(O(t))return n(d).ready(t);if(M.isZ(t))return t;if(R(t))o=t,i=c.call(o,function(e){return null!=e});else if(D(t))i=[t],t=null;else if(h.test(t))i=M.fragment(t.trim(),RegExp.$1,r),t=null;else{if(r!==e)return n(r).find(t);i=M.qsa(d,t)}}return M.Z(i,t)},(n=function(e,t){return M.init(e,t)}).extend=function(n){var r,i=u.call(arguments,1);return"boolean"==typeof n&&(r=n,n=i.shift()),i.forEach(function(i){!function n(r,i,o){for(t in i)o&&(L(i[t])||R(i[t]))?(L(i[t])&&!L(r[t])&&(r[t]={}),R(i[t])&&!R(r[t])&&(r[t]=[]),n(r[t],i[t],o)):i[t]!==e&&(r[t]=i[t])}(n,i,r)}),n},M.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],o=r||i?t.slice(1):t,s=C.test(o);return e.getElementById&&s&&r?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:u.call(s&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},n.contains=d.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},n.type=k,n.isFunction=O,n.isWindow=P,n.isArray=R,n.isPlainObject=L,n.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},n.isNumeric=function(e){var t=Number(e),n=void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e);return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},n.inArray=function(e,t,n){return s.indexOf.call(t,e,n)},n.camelCase=i,n.trim=function(e){return null==e?"":String.prototype.trim.call(e)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(e,t){var r,i,o,s,a=[];if(B(e))for(i=0;i<e.length;i++)null!=(r=t(e[i],i))&&a.push(r);else for(o in e)null!=(r=t(e[o],o))&&a.push(r);return(s=a).length>0?n.fn.concat.apply([],s):s},n.each=function(e,t){var n,r;if(B(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},n.grep=function(e,t){return c.call(e,t)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){I["[object "+t+"]"]=t.toLowerCase()}),n.fn={constructor:M.Z,length:0,forEach:s.forEach,reduce:s.reduce,push:s.push,sort:s.sort,splice:s.splice,indexOf:s.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=M.isZ(t)?t.toArray():t;return a.apply(M.isZ(this)?this.toArray():this,n)},map:function(e){return n(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return n(u.apply(this,arguments))},ready:function(e){return S.test(d.readyState)&&d.body?e(n):d.addEventListener("DOMContentLoaded",function(){e(n)},!1),this},get:function(t){return t===e?u.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return s.every.call(this,function(t,n){return!1!==e.call(t,n,t)}),this},filter:function(e){return O(e)?this.not(this.not(e)):n(c.call(this,function(t){return M.matches(t,e)}))},add:function(e,t){return n(o(this.concat(n(e,t))))},is:function(e){return this.length>0&&M.matches(this[0],e)},not:function(t){var r=[];if(O(t)&&t.call!==e)this.each(function(e){t.call(this,e)||r.push(this)});else{var i="string"==typeof t?this.filter(t):B(t)&&O(t.item)?u.call(t):n(t);this.forEach(function(e){i.indexOf(e)<0&&r.push(e)})}return n(r)},has:function(e){return this.filter(function(){return D(e)?n.contains(this,e):n(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!D(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!D(e)?e:n(e)},find:function(e){var t=this;return e?"object"==(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))?n(e).filter(function(){var e=this;return s.some.call(t,function(t){return n.contains(t,e)})}):1==this.length?n(M.qsa(this[0],e)):this.map(function(){return M.qsa(this,e)}):n()},closest:function(e,t){var r=[],i="object"==(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))&&n(e);return this.each(function(n,o){for(;o&&!(i?i.indexOf(o)>=0:M.matches(o,e));)o=o!==t&&!j(o)&&o.parentNode;o&&r.indexOf(o)<0&&r.push(o)}),n(r)},parents:function(e){for(var t=[],r=this;r.length>0;)r=n.map(r,function(e){if((e=e.parentNode)&&!j(e)&&t.indexOf(e)<0)return t.push(e),e});return G(t,e)},parent:function(e){return G(o(this.pluck("parentNode")),e)},children:function(e){return G(this.map(function(){return F(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||u.call(this.childNodes)})},siblings:function(e){return G(this.map(function(e,t){return c.call(F(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return n.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,l[e]||(t=d.createElement(e),d.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),l[e]=n),l[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=O(e);if(this[0]&&!t)var r=n(e).get(0),i=r.parentNode||this.length>1;return this.each(function(o){n(this).wrapAll(t?e.call(this,o):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){var t;for(n(this[0]).before(e=n(e));(t=e.children()).length;)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=O(e);return this.each(function(r){var i=n(this),o=i.contents(),s=t?e.call(this,r):e;o.length?o.wrapAll(s):i.append(s)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var r=n(this);(t===e?"none"==r.css("display"):t)?r.show():r.hide()})},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var r=this.innerHTML;n(this).empty().append(K(this,e,t,r))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=K(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(n,r){var i;return"string"!=typeof n||1 in arguments?this.each(function(e){if(1===this.nodeType)if(D(n))for(t in n)z(this,t,n[t]);else z(this,n,K(this,r,e,this.getAttribute(n)))}):0 in this&&1==this[0].nodeType&&null!=(i=this[0].getAttribute(n))?i:e},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){z(this,e)},this)})},prop:function(e,t){return e=T[e]||e,1 in arguments?this.each(function(n){this[e]=K(this,t,n,this[e])}):this[0]&&this[0][e]},removeProp:function(e){return e=T[e]||e,this.each(function(){delete this[e]})},data:function(t,n){var r="data-"+t.replace(g,"-$1").toLowerCase(),i=1 in arguments?this.attr(r,n):this.attr(r);return null!==i?H(i):e},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each(function(t){this.value=K(this,e,t,this.value)})):this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var r=n(this),i=K(this,e,t,r.offset()),o=r.offsetParent().offset(),s={top:i.top-o.top,left:i.left-o.left};"static"==r.css("position")&&(s.position="relative"),r.css(s)});if(!this.length)return null;if(d.documentElement!==this[0]&&!n.contains(d.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,r){if(arguments.length<2){var o=this[0];if("string"==typeof e){if(!o)return;return o.style[i(e)]||getComputedStyle(o,"").getPropertyValue(e)}if(R(e)){if(!o)return;var s={},a=getComputedStyle(o,"");return n.each(e,function(e,t){s[t]=o.style[i(t)]||a.getPropertyValue(t)}),s}}var c="";if("string"==k(e))r||0===r?c=U(e)+":"+V(e,r):this.each(function(){this.style.removeProperty(U(e))});else for(t in e)e[t]||0===e[t]?c+=U(t)+":"+V(t,e[t])+";":this.each(function(){this.style.removeProperty(U(t))});return this.each(function(){this.style.cssText+=";"+c})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&s.some.call(this,function(e){return this.test(q(e))},N(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){r=[];var i=q(this),o=K(this,e,t,i);o.split(/\s+/g).forEach(function(e){n(this).hasClass(e)||r.push(e)},this),r.length&&q(this,i+(i?" ":"")+r.join(" "))}}):this},removeClass:function(t){return this.each(function(n){if("className"in this){if(t===e)return q(this,"");r=q(this),K(this,t,n,r).split(/\s+/g).forEach(function(e){r=r.replace(N(e)," ")}),q(this,r.trim())}})},toggleClass:function(t,r){return t?this.each(function(i){var o=n(this),s=K(this,t,i,q(this));s.split(/\s+/g).forEach(function(t){(r===e?!o.hasClass(t):r)?o.addClass(t):o.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var n="scrollTop"in this[0];return t===e?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var n="scrollLeft"in this[0];return t===e?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),r=this.offset(),i=_.test(t[0].nodeName)?{top:0,left:0}:t.offset();return r.top-=parseFloat(n(e).css("margin-top"))||0,r.left-=parseFloat(n(e).css("margin-left"))||0,i.top+=parseFloat(n(t[0]).css("border-top-width"))||0,i.left+=parseFloat(n(t[0]).css("border-left-width"))||0,{top:r.top-i.top,left:r.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||d.body;e&&!_.test(e.nodeName)&&"static"==n(e).css("position");)e=e.offsetParent;return e})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(t){var r=t.replace(/./,function(e){return e[0].toUpperCase()});n.fn[t]=function(i){var o,s=this[0];return i===e?P(s)?s["inner"+r]:j(s)?s.documentElement["scroll"+r]:(o=this.offset())&&o[t]:this.each(function(e){(s=n(this)).css(t,K(this,i,e,s[t]()))})}}),["after","prepend","before","append"].forEach(function(t,r){var i=r%2;n.fn[t]=function(){var t,o,s=n.map(arguments,function(r){var i=[];return"array"==(t=k(r))?(r.forEach(function(t){return t.nodeType!==e?i.push(t):n.zepto.isZ(t)?i=i.concat(t.get()):void(i=i.concat(M.fragment(t)))}),i):"object"==t||null==r?r:M.fragment(r)}),a=this.length>1;return s.length<1?this:this.each(function(e,t){o=i?t:t.parentNode,t=0==r?t.nextSibling:1==r?t.firstChild:2==r?t:null;var c=n.contains(d.documentElement,o);s.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!o)return n(e).remove();o.insertBefore(e,t),c&&function e(t,n){n(t);for(var r=0,i=t.childNodes.length;r<i;r++)e(t.childNodes[r],n)}(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var t=e.ownerDocument?e.ownerDocument.defaultView:window;t.eval.call(t,e.innerHTML)}})})})},n.fn[i?t+"To":"insert"+(r?"Before":"After")]=function(e){return n(e)[t](this),this}}),M.Z.prototype=W.prototype=n.fn,M.uniq=o,M.deserializeValue=H,n.zepto=M,n}(),window.Zepto=t,void 0===window.$&&(window.$=t),e.exports=t,function(e){var t,n=1,r=Array.prototype.slice,i=e.isFunction,o=function(e){return"string"==typeof e},s={},a={},c="onfocusin"in window,u={focus:"focusin",blur:"focusout"},d={mouseenter:"mouseover",mouseleave:"mouseout"};function l(e){return e._zid||(e._zid=n++)}function f(e,t,n,r){if((t=p(t)).ns)var i=(o=t.ns,new RegExp("(?:^| )"+o.replace(" "," .* ?")+"(?: |$)"));var o;return(s[l(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||l(e.fn)===l(n))&&(!r||e.sel==r)})}function p(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function h(e,t){return e.del&&!c&&e.e in u||!!t}function m(e){return d[e]||c&&u[e]||e}function v(n,r,i,o,a,c,u){var f=l(n),v=s[f]||(s[f]=[]);r.split(/\s/).forEach(function(r){if("ready"==r)return e(document).ready(i);var s=p(r);s.fn=i,s.sel=a,s.e in d&&(i=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return s.fn.apply(this,arguments)}),s.del=c;var l=c||i;s.proxy=function(e){if(!(e=w(e)).isImmediatePropagationStopped()){e.data=o;var r=l.apply(n,e._args==t?[e]:[e].concat(e._args));return!1===r&&(e.preventDefault(),e.stopPropagation()),r}},s.i=v.length,v.push(s),"addEventListener"in n&&n.addEventListener(m(s.e),s.proxy,h(s,u))})}function _(e,t,n,r,i){var o=l(e);(t||"").split(/\s/).forEach(function(t){f(e,t,n,r).forEach(function(t){delete s[o][t.i],"removeEventListener"in e&&e.removeEventListener(m(t.e),t.proxy,h(t,i))})})}a.click=a.mousedown=a.mouseup=a.mousemove="MouseEvents",e.event={add:v,remove:_},e.proxy=function(t,n){var s=2 in arguments&&r.call(arguments,2);if(i(t)){var a=function(){return t.apply(n,s?s.concat(r.call(arguments)):arguments)};return a._zid=l(t),a}if(o(n))return s?(s.unshift(t[n],t),e.proxy.apply(null,s)):e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var g=function(){return!0},b=function(){return!1},y=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,A={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function w(n,r){return!r&&n.isDefaultPrevented||(r||(r=n),e.each(A,function(e,t){var i=r[e];n[e]=function(){return this[t]=g,i&&i.apply(r,arguments)},n[t]=b}),n.timeStamp||(n.timeStamp=Date.now()),(r.defaultPrevented!==t?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(n.isDefaultPrevented=g)),n}function S(e){var n,r={originalEvent:e};for(n in e)y.test(n)||e[n]===t||(r[n]=e[n]);return w(r,e)}e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(n,s,a,c,u){var d,l,f=this;return n&&!o(n)?(e.each(n,function(e,t){f.on(e,s,a,t,u)}),f):(o(s)||i(c)||!1===c||(c=a,a=s,s=t),c!==t&&!1!==a||(c=a,a=t),!1===c&&(c=b),f.each(function(t,i){u&&(d=function(e){return _(i,e.type,c),c.apply(this,arguments)}),s&&(l=function(t){var n,o=e(t.target).closest(s,i).get(0);if(o&&o!==i)return n=e.extend(S(t),{currentTarget:o,liveFired:i}),(d||c).apply(o,[n].concat(r.call(arguments,1)))}),v(i,n,c,a,s,l||d)}))},e.fn.off=function(n,r,s){var a=this;return n&&!o(n)?(e.each(n,function(e,t){a.off(e,r,t)}),a):(o(r)||i(s)||!1===s||(s=r,r=t),!1===s&&(s=b),a.each(function(){_(this,n,s,r)}))},e.fn.trigger=function(t,n){return(t=o(t)||e.isPlainObject(t)?e.Event(t):w(t))._args=n,this.each(function(){t.type in u&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,n){var r,i;return this.each(function(s,a){(r=S(o(t)?e.Event(t):t))._args=n,r.target=a,e.each(f(a,t.type||t),function(e,t){if(i=t.proxy(r),r.isImmediatePropagationStopped())return!1})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){o(e)||(e=(t=e).type);var n=document.createEvent(a[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),w(n)}}(t),function(e){var t,n,r=+new Date,i=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,a=/^(?:text|application)\/xml/i,c="application/json",u="text/html",d=/^\s*$/,l=i.createElement("a");function f(t,n,r,o){if(t.global)return function(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}(n||i,r,o)}function p(e,t){var n=t.context;if(!1===t.beforeSend.call(n,e,t)||!1===f(t,n,"ajaxBeforeSend",[e,t]))return!1;f(t,n,"ajaxSend",[e,t])}function h(e,t,n,r){var i=n.context;n.success.call(i,e,"success",t),r&&r.resolveWith(i,[e,"success",t]),f(n,i,"ajaxSuccess",[t,n,e]),v("success",t,n)}function m(e,t,n,r,i){var o=r.context;r.error.call(o,n,t,e),i&&i.rejectWith(o,[n,t,e]),f(r,o,"ajaxError",[n,r,e||t]),v(t,n,r)}function v(t,n,r){var i=r.context;r.complete.call(i,n,t),f(r,i,"ajaxComplete",[n,r]),function(t){t.global&&!--e.active&&f(t,null,"ajaxStop")}(r)}function _(){}function g(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function b(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}l.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var o,s,a=t.jsonpCallback,c=(e.isFunction(a)?a():a)||"Zepto"+r++,u=i.createElement("script"),d=window[c],l=function(t){e(u).triggerHandler("error",t||"abort")},f={abort:l};return n&&n.promise(f),e(u).on("load error",function(r,i){clearTimeout(s),e(u).off().remove(),"error"!=r.type&&o?h(o[0],f,t,n):m(null,i||"error",f,t,n),window[c]=d,o&&e.isFunction(d)&&d(o[0]),d=o=void 0}),!1===p(f,t)?(l("abort"),f):(window[c]=function(){o=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),i.head.appendChild(u),t.timeout>0&&(s=setTimeout(function(){l("timeout")},t.timeout)),f)},e.ajaxSettings={type:"GET",beforeSend:_,success:_,error:_,complete:_,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:c,xml:"application/xml, text/xml",html:u,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:_},e.ajax=function(r){var o,v,b=e.extend({},r||{}),y=e.Deferred&&e.Deferred();for(t in e.ajaxSettings)void 0===b[t]&&(b[t]=e.ajaxSettings[t]);!function(t){t.global&&0==e.active++&&f(t,null,"ajaxStart")}(b),b.crossDomain||((o=i.createElement("a")).href=b.url,o.href=o.href,b.crossDomain=l.protocol+"//"+l.host!=o.protocol+"//"+o.host),b.url||(b.url=window.location.toString()),(v=b.url.indexOf("#"))>-1&&(b.url=b.url.slice(0,v)),function(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=g(t.url,t.data),t.data=void 0)}(b);var A=b.dataType,w=/\?.+=\?/.test(b.url);if(w&&(A="jsonp"),!1!==b.cache&&(r&&!0===r.cache||"script"!=A&&"jsonp"!=A)||(b.url=g(b.url,"_="+Date.now())),"jsonp"==A)return w||(b.url=g(b.url,b.jsonp?b.jsonp+"=?":!1===b.jsonp?"":"callback=?")),e.ajaxJSONP(b,y);var S,C=b.accepts[A],I={},x=function(e,t){I[e.toLowerCase()]=[e,t]},M=/^([\w-]+:)\/\//.test(b.url)?RegExp.$1:window.location.protocol,E=b.xhr(),T=E.setRequestHeader;if(y&&y.promise(E),b.crossDomain||x("X-Requested-With","XMLHttpRequest"),x("Accept",C||"*/*"),(C=b.mimeType||C)&&(C.indexOf(",")>-1&&(C=C.split(",",2)[0]),E.overrideMimeType&&E.overrideMimeType(C)),(b.contentType||!1!==b.contentType&&b.data&&"GET"!=b.type.toUpperCase())&&x("Content-Type",b.contentType||"application/x-www-form-urlencoded"),b.headers)for(n in b.headers)x(n,b.headers[n]);if(E.setRequestHeader=x,E.onreadystatechange=function(){if(4==E.readyState){E.onreadystatechange=_,clearTimeout(S);var t,n=!1;if(E.status>=200&&E.status<300||304==E.status||0==E.status&&"file:"==M){if(A=A||((r=b.mimeType||E.getResponseHeader("content-type"))&&(r=r.split(";",2)[0]),r&&(r==u?"html":r==c?"json":s.test(r)?"script":a.test(r)&&"xml")||"text"),"arraybuffer"==E.responseType||"blob"==E.responseType)t=E.response;else{t=E.responseText;try{t=function(e,t,n){if(n.dataFilter==_)return e;var r=n.context;return n.dataFilter.call(r,e,t)}(t,A,b),"script"==A?(0,eval)(t):"xml"==A?t=E.responseXML:"json"==A&&(t=d.test(t)?null:e.parseJSON(t))}catch(e){n=e}if(n)return m(n,"parsererror",E,b,y)}h(t,E,b,y)}else m(E.statusText||null,E.status?"error":"abort",E,b,y)}var r},!1===p(E,b))return E.abort(),m(null,"abort",E,b,y),E;var R=!("async"in b)||b.async;if(E.open(b.type,b.url,R,b.username,b.password),b.xhrFields)for(n in b.xhrFields)E[n]=b.xhrFields[n];for(n in I)T.apply(E,I[n]);return b.timeout>0&&(S=setTimeout(function(){E.onreadystatechange=_,E.abort(),m(null,"timeout",E,b,y)},b.timeout)),E.send(b.data?b.data:null),E},e.get=function(){return e.ajax(b.apply(null,arguments))},e.post=function(){var t=b.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=b.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var i,s=this,a=t.split(/\s/),c=b(t,n,r),u=c.success;return a.length>1&&(c.url=a[0],i=a[1]),c.success=function(t){s.html(i?e("<div>").html(t.replace(o,"")).find(i):t),u&&u.apply(s,arguments)},e.ajax(c),this};var y=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(y(t)+"="+y(n))},function t(n,r,i,o){var s,a=e.isArray(r),c=e.isPlainObject(r);e.each(r,function(r,u){s=e.type(u),o&&(r=i?o:o+"["+(c||"object"==s||"array"==s?r:"")+"]"),!o&&a?n.add(u.name,u.value):"array"==s||!i&&"object"==s?t(n,u,i,r):n.add(r,u)})}(r,t,n),r.join("&").replace(/%20/g,"+")}}(t),(n=t).fn.serializeArray=function(){var e,t,r=[];return this[0]&&n.each(this[0].elements,function(i,o){t=o.type,(e=o.name)&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=t&&"reset"!=t&&"button"!=t&&"file"!=t&&("radio"!=t&&"checkbox"!=t||o.checked)&&function t(n){if(n.forEach)return n.forEach(t);r.push({name:e,value:n})}(n(o).val())}),r},n.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},n.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var t=n.Event("submit");this.eq(0).trigger(t),t.isDefaultPrevented()||this.get(0).submit()}return this},function(){try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t,n){try{return e(t,n)}catch(e){return null}}}}(),t;var t,n}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=emedia.singleWebrtcAdapter;emedia.util.logger.warn("webrtc-adapter must load once. if more, safari may initC sdp error(too many audio video, easemob server dont work)"),r?emedia.util.logger.error("webrtc-adapter repeated load, safari may dont work"):function(){if(document.documentMode){var e=/\brv[ :]+(\d+)/g.exec(navigator.userAgent)||[],t=parseInt(e[1],10);t||(e=/\bMSIE[ :]+(\d+)/g.exec(navigator.userAgent)||[],t=parseInt(e[1]||"0",10)),emedia.util.logger.error("adapter.ie not required"),r.__browser="IE",r.__browserVersion=t}else r=n(148),emedia.util.logger.info("webrtc-adapter load first"),window.attachMediaStream&&!0!==window.attachMediaStream._wrapped&&(window.__attachMediaStream=window.attachMediaStream),window.attachMediaStream=function(e,t,n,r){function i(){n=!!(void 0===n?t._located:n),e.muted=!1,n!==e.muted&&(e.muted=!0)}if(r||(r=window.__attachMediaStream)||(r=function(e,t){e.srcObject=t,emedia.isSafari&&(e.pause(),e.play());var n=emedia.util.logger||window.console||console;if(n){if(t&&n.info("stream attach videoTag.",t.id,t._located,">>",e.id,e.muted,e.volume,e),t||n.info("stream(null) attach videoTag.",e.id,e.muted,e.volume,e),!e.hxSetOnvolumechange){var r=e.onvolumechange;e.onvolumechange=function(){n.debug("stream attach detail: video tag volume chanage",e.volume,t?t.id:t),r&&r.apply(e,arguments)},e.hxSetOnvolumechange=!0}if(!e.hxSetOnstalled){var i=e.onstalled;e.onstalled=function(){n.debug("stream attach detail: video tag onstalled",t?t.id:t),i&&i.apply(e,arguments)},e.hxSetOnstalled=!0}if(!e.hxSetOnabort){var o=e.onabort;e.onabort=function(){n.debug("stream attach detail: video tag onabort",t?t.id:t),o&&o.apply(e,arguments)},e.hxSetOnabort=!0}if(!e.hxSetOncanplay){var s=e.oncanplay;e.oncanplay=function(){t&&t.getTracks().forEach(function(e){"function"==typeof e.getSettings&&n.debug("stream attach detail",t.id," track setting =",e.enabled,e.id,e.kind,e.label,e.getSettings())}),n.debug("stream attach detail: video tag",e.videoWidth,"x",e.videoHeight,t?t.id:t),s&&s.apply(e,arguments)},e.hxSetOncanplay=!0}}}.bind(this)),e){if(t)return e.srcObject&&e.srcObject._located&&t._located&&e.srcObject.id===t.id?e.srcObject:(i(),r(e,t),e);r(e,t)}},window.attachMediaStream._wrapped=!0,console&&"function"==typeof console.info&&console.info("Wrap the attachMediaStream ",r.__browser,r.__browserVersion);emedia.singleWebrtcAdapter=r}(),r.__browser=r.__browser||r.browserDetails.browser,r.__browserVersion=r.__browserVersion||r.browserDetails.version,emedia.util.logger.info("Current browser",r.__browser,r.__browserVersion),"Not a supported browser."===r.__browser&&emedia.util.logger.error("Not a supported browser"),t.default=r},function(e,t,n){var r,i,o,s,a,c=g(n(149)),u=g(n(144)),d=g(n(153)),l=g(n(156)),f=g(n(178)),p=g(n(181)),h=g(n(197)),m=g(n(74)),v=g(n(125)),_=g(n(73));function g(e){return e&&e.__esModule?e:{default:e}}a=function(){return function(){return function e(t,n,r){function i(a,c){if(!n[a]){if(!t[a]){if(!c&&"function"==typeof s&&s)return s(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){return i(t[a][1][e]||e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof s&&s,a=0;a<r.length;a++)i(r[a]);return i}}()({1:[function(e,t,n){console.warn("webrtc adapter version: 7.6.1");var r=(0,e("./adapter_factory.js").adapterFactory)({window:window});t.exports=r},{"./adapter_factory.js":2}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.adapterFactory=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},n=r.log,u=r.detectBrowser(e),d={browserDetails:u,commonShim:c,extractVersion:r.extractVersion,disableLog:r.disableLog,disableWarnings:r.disableWarnings};switch(u.browser){case"chrome":if(!i||!i.shimPeerConnection||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),d;if(null===u.version)return n("Chrome shim can not determine version, not shimming."),d;n("adapter.js shimming chrome."),d.browserShim=i,i.shimGetUserMedia(e),i.shimMediaStream(e),i.shimPeerConnection(e),i.shimOnTrack(e),i.shimAddTrackRemoveTrack(e),i.shimGetSendersWithDtmf(e),i.shimGetStats(e),i.shimSenderReceiverGetStats(e),i.fixNegotiationNeeded(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;case"firefox":if(!s||!s.shimPeerConnection||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),d;n("adapter.js shimming firefox."),d.browserShim=s,s.shimGetUserMedia(e),s.shimPeerConnection(e),s.shimOnTrack(e),s.shimRemoveStream(e),s.shimSenderGetStats(e),s.shimReceiverGetStats(e),s.shimRTCDataChannel(e),s.shimAddTransceiver(e),s.shimCreateOffer(e),s.shimCreateAnswer(e),c.shimRTCIceCandidate(e),c.shimConnectionState(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"edge":if(!o||!o.shimPeerConnection||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),d;n("adapter.js shimming edge."),d.browserShim=o,o.shimGetUserMedia(e),o.shimGetDisplayMedia(e),o.shimPeerConnection(e),o.shimReplaceTrack(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e);break;case"safari":if(!a||!t.shimSafari)return n("Safari shim is not included in this adapter release."),d;n("adapter.js shimming safari."),d.browserShim=a,a.shimRTCIceServerUrls(e),a.shimCreateOfferLegacy(e),a.shimCallbacksAPI(e),a.shimLocalStreamsAPI(e),a.shimRemoteStreamsAPI(e),a.shimTrackEventTransceiver(e),a.shimGetUserMedia(e),a.shimAudioContext(e),c.shimRTCIceCandidate(e),c.shimMaxMessageSize(e),c.shimSendThrowTypeError(e),c.removeAllowExtmapMixed(e);break;default:n("Unsupported browser!")}return d};var r=u(e("./utils")),i=u(e("./chrome/chrome_shim")),o=u(e("./edge/edge_shim")),s=u(e("./firefox/firefox_shim")),a=u(e("./safari/safari_shim")),c=u(e("./common_shim"));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"==typeof v.default&&"symbol"===(0,_.default)(m.default)?function(e){return void 0===e?"undefined":(0,_.default)(e)}:function(e){return e&&"function"==typeof v.default&&e.constructor===v.default&&e!==v.default.prototype?"symbol":void 0===e?"undefined":(0,_.default)(e)},i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimMediaStream=function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},n.shimOnTrack=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)s.wrapPeerConnectionEvent(e,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===r.track.id}):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}),t.stream.getTracks().forEach(function(r){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===r.id}):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}},n.shimGetSendersWithDtmf=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach(function(e){n._senders.push(t(n,e))})};var s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],s.apply(this,[e]),e.getTracks().forEach(function(e){var n=t._senders.find(function(t){return t.track===e});n&&t._senders.splice(t._senders.indexOf(n),1)})}}else if("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},n.shimGetStats=function(e){if(!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var s=function(e){var t={},n=e.result();return n.forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},a=function(e){return new p.default((0,f.default)(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){return t.apply(this,[function(e){i(a(s(e)))},r])}return new l.default(function(n,r){t.apply(e,[function(e){n(a(s(e)))},r])}).then(i,o)}},n.shimSenderReceiverGetStats=function(e){if(!("object"===(void 0===e?"undefined":r(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return s.filterStats(t,e.track,!0)})}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t}),s.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return s.filterStats(t,e.track,!1)})}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],n=void 0,r=void 0,i=void 0;return this.getSenders().forEach(function(e){e.track===t&&(n?i=!0:n=e)}),this.getReceivers().forEach(function(e){return e.track===t&&(r?i=!0:r=e),e.track===t}),i||n&&r?l.default.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():r?r.getStats():l.default.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}},n.shimAddTrackRemoveTrackWithNative=c,n.shimAddTrackRemoveTrack=function(e){if(!e.RTCPeerConnection)return;var t=s.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return c(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(function(e){var t=n.getSenders().find(function(t){return t.track===e});if(t)throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){var n=t.sdp;return(0,f.default)(e._reverseStreams||[]).forEach(function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=this.getSenders().find(function(e){return e.track===t});if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var s=this._streams[n.id];if(s)s.addTrack(t),l.default.resolve().then(function(){r.dispatchEvent(new Event("negotiationneeded"))});else{var a=new e.MediaStream([t]);this._streams[n.id]=a,this._reverseStreams[a.id]=n,this.addStream(a)}return this.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],r=a({},t,function(){var e=this,t=arguments,r=arguments.length&&"function"==typeof arguments[0];return r?n.apply(this,[function(n){var r=o(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then(function(t){return o(e,t)})});e.RTCPeerConnection.prototype[t]=r[t]});var u=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=(e=this,t=arguments[0],n=t.sdp,(0,f.default)(e._reverseStreams||[]).forEach(function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})),u.apply(this,arguments)):u.apply(this,arguments);var e,t,n};var p=(0,d.default)(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=p.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var n=e._pc===this;if(!n)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var r=void 0;(0,f.default)(this._streams).forEach(function(n){var i=t._streams[n].getTracks().find(function(t){return e.track===t});i&&(r=t._streams[n])}),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}},n.shimPeerConnection=function(e){var t=s.detectBrowser(e);!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection);if(!e.RTCPeerConnection)return;var n=0===e.RTCPeerConnection.prototype.addIceCandidate.length;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],r=a({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=r[t]});var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return n||arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?l.default.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),l.default.resolve())}},n.fixNegotiationNeeded=function(e){var t=s.detectBrowser(e);s.wrapPeerConnectionEvent(e,"negotiationneeded",function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e})};var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils.js"));function a(e,t,n){return t in e?(0,h.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},(0,f.default)(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter(function(e){return-1===r.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&(0,f.default)(this._shimmedLocalStreams).forEach(function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]}),i.apply(this,arguments)}}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){if(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)return;if(!e.navigator.mediaDevices)return;if("function"!=typeof t)return void console.error("shimGetDisplayMedia: getSourceId argument is not a function");e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)})}}},{}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof v.default&&"symbol"===(0,_.default)(m.default)?function(e){return void 0===e?"undefined":(0,_.default)(e)}:function(e){return e&&"function"==typeof v.default&&e.constructor===v.default&&e!==v.default.prototype?"symbol":void 0===e?"undefined":(0,_.default)(e)};n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(!t.mediaDevices)return;var n=i.detectBrowser(e),s=function(e){if("object"!==(void 0===e?"undefined":r(e))||e.mandatory||e.optional)return e;var t={};return(0,f.default)(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"===r(e[n])?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var s={};"number"==typeof i.ideal?(s[o("min",n)]=i.ideal,t.optional.push(s),(s={})[o("max",n)]=i.ideal,t.optional.push(s)):(s[o("",n)]=i.ideal,t.optional.push(s))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=i.exact):["min","max"].forEach(function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=i[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,i){if(n.version>=61)return i(e);if((e=JSON.parse((0,u.default)(e)))&&"object"===r(e.audio)){var a=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};e=JSON.parse((0,u.default)(e)),a(e.audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=s(e.audio)}if(e&&"object"===r(e.video)){var c=e.video.facingMode;c=c&&("object"===(void 0===c?"undefined":r(c))?c:{ideal:c});var d=n.version<66;if(c&&("user"===c.exact||"environment"===c.exact||"user"===c.ideal||"environment"===c.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||d)){delete e.video.facingMode;var l=void 0;if("environment"===c.exact||"environment"===c.ideal?l=["back","rear"]:"user"!==c.exact&&"user"!==c.ideal||(l=["front"]),l)return t.mediaDevices.enumerateDevices().then(function(t){var n=(t=t.filter(function(e){return"videoinput"===e.kind})).find(function(e){return l.some(function(t){return e.label.toLowerCase().includes(t)})});return!n&&t.length&&l.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=c.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=s(e.video),o("chrome: "+(0,u.default)(e)),i(e)})}e.video=s(e.video)}return o("chrome: "+(0,u.default)(e)),i(e)},c=function(e){return n.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,n,r){a(e,function(e){t.webkitGetUserMedia(e,n,function(e){r&&r(c(e))})})}.bind(t),t.mediaDevices.getUserMedia){var d=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return a(e,function(e){return d(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return l.default.reject(c(e))})})}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils.js"));var o=i.log},{"../utils.js":15}],6:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof v.default&&"symbol"===(0,_.default)(m.default)?function(e){return void 0===e?"undefined":(0,_.default)(e)}:function(e){return e&&"function"==typeof v.default&&e.constructor===v.default&&e!==v.default.prototype?"symbol":void 0===e?"undefined":(0,_.default)(e)};n.shimRTCIceCandidate=function(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(void 0===e?"undefined":r(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse((0,u.default)(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=s.default.parseCandidate(e.candidate),o=(0,c.default)(n,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,a.wrapPeerConnectionEvent(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})},n.shimMaxMessageSize=function(e){if(!e.RTCPeerConnection)return;var t=a.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var e=this.getConfiguration(),r=e.sdpSemantics;"plan-b"===r&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;var t=s.default.splitSections(e.sdp);return t.shift(),t.some(function(e){var t=s.default.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){var i=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),o=function(e){var n=65536;"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637);return n}(i),a=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=s.default.matchPrefix(e.sdp,"a=max-message-size:");i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637);return r}(arguments[0],i),c=void 0;c=0===o&&0===a?Number.POSITIVE_INFINITY:0===o||0===a?Math.max(o,a):Math.min(o,a);var u={};Object.defineProperty(u,"maxMessageSize",{get:function(){return c}}),this._sctp=u}return n.apply(this,arguments)}},n.shimSendThrowTypeError=function(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}var n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=n.apply(this,arguments);return t(e,this),e},a.wrapPeerConnectionEvent(e,"datachannel",function(e){return t(e.channel,e.target),e})},n.shimConnectionState=function(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})},n.removeAllowExtmapMixed=function(e){if(!e.RTCPeerConnection)return;var t=a.detectBrowser(e);if("chrome"===t.browser&&t.version>=71)return;var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(function(e){return"a=extmap-allow-mixed"!==e.trim()}).join("\n")),n.apply(this,arguments)}};var i,o=e("sdp"),s=(i=o)&&i.__esModule?i:{default:i},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./utils"))},{"./utils":15,sdp:17}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return r.shimGetUserMedia}});var i=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return i.shimGetDisplayMedia}}),n.shimPeerConnection=function(e){var t=s.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=(0,d.default)(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}});e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var r=(0,u.default)(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=(0,a.filterIceServers)(e.iceServers,t.version),s.log("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype},n.shimReplaceTrack=function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)};var o,s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils")),a=e("./filtericeservers"),c=e("rtcpeerconnection-shim"),u=(o=c)&&o.__esModule?o:{default:o}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.filterIceServers=function(e,t){var n=!1;return(e=JSON.parse((0,u.default)(e))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&r.deprecated("RTCIceServer.url","RTCIceServer.urls");var i="string"==typeof t;return i&&(t=[t]),t=t.filter(function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n}),delete e.url,e.urls=i?t[0]:t,!!t.length}})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e){if(!("getDisplayMedia"in e.navigator))return;if(!e.navigator.mediaDevices)return;if(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)return;e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)}},{}],10:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetUserMedia=function(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(function(e){return l.default.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))})}}},{}],11:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=n.shimGetUserMedia=void 0;var r="function"==typeof v.default&&"symbol"===(0,_.default)(m.default)?function(e){return void 0===e?"undefined":(0,_.default)(e)}:function(e){return e&&"function"==typeof v.default&&e.constructor===v.default&&e!==v.default.prototype?"symbol":void 0===e?"undefined":(0,_.default)(e)},i=e("./getusermedia");Object.defineProperty(n,"shimGetUserMedia",{enumerable:!0,get:function(){return i.shimGetUserMedia}});var o=e("./getdisplaymedia");Object.defineProperty(n,"shimGetDisplayMedia",{enumerable:!0,get:function(){return o.shimGetDisplayMedia}}),n.shimOnTrack=function(e){"object"===(void 0===e?"undefined":r(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimPeerConnection=function(e){var t=s.detectBrowser(e);if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection);t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t],r=function(e,t,n){t in e?(0,h.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=r[t]});if(t.version<68){var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?l.default.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),l.default.resolve())}}var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),n=e[0],r=e[1],s=e[2];return o.apply(this,[n||null]).then(function(e){if(t.version<53&&!r)try{e.forEach(function(e){e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,n){e.set(n,(0,c.default)({},t,{type:i[t.type]||t.type}))})}return e}).then(r,s)}},n.shimSenderGetStats=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e});e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):l.default.resolve(new p.default)}},n.shimReceiverGetStats=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach(function(t){return t._pc=e}),n});s.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}},n.shimRemoveStream=function(e){if(!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype)return;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;s.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)})}},n.shimRTCDataChannel=function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},n.shimAddTransceiver=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var r=t.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();"encodings"in o||(o.encodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).catch(function(){})))}return r})},n.shimCreateOffer=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?l.default.all(this.setParametersPromises).then(function(){return t.apply(e,n)}).finally(function(){e.setParametersPromises=[]}):t.apply(this,arguments)}},n.shimCreateAnswer=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=this,n=arguments;return this.setParametersPromises&&this.setParametersPromises.length?l.default.all(this.setParametersPromises).then(function(){return t.apply(e,n)}).finally(function(){e.setParametersPromises=[]}):t.apply(this,arguments)}};var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shimGetDisplayMedia=function(e,t){if(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)return;if(!e.navigator.mediaDevices)return;e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,l.default.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)}}},{}],13:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof v.default&&"symbol"===(0,_.default)(m.default)?function(e){return void 0===e?"undefined":(0,_.default)(e)}:function(e){return e&&"function"==typeof v.default&&e.constructor===v.default&&e!==v.default.prototype?"symbol":void 0===e?"undefined":(0,_.default)(e)};n.shimGetUserMedia=function(e){var t=i.detectBrowser(e),n=e&&e.navigator,o=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){i.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var s=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===(void 0===e?"undefined":r(e))&&"object"===r(e.audio)&&(e=JSON.parse((0,u.default)(e)),s(e.audio,"autoGainControl","mozAutoGainControl"),s(e.audio,"noiseSuppression","mozNoiseSuppression")),a(e)},o&&o.prototype.getSettings){var c=o.prototype.getSettings;o.prototype.getSettings=function(){var e=c.apply(this,arguments);return s(e,"mozAutoGainControl","autoGainControl"),s(e,"mozNoiseSuppression","noiseSuppression"),e}}if(o&&o.prototype.applyConstraints){var d=o.prototype.applyConstraints;o.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(void 0===e?"undefined":r(e))&&(e=JSON.parse((0,u.default)(e)),s(e,"autoGainControl","mozAutoGainControl"),s(e,"noiseSuppression","mozNoiseSuppression")),d.apply(this,[e])}}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"))},{"../utils":15}],14:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof v.default&&"symbol"===(0,_.default)(m.default)?function(e){return void 0===e?"undefined":(0,_.default)(e)}:function(e){return e&&"function"==typeof v.default&&e.constructor===v.default&&e!==v.default.prototype?"symbol":void 0===e?"undefined":(0,_.default)(e)};n.shimLocalStreamsAPI=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection)return;"getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams});if(!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(function(r){return t.call(n,r,e)}),e.getVideoTracks().forEach(function(r){return t.call(n,r,e)})},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i&&i.forEach(function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach(function(e){r.includes(e.track)&&t.removeTrack(e)})}})},n.shimRemoteStreamsAPI=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection)return;"getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]});if(!("onaddstream"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}})}),t.apply(e,arguments)}}},n.shimCallbacksAPI=function(e){if("object"!==(void 0===e?"undefined":r(e))||!e.RTCPeerConnection)return;var t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,o=t.setLocalDescription,s=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),l.default.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),l.default.resolve()):r};var c=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),l.default.resolve()):r};t.setLocalDescription=c,c=function(e,t,n){var r=s.apply(this,[e]);return n?(r.then(t,n),l.default.resolve()):r},t.setRemoteDescription=c,c=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),l.default.resolve()):r},t.addIceCandidate=c},n.shimGetUserMedia=function(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(o(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))},n.shimConstraints=o,n.shimRTCIceServerUrls=function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],o=0;o<e.iceServers.length;o++){var s=e.iceServers[o];!s.hasOwnProperty("urls")&&s.hasOwnProperty("url")?(i.deprecated("RTCIceServer.url","RTCIceServer.urls"),(s=JSON.parse((0,u.default)(s))).urls=s.url,delete s.url,r.push(s)):r.push(e.iceServers[o])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},n.shimTrackEventTransceiver=function(e){"object"===(void 0===e?"undefined":r(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},n.shimCreateOfferLegacy=function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find(function(e){return"audio"===e.receiver.track.kind});!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find(function(e){return"video"===e.receiver.track.kind});!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}},n.shimAudioContext=function(e){if("object"!==(void 0===e?"undefined":r(e))||e.AudioContext)return;e.AudioContext=e.webkitAudioContext};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils"));function o(e){return e&&void 0!==e.video?(0,c.default)({},e,{video:i.compactObject(e.video)}):e}},{"../utils":15}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof v.default&&"symbol"===(0,_.default)(m.default)?function(e){return void 0===e?"undefined":(0,_.default)(e)}:function(e){return e&&"function"==typeof v.default&&e.constructor===v.default&&e!==v.default.prototype?"symbol":void 0===e?"undefined":(0,_.default)(e)};n.extractVersion=s,n.wrapPeerConnectionEvent=function(e,t,n){if(!e.RTCPeerConnection)return;var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&r(t)};return this._eventMap=this._eventMap||{},this._eventMap[r]=o,i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var r=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[e,r])},(0,h.default)(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})},n.disableLog=function(e){if("boolean"!=typeof e)return new Error("Argument type: "+(void 0===e?"undefined":r(e))+". Please use a boolean.");return i=e,e?"adapter.js logging disabled":"adapter.js logging enabled"},n.disableWarnings=function(e){if("boolean"!=typeof e)return new Error("Argument type: "+(void 0===e?"undefined":r(e))+". Please use a boolean.");return o=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled")},n.log=function(){if("object"===("undefined"==typeof window?"undefined":r(window))){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},n.deprecated=function(e,t){if(!o)return;console.warn(e+" is deprecated, please use "+t+" instead.")},n.detectBrowser=function(e){var t=e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=s(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)n.browser="chrome",n.version=s(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=s(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=s(t.userAgent,/AppleWebKit\/(\d+)\./,1),n.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return n},n.compactObject=function e(t){if(!a(t))return t;return(0,f.default)(t).reduce(function(n,r){var i=a(t[r]),o=i?e(t[r]):t[r],s=i&&!(0,f.default)(o).length;return void 0===o||s?n:(0,c.default)(n,function(e,t,n){t in e?(0,h.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},r,o))},{})},n.walkStats=u,n.filterStats=function(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new p.default;if(null===t)return i;var o=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(function(t){e.forEach(function(n){n.type===r&&n.trackId===t.id&&u(e,n,i)})}),i};var i=!0,o=!0;function s(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),(0,f.default)(t).forEach(function(r){r.endsWith("Id")?u(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(function(t){u(e,e.get(t),n)})}))}},{}],16:[function(e,t,n){var r=e("sdp");function i(e,t,n,i,o){var s=r.writeRtpDescription(e.kind,t);if(s+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),s+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),s+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?s+="a=sendrecv\r\n":e.rtpSender?s+="a=sendonly\r\n":e.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var c="msid:"+(i?i.id:"-")+" "+a+"\r\n";s+="a="+c,s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,s+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),s}function o(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),s=r(t.parameters.apt,i);return o&&s&&o.name.toLowerCase()===s.name.toLowerCase()};return e.codecs.forEach(function(r){for(var o=0;o<t.codecs.length;o++){var s=t.codecs[o];if(r.name.toLowerCase()===s.name.toLowerCase()&&r.clockRate===s.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&s.parameters.apt&&!i(r,s,e.codecs,t.codecs))continue;(s=JSON.parse((0,u.default)(s))).numChannels=Math.min(r.numChannels,s.numChannels),n.codecs.push(s),s.rtcpFeedback=s.rtcpFeedback.filter(function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}}),n}function s(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function a(e,t){var n=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return n||e.addRemoteCandidate(t),!n}function d(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}t.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function h(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout(function(){t._dispatchEvent("track",o)})}var m=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){i[e]=o[e].bind(o)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse((0,u.default)(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw d("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse((0,u.default)(e))).filter(function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)}),delete e.url,e.urls=i?r[0]:r,!!r.length}})}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var s=n.iceCandidatePoolSize;s>0;s--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(m.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(m.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),m.prototype.onicecandidate=null,m.prototype.onaddstream=null,m.prototype.ontrack=null,m.prototype.onremovestream=null,m.prototype.onsignalingstatechange=null,m.prototype.oniceconnectionstatechange=null,m.prototype.onconnectionstatechange=null,m.prototype.onicegatheringstatechange=null,m.prototype.onnegotiationneeded=null,m.prototype.ondatachannel=null,m.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},m.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},m.prototype.getConfiguration=function(){return this._config},m.prototype.getLocalStreams=function(){return this.localStreams},m.prototype.getRemoteStreams=function(){return this.remoteStreams},m.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},m.prototype.addTrack=function(t,n){if(this._isClosed)throw d("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find(function(e){return e.track===t}))throw d("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},m.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach(function(t){n.addTrack(t,e)});else{var r=e.clone();e.getTracks().forEach(function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),r.getTracks().forEach(function(e){n.addTrack(e,r)})}},m.prototype.removeTrack=function(t){if(this._isClosed)throw d("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find(function(e){return e.rtpSender===t});if(!n)throw d("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},m.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var n=t.getSenders().find(function(t){return t.track===e});n&&t.removeTrack(n)})},m.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},m.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},m.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===(0,f.default)(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},m.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var s=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,u=!a||0===(0,f.default)(a).length;if(u)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),a.component=1,a.ufrag=o.getLocalParameters().usernameFragment;var d=r.writeCandidate(a);s.candidate=(0,c.default)(s.candidate,r.parseCandidate(d)),s.candidate.candidate=d,s.candidate.toJSON=function(){return{candidate:s.candidate.candidate,sdpMid:s.candidate.sdpMid,sdpMLineIndex:s.candidate.sdpMLineIndex,usernameFragment:s.candidate.usernameFragment}}}var l=r.getMediaSections(i._localDescription.sdp);l[s.candidate.sdpMLineIndex]+=u?"a=end-of-candidates\r\n":"a="+s.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+l.join("");var p=i.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),u||i._dispatchEvent("icecandidate",s),p&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout(function(){s.forEach(function(e){o.onlocalcandidate(e)})},0)}},m.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},m.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},m.prototype._transceive=function(e,n,i){var s=o(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(s.encodings=e.sendEncodingParameters,s.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(s.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(s)),i&&e.rtpReceiver&&s.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?s.encodings=e.recvEncodingParameters:s.encodings=[{}],s.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(s.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(s.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(s))},m.prototype.setLocalDescription=function(e){var t,n,i=this;if(-1===["offer","answer"].indexOf(e.type))return l.default.reject(d("TypeError",'Unsupported type "'+e.type+'"'));if(!s("setLocalDescription",e.type,i.signalingState)||i._isClosed)return l.default.reject(d("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=r.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=r.parseRtpParameters(e);i.transceivers[t].localCapabilities=n}),i.transceivers.forEach(function(e,t){i._gather(e.mid,t)});else if("answer"===e.type){t=r.splitSections(i._remoteDescription.sdp),n=t.shift();var a=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var s=i.transceivers[t],c=s.iceGatherer,u=s.iceTransport,d=s.dtlsTransport,l=s.localCapabilities,f=s.remoteCapabilities;if(!(r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length)&&!s.rejected){var p=r.getIceParameters(e,n),h=r.getDtlsParameters(e,n);a&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(s.mid,t),"new"===u.state&&u.start(c,p,a?"controlling":"controlled"),"new"===d.state&&d.start(h));var m=o(l,f);i._transceive(s,m.codecs.length>0,!1)}})}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),l.default.resolve()},m.prototype.setRemoteDescription=function(i){var c=this;if(-1===["offer","answer"].indexOf(i.type))return l.default.reject(d("TypeError",'Unsupported type "'+i.type+'"'));if(!s("setRemoteDescription",i.type,c.signalingState)||c._isClosed)return l.default.reject(d("InvalidStateError","Can not set remote "+i.type+" in state "+c.signalingState));var u={};c.remoteStreams.forEach(function(e){u[e.id]=e});var p=[],m=r.splitSections(i.sdp),v=m.shift(),_=r.matchPrefix(v,"a=ice-lite").length>0,g=r.matchPrefix(v,"a=group:BUNDLE ").length>0;c.usingBundle=g;var b=r.matchPrefix(v,"a=ice-options:")[0];return c.canTrickleIceCandidates=!!b&&b.substr(14).split(" ").indexOf("trickle")>=0,m.forEach(function(s,d){var l=r.splitLines(s),f=r.getKind(s),h=r.isRejected(s)&&0===r.matchPrefix(s,"a=bundle-only").length,m=l[0].substr(2).split(" ")[2],b=r.getDirection(s,v),y=r.parseMsid(s),A=r.getMid(s)||r.generateIdentifier();if(h||"application"===f&&("DTLS/SCTP"===m||"UDP/DTLS/SCTP"===m))c.transceivers[d]={mid:A,kind:f,protocol:m,rejected:!0};else{var w,S,C,I,x,M,E,T,R;!h&&c.transceivers[d]&&c.transceivers[d].rejected&&(c.transceivers[d]=c._createTransceiver(f,!0));var k,O,P=r.parseRtpParameters(s);h||(k=r.getIceParameters(s,v),(O=r.getDtlsParameters(s,v)).role="client"),E=r.parseRtpEncodingParameters(s);var j=r.parseRtcpParameters(s),D=r.matchPrefix(s,"a=end-of-candidates",v).length>0,L=r.matchPrefix(s,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===i.type||"answer"===i.type)&&!h&&g&&d>0&&c.transceivers[d]&&(c._disposeIceAndDtlsTransports(d),c.transceivers[d].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[d].iceTransport=c.transceivers[0].iceTransport,c.transceivers[d].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[d].rtpSender&&c.transceivers[d].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[d].rtpReceiver&&c.transceivers[d].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),"offer"!==i.type||h){if("answer"===i.type&&!h){S=(w=c.transceivers[d]).iceGatherer,C=w.iceTransport,I=w.dtlsTransport,x=w.rtpReceiver,M=w.sendEncodingParameters,T=w.localCapabilities,c.transceivers[d].recvEncodingParameters=E,c.transceivers[d].remoteCapabilities=P,c.transceivers[d].rtcpParameters=j,L.length&&"new"===C.state&&(!_&&!D||g&&0!==d?L.forEach(function(e){a(w.iceTransport,e)}):C.setRemoteCandidates(L)),g&&0!==d||("new"===C.state&&C.start(S,k,"controlling"),"new"===I.state&&I.start(O)),!o(w.localCapabilities,w.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&w.sendEncodingParameters[0].rtx&&delete w.sendEncodingParameters[0].rtx,c._transceive(w,"sendrecv"===b||"recvonly"===b,"sendrecv"===b||"sendonly"===b),!x||"sendrecv"!==b&&"sendonly"!==b?delete w.rtpReceiver:(R=x.track,y?(u[y.stream]||(u[y.stream]=new e.MediaStream),n(R,u[y.stream]),p.push([R,x,u[y.stream]])):(u.default||(u.default=new e.MediaStream),n(R,u.default),p.push([R,x,u.default])))}}else{(w=c.transceivers[d]||c._createTransceiver(f)).mid=A,w.iceGatherer||(w.iceGatherer=c._createIceGatherer(d,g)),L.length&&"new"===w.iceTransport.state&&(!D||g&&0!==d?L.forEach(function(e){a(w.iceTransport,e)}):w.iceTransport.setRemoteCandidates(L)),T=e.RTCRtpReceiver.getCapabilities(f),t<15019&&(T.codecs=T.codecs.filter(function(e){return"rtx"!==e.name})),M=w.sendEncodingParameters||[{ssrc:1001*(2*d+2)}];var B,U=!1;if("sendrecv"===b||"sendonly"===b){if(U=!w.rtpReceiver,x=w.rtpReceiver||new e.RTCRtpReceiver(w.dtlsTransport,f),U)R=x.track,y&&"-"===y.stream||(y?(u[y.stream]||(u[y.stream]=new e.MediaStream,Object.defineProperty(u[y.stream],"id",{get:function(){return y.stream}})),Object.defineProperty(R,"id",{get:function(){return y.track}}),B=u[y.stream]):(u.default||(u.default=new e.MediaStream),B=u.default)),B&&(n(R,B),w.associatedRemoteMediaStreams.push(B)),p.push([R,x,B])}else w.rtpReceiver&&w.rtpReceiver.track&&(w.associatedRemoteMediaStreams.forEach(function(t){var n,r,i=t.getTracks().find(function(e){return e.id===w.rtpReceiver.track.id});i&&(n=i,(r=t).removeTrack(n),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:n})))}),w.associatedRemoteMediaStreams=[]);w.localCapabilities=T,w.remoteCapabilities=P,w.rtpReceiver=x,w.rtcpParameters=j,w.sendEncodingParameters=M,w.recvEncodingParameters=E,c._transceive(c.transceivers[d],!1,U)}}}),void 0===c._dtlsRole&&(c._dtlsRole="offer"===i.type?"active":"passive"),c._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),(0,f.default)(u).forEach(function(t){var n=u[t];if(n.getTracks().length){if(-1===c.remoteStreams.indexOf(n)){c.remoteStreams.push(n);var r=new Event("addstream");r.stream=n,e.setTimeout(function(){c._dispatchEvent("addstream",r)})}p.forEach(function(e){var t=e[0],r=e[1];n.id===e[2].id&&h(c,t,r,[n])})}}),p.forEach(function(e){e[2]||h(c,e[0],e[1],[])}),e.setTimeout(function(){c&&c.transceivers&&c.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),l.default.resolve()},m.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},m.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},m.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},m.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},m.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},m.prototype.createOffer=function(){var n=this;if(n._isClosed)return l.default.reject(d("InvalidStateError","Can not call createOffer after close"));var o=n.transceivers.filter(function(e){return"audio"===e.kind}).length,s=n.transceivers.filter(function(e){return"video"===e.kind}).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(o=!0===a.offerToReceiveAudio?1:!1===a.offerToReceiveAudio?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(s=!0===a.offerToReceiveVideo?1:!1===a.offerToReceiveVideo?0:a.offerToReceiveVideo)}for(n.transceivers.forEach(function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--s<0&&(e.wantReceive=!1)});o>0||s>0;)o>0&&(n._createTransceiver("audio"),o--),s>0&&(n._createTransceiver("video"),s--);var c=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach(function(i,o){var s=i.track,a=i.kind,c=i.mid||r.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(o,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(a);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),u.headerExtensions.forEach(function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var d=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];s&&t>=15019&&"video"===a&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,a)),i.localCapabilities=u,i.sendEncodingParameters=d}),"max-compat"!==n._config.bundlePolicy&&(c+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),c+="a=ice-options:trickle\r\n",n.transceivers.forEach(function(e,t){c+=i(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),c+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,c+="a="+r.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(c+="a=end-of-candidates\r\n"))});var u=new e.RTCSessionDescription({type:"offer",sdp:c});return l.default.resolve(u)},m.prototype.createAnswer=function(){var n=this;if(n._isClosed)return l.default.reject(d("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return l.default.reject(d("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var s=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(s+="a=group:BUNDLE "+n.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n";var a=r.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach(function(e,r){if(!(r+1>a)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?s+="m=application 0 DTLS/SCTP 5000\r\n":s+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?s+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(s+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(s+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;if(e.stream)"audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,s+=i(e,u,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(s+="a=rtcp-rsize\r\n")}});var c=new e.RTCSessionDescription({type:"answer",sdp:s});return l.default.resolve(c)},m.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?l.default.reject(new TypeError("sdpMLineIndex or sdpMid required")):new l.default(function(i,o){if(!n._remoteDescription)return o(d("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var s=e.sdpMLineIndex;if(e.sdpMid)for(var c=0;c<n.transceivers.length;c++)if(n.transceivers[c].mid===e.sdpMid){s=c;break}var u=n.transceivers[s];if(!u)return o(d("OperationError","Can not add ICE candidate"));if(u.rejected)return i();var l=(0,f.default)(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===l.protocol&&(0===l.port||9===l.port))return i();if(l.component&&1!==l.component)return i();if((0===s||s>0&&u.iceTransport!==n.transceivers[0].iceTransport)&&!a(u.iceTransport,l))return o(d("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[s]+="a="+(l.type?p:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var h=0;h<n.transceivers.length&&(n.transceivers[h].rejected||(n.transceivers[h].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[h]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));h++);i()})},m.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)}),!n)throw d("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&r.push(e[t].getStats())})}),l.default.all(r).then(function(e){var t=new p.default;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then(function(e){var t=new p.default;return(0,f.default)(e).forEach(function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])}),t})}}});var v=["createOffer","createAnswer"];return v.forEach(function(e){var t=m.prototype[e];m.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(v=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=m.prototype[e];m.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=m.prototype[e];m.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),m}},{sdp:17}],17:[function(e,t,n){var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},r.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&(0,f.default)(e.parameters).length){var r=[];(0,f.default)(e.parameters).forEach(function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===(0,_.default)(e.keyParams)?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],i=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],s=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){var a=r.parseRtpMap(s),c=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(a.parameters=c.length?r.parseFmtp(c[0]):{},a.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(a.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)});var i=0;return t.codecs.forEach(function(e){e.maxptime>i&&(i=e.maxptime)}),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){n+=r.writeExtmap(e)}),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=a.length>0&&a[0].ssrc,d=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});d.length>0&&d[0].length>1&&d[0][0]===c&&(t=d[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse((0,u.default)(r))).fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=l})),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var s=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i,o=void 0!==t?t:2;return i=e||r.generateSessionId(),"v=0\r\no="+(n||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"===(void 0===t?"undefined":(0,_.default)(t))&&(t.exports=r)},{}]},{},[1])(1)},"object"===(0,_.default)(t)&&void 0!==e?e.exports=a():(i=[],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))},function(e,t,n){e.exports={default:n(150),__esModule:!0}},function(e,t,n){n(151),e.exports=n(84).Object.assign},function(e,t,n){var r=n(82);r(r.S+r.F,"Object",{assign:n(152)})},function(e,t,n){var r=n(92),i=n(103),o=n(131),s=n(132),a=n(119),c=n(106),u=__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_object_assign___default.a;e.exports=!u||n(93)(function(){var e={},t={},n=__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default()(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default()(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,d=1,l=o.f,f=s.f;u>d;)for(var p,h=c(arguments[d++]),m=l?i(h).concat(l(h)):i(h),v=m.length,_=0;v>_;)p=m[_++],r&&!f.call(h,p)||(n[p]=h[p]);return n}:u},function(e,t,n){e.exports={default:n(154),__esModule:!0}},function(e,t,n){n(155);var r=n(84).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(105),i=n(136).f;n(143)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){e.exports={default:n(157),__esModule:!0}},function(e,t,n){n(137),n(76),n(120),n(158),n(176),n(177),e.exports=n(84).Promise},function(e,t,n){var r,i,o,s,a=n(81),c=n(83),u=n(85),d=n(159),l=n(82),f=n(90),p=n(86),h=n(160),m=n(161),v=n(165),_=n(166).set,g=n(168)(),b=n(169),y=n(170),A=n(171),w=n(172),S=c.TypeError,C=c.process,I=C&&C.versions,x=I&&I.v8||"",M=c.Promise,E="process"==d(C),T=function(){},R=i=b.f,k=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(117)("species")]=function(e){e(T,T)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==x.indexOf("6.6")&&-1===A.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,c=t.resolve,u=t.reject,d=t.domain;try{a?(i||(2==e._h&&L(e),e._h=1),!0===a?n=r:(d&&d.enter(),n=a(r),d&&(d.exit(),s=!0)),n===t.promise?u(S("Promise-chain cycle")):(o=O(n))?o.call(n,c,u):c(n)):u(r)}catch(e){d&&!s&&d.exit(),u(e)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){_.call(c,function(){var t,n,r,i=e._v,o=D(e);if(o&&(t=y(function(){E?C.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=E||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){_.call(c,function(){var t;E?C.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},U=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw S("Promise can't be resolved itself");(n=O(t))?g(function(){var i={_w:r,_d:!1};try{n.call(t,u(e,i,1),u(B,i,1))}catch(e){B.call(i,e)}}):(r._v=t,r._s=1,P(r,!1))}catch(e){B.call({_w:r,_d:!1},e)}}};k||(M=function(e){h(this,M,"Promise","_h"),p(e),r.call(this);try{e(u(U,this,1),u(B,this,1))}catch(e){B.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(173)(M.prototype,{then:function(e,t){var n=R(v(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(U,e,1),this.reject=u(B,e,1)},b.f=R=function(e){return e===M||e===s?new o(e):i(e)}),l(l.G+l.W+l.F*!k,{Promise:M}),n(116)(M,"Promise"),n(174)("Promise"),s=n(84).Promise,l(l.S+l.F*!k,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!k),"Promise",{resolve:function(e){return w(a&&this===s?M:this,e)}}),l(l.S+l.F*!(k&&n(175)(function(e){M.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=R(t),r=n.resolve,i=n.reject,o=y(function(){var n=[],o=0,s=1;m(e,!1,function(e){var a=o++,c=!1;n.push(void 0),s++,t.resolve(e).then(function(e){c||(c=!0,n[a]=e,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,i=y(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(107),i=n(117)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(85),i=n(162),o=n(163),s=n(89),a=n(109),c=n(164),u={},d={};(t=e.exports=function(e,t,n,l,f){var p,h,m,v,_=f?function(){return e}:c(e),g=r(n,l,t?2:1),b=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(o(_)){for(p=a(e.length);p>b;b++)if((v=t?g(s(h=e[b])[0],h[1]):g(e[b]))===u||v===d)return v}else for(m=_.call(e);!(h=m.next()).done;)if((v=i(m,g,h.value,t))===u||v===d)return v}).BREAK=u,t.RETURN=d},function(e,t,n){var r=n(89);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(99),i=n(117)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(159),i=n(117)("iterator"),o=n(99);e.exports=n(84).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(89),i=n(86),o=n(117)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r,i,o,s=n(85),a=n(167),c=n(115),u=n(94),d=n(83),l=d.process,f=d.setImmediate,p=d.clearImmediate,h=d.MessageChannel,m=d.Dispatch,v=0,_={},g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},b=function(e){g.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++v]=function(){a("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete _[e]},"process"==n(107)(l)?r=function(e){l.nextTick(s(g,e,1))}:m&&m.now?r=function(e){m.now(s(g,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(e){d.postMessage(e+"","*")},d.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(83),i=n(166).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(107)(s);e.exports=function(){var e,t,n,u=function(){var r,i;for(c&&(r=s.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var d=a.resolve(void 0);n=function(){d.then(u)}}else n=function(){i.call(r,u)};else{var l=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(86);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(83).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(89),i=n(90),o=n(169);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(87);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){var r=n(83),i=n(84),o=n(88),s=n(92),a=n(117)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(117)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_array_from___default()(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){var r=n(82),i=n(84),o=n(83),s=n(165),a=n(172);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var r=n(82),i=n(169),o=n(170);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(179),__esModule:!0}},function(e,t,n){n(180),e.exports=n(84).Object.keys},function(e,t,n){var r=n(119),i=n(103);n(143)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){e.exports={default:n(182),__esModule:!0}},function(e,t,n){n(137),n(76),n(120),n(183),n(190),n(193),n(195),e.exports=n(84).Map},function(e,t,n){var r=n(184),i=n(185);e.exports=n(186)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(88).f,i=n(101),o=n(173),s=n(85),a=n(160),c=n(161),u=n(80),d=n(123),l=n(174),f=n(92),p=n(128).fastKey,h=n(185),m=f?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var d=e(function(e,r){a(e,d,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&c(r,n,e[u],e)});return o(d.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=s(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),f&&r(d.prototype,"size",{get:function(){return h(this,t)[m]}}),d},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))},n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){var r=n(90);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(83),i=n(82),o=n(128),s=n(93),a=n(87),c=n(173),u=n(161),d=n(160),l=n(90),f=n(116),p=n(88).f,h=n(187)(0),m=n(92);e.exports=function(e,t,n,v,_,g){var b=r[e],y=b,A=_?"set":"add",w=y&&y.prototype,S={};return m&&"function"==typeof y&&(g||w.forEach&&!s(function(){(new y).entries().next()}))?(y=t(function(t,n){d(t,y,e,"_c"),t._c=new b,void 0!=n&&u(n,_,t[A],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!g||"clear"!=e)&&a(y.prototype,e,function(n,r){if(d(this,y,e),!t&&g&&!l(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),g||p(y.prototype,"size",{get:function(){return this._c.size}})):(y=v.getConstructor(t,e,_,A),c(y.prototype,n),o.NEED=!0),f(y,e),S[e]=y,i(i.G+i.W+i.F,S),g||v.setStrong(y,e,_),y}},function(e,t,n){var r=n(85),i=n(106),o=n(119),s=n(109),a=n(188);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,d=4==e,l=6==e,f=5==e||l,p=t||a;return function(t,a,h){for(var m,v,_=o(t),g=i(_),b=r(a,h,3),y=s(g.length),A=0,w=n?p(t,y):c?p(t,0):void 0;y>A;A++)if((f||A in g)&&(v=b(m=g[A],A,_),e))if(n)w[A]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return A;case 2:w.push(m)}else if(d)return!1;return l?-1:u||d?d:w}}},function(e,t,n){var r=n(189);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(90),i=n(133),o=n(117)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(82);r(r.P+r.R,"Map",{toJSON:n(191)("Map")})},function(e,t,n){var r=n(159),i=n(192);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(161);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(194)("Map")},function(e,t,n){var r=n(82);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(196)("Map")},function(e,t,n){var r=n(82),i=n(86),o=n(85),s=n(161);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,a,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),void 0==e?new this:(n=[],t?(r=0,a=o(c,arguments[2],2),s(e,!1,function(e){n.push(a(e,r++))})):s(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports={default:n(198),__esModule:!0}},function(e,t,n){n(199);var r=n(84).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(82);r(r.S+r.F*!n(92),"Object",{defineProperty:n(88).f})},function(e,t,n){var r=c(n(178)),i=c(n(201)),o=c(n(144)),s=c(n(204)),a=c(n(73));function c(e){return e&&e.__esModule?e:{default:e}}var u=n(72),d=n(205),l=u.tagLogger("Service"),f=n(207),p=n(211),h=n(208),m=n(217),v=new(n(218))({onExtLoaded:function(){l.info("Share desktop ext. had loaded.")}}),_=n(215),g=n(219),b=n(220);e.exports=u.prototypeExtend({__init__:function(){l.warn("emedia version: ",window._emediaVersion||"unkown"),l.warn("UserAgent: ",navigator.userAgent);var e=u.parseURL("__log_level___");e&&(emedia.LOG_LEVEL=parseInt(e)),this.namespace=Math.uuidFast(),emedia.useCurrentXService=this,void 0===this.useRTCCfg&&(this.useRTCCfg=emedia.config.useRTCCfgIfServerReturn),"string"==typeof this.useRTCCfg&&(this.useRTCCfg=JSON.parse(this.useRTCCfg)),this.inboundAudio=g.inboundAudio.bind(this),this.inboundVideo=g.inboundVideo.bind(this),this.outboundAudio=g.outboundAudio.bind(this),this.outboundVideo=g.outboundVideo.bind(this),this._cache_receive_sessions=[]},AVPubstream:_.extend({__init__:function(){this.type=0,this._located=!0,this.mutedMuted=!0,this.constaints&&(this.constaints.video||(this.voff=1),this.constaints.audio||(this.aoff=1)),this.constaints||(this.constaints={audio:!0,video:!0}),emedia.config.maxVideoBitrate&&(this.vbitrate=emedia.config.maxVideoBitrate),emedia.config.maxAudioBitrate&&(this.abitrate=emedia.config.maxAudioBitrate)}}),AudioMixerPubstream:new _.extend({__init__:function(){if(this.type=2,this._located=!0,this.mutedMuted=!0,this.constaints||(this.constaints={audio:!0,video:!1}),this.constaints){var e=!!this.constaints.audio;this.constaints.video||(this.constaints.video=!1),this.constaints.video||(this.voff=1),this.constaints.audio||(this.aoff=1),!1===e&&(this.aoff=1)}emedia.config.maxVideoBitrate&&(this.vbitrate=emedia.config.maxVideoBitrate),emedia.config.maxAudioBitrate&&(this.abitrate=emedia.config.maxAudioBitrate)},onGotRemoteMediaStream:function(e){if(!this.remotePlayAudioObject){var t="__o_remote_play_audio_"+this.id,n=document.querySelector("#"+t);n||((n=document.createElement("audio")).style.display="none",n.id="__o_remote_play_audio_"+this.id,n.autoplay=!0,n.playsinline=!0,document.body.appendChild(n)),this.remotePlayAudioObject=n}this.remotePlayAudioObject.srcObject=e}}),ShareDesktopPubstream:_.extend({voff:0,__init__:function(){this.type=1,this._located=!0,this.mutedMuted=!0,this.constaints={audio:!this.aoff,video:!0},emedia.config.maxVideoBitrate&&(this.vbitrate=emedia.config.maxVideoBitrate),emedia.config.maxAudioBitrate&&(this.abitrate=emedia.config.maxAudioBitrate)}}),__assertCurrent:function(){if(!this.current)throw l.error("Please call emedia.service.setup(ticket)"),"Please call emedia.service.setup(ticket)";if(this.current.closed)throw l.error("current closed"),"current closed"},hasAudioMixers:function(){for(var e in this.__assertCurrent(),this.current.audioMixers){var t=this.current.audioMixers[e];if(t&&t.located())return!0}},getMediaDevices:function(e,t,n){"function"==typeof e&&(n=t,t=e,e=void 0),navigator.mediaDevices.enumerateDevices().then(function(n){for(var r=[],i=0;i!==n.length;++i){var o=n[i];e?e===o.kind?r.push(o):"audioinput"===o.kind||"audiooutput"===o.kind||"videoinput"===o.kind||l.info("Some other kind of source/device: ",o):r.push(o)}t&&t(r)}).catch(function(e){l.warn("navigator.getUserMedia error: ",e),n&&n(e)})},attachSinkId:function(e,t){void 0!==e.sinkId?e.setSinkId(t).then(function(){l.info("Success, audio output device attached: "+t)}).catch(function(e){var t=e;"SecurityError"===e.name&&(t="You need to use HTTPS for selecting audio output device: "+e),l.warn(t)}):l.warn("Browser does not support output device selection.")},_stopTracks:function(e){emedia.stopTracks(e),e&&l.warn("Stream tracks stop. it = ",e)},_enableVideoTracks:function(e,t){emedia.enableVideoTracks(e,t)},_enableAudioTracks:function(e,t){emedia.enableAudioTracks(e,t)},openUserMedia:function(e){l.debug("begin open user media",e);var t=this;if(!e)throw l.error("require pubS"),"require pubS";return{then:function(n,r){function i(){n.apply(null,arguments);var r=e.localStream;r&&(r.oninactive=t._onStreamInactive.bind(t,e,r),r.onactive=t._onStreamActive.bind(t,e,r))}if(e instanceof t.AVPubstream)t._openCamera(e,i,r);else if(e instanceof t.ShareDesktopPubstream)t._openSharedDesktop(e,i,r);else{if(!(e instanceof t.AudioMixerPubstream))throw l.error("Unspported pubS"),"Unspported pubS";t._openCamera(e,i,r)}}}},_openSharedDesktop:function(e,t,n){var r,i=this;function o(e){var r={audio:!0};e.constaints&&("object"===(0,a.default)(e.constaints.audio)&&e.constaints.audio||e.constaints.audio||(r.audio=!1)),i.__getUserMedia(r,function(n,r){var o=new MediaStream;o._located=!0,r&&r.getAudioTracks().forEach(function(e){o.addTrack(e)}),e.localStream&&e.localStream.getVideoTracks().forEach(function(e){o.addTrack(e)}),e.localStream=o,t&&t(i.current,o)},n)}if(e._localMediaStream&&(r=e._localMediaStream.getVideoTracks())&&r.length>0)return e.localStream=e._localMediaStream,void(e.constaints.audio?o(e):t&&t(i.current,stream));v.openDesktopMedia(e.screenOptions||["screen","window","tab"],function(r){if(r instanceof h.OpenDesktopMedia){var s=r.desktopStreamId;l.warn("desktop streamId",s);var a={audio:!1,video:{mandatory:u.extend(e.mandatory||{},{chromeMediaSource:"desktop",chromeMediaSourceId:s}),optional:[]}};i.__getUserMedia(a,function(n,r){e.localStream=r,e.constaints.audio?o(e):t&&t(i.current,r)},n)}else i.current&&i.current.onEvent(new h.ShareDesktopExtensionNotFound({member:i.current})),n&&n(r)})},_openCamera:function(e,t,n){var r=this,i=e.constaints||{audio:!0,video:!0};r.__getUserMedia(i,function(n,i){r.__controlStream(e,i),e.localStream=i,t&&t(r.current,i)}.bind(i),n)},__controlStream:function(e,t){emedia.enableVideoTracks(t,!e.voff),emedia.enableAudioTracks(t,!e.aoff)},__getUserMedia:function(e,t,n){l.debug("get user media. using constaints",e);var r,i=this;function o(e){l.debug("[WebRTC-API] getUserMedia() error: ",e),emedia.stopTracks(r),i.current&&i.current.onEvent(new h.OpenMediaError({member:i.current,event:e})),n&&n(new h.OpenMediaError({member:i.current,event:e}))}e=u.extend({},e),i.__sysGetUserMedia(e,function(n){i.current&&!i.current.closed&&(i.current._openedRtcMediaStreams[n.id]=n,n._bindAttendee=i.current,n._bindAttendeeId=i.current.getMemberId(),l.info("stream bind attendee.",n.id,i.current.ticket&&i.current.ticket.id,i.current.getMemberId(),i.current.memName)),emedia._yetGetUserMedia=!0,r=n;var s=n.getVideoTracks(),a=n.getAudioTracks();if(s.length>0){var c=s[0];l.debug(n.id,"using video device: ",c.id,c.label,c.kind,c.enabled)}if(a.length>0){var u=a[0];l.debug(n.id,"using audio device: ",u.id,u.label,u.kind,u.enabled)}if(n._located=!0,"boolean"==typeof n.active&&!n.active)return l.error("media stream not active. it is",n.id),void o({constraint:e,name:"NotAllowedStreamNonactive",message:"stream non-active"});t&&t(i.current,n)},o)},_onStreamInactive:function(e,t,n){var r=this;l.warn("media stream inactive. it =",t.id),e.onMediaInactive&&r.current&&u.forEach(r.current._cacheStreams,function(i,o){o.located()&&o.localStream&&o.localStream.id===t.id&&(o._webrtc&&o._webrtc.closed||e.onMediaInactive.call(o,t,n,r))})},_onStreamActive:function(e,t,n){var r=this;l.warn("media stream active. it =",t.id),e.onMediaActive&&r.current&&u.forEach(r.current._cacheStreams,function(i,o){o.located()&&o.localStream&&o.localStream.id===t.id&&e.onMediaActive.call(o,t,n,r)})},__sysGetUserMedia:function(e,t,n){var r;(r=(0,s.default)(i.default.mark(function e(t,n,r){var s,c,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===(0,a.default)(emedia.config.globalConstraints)&&("object"===(0,a.default)(emedia.config.globalConstraints.audio)&&t.audio&&("boolean"==typeof t.audio?t.audio=u.extend({},emedia.config.globalConstraints.audio):t.audio=u.extend({},emedia.config.globalConstraints.audio,t.audio)),"object"===(0,a.default)(emedia.config.globalConstraints.video)&&t.video&&("boolean"==typeof t.video?t.video=u.extend({},emedia.config.globalConstraints.video):t.video=u.extend({},emedia.config.globalConstraints.video,t.video))),l.info("navigator.mediaDevices.getUserMedia constaints = ",(0,o.default)(t)),s=new MediaStream,c=void 0,d=void 0,!t.audio){e.next=14;break}return e.prev=5,e.next=8,navigator.mediaDevices.getUserMedia({audio:!0});case 8:c=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error("getUserMedia audio error",e.t0);case 14:if(!t.video){e.next=24;break}return e.prev=15,e.next=18,navigator.mediaDevices.getUserMedia({video:t.video});case 18:d=e.sent,e.next=24;break;case 21:e.prev=21,e.t1=e.catch(15),console.error("getUserMedia video error",e.t1);case 24:c&&c.getAudioTracks().forEach(function(e){s.addTrack(e)}),d&&d.getVideoTracks().forEach(function(e){s.addTrack(e)}),c||d?n(s):r({message:"getUserMedia error: not have input device"});case 27:case"end":return e.stop()}},e,this,[[5,11],[15,21]])})),function(e,t,n){return r.apply(this,arguments)})(e,t,n)},attachMediaStream:window.attachMediaStream.bind({logger:l}),setup:function(e,t){var n=this;l.count(),l.debug("recv ticket",e,t),l.debug("use sdk version",window._emediaVersion),l.debug(navigator.userAgent);var r,i,s=t=t||{};if(u.isPlainObject(t))t=(0,o.default)(t);else try{s=JSON.parse(t)}catch(e){}if("string"==typeof e&&(e=JSON.parse(e)),r=i=e.memName,emedia._lastSetupConfr=e.confrId,emedia._lastSetupMemName=i,emedia._lastSetupDate=new Date,emedia._lastSetupTktId=e.tktId,n.current&&!n.current.closed){var a=new h.CurrentCalling;throw n.current.onEvent(a),l.error("confr not close. calling..."),a}var c=(n.Attendee||p).extend(m);return n.current=new c({_service:n,service:n,autoSub:emedia.config.autoSub,getCopyIntervalMillis:emedia.config.getCopyIntervalMillis,sysUserId:r,memName:i,resource:n.resource,nickName:n.nickName,ticket:e,ext:t,extObj:s,sessionFactory:function(){return n.newSession(this,e)}},n.listeners||{})},getStreamById:function(e){var t=this.current&&this.current._cacheStreams[e];return t&&u.extend(!1,{},t)},getStreamsByRtcId:function(e){if(this.current&&this.current._cacheStreams){var t=[];return u.forEach(this.current._cacheStreams,function(n,r){r.rtcId===e&&t.push(r)}),t}},getMemberById:function(e){var t=this.current&&this.current._cacheMembers[e];return t&&u.extend(!1,{},t)},exit:function(e){l.warn("User click exit ",e),this.current&&this.current.exit(e)},join:function(e,t){l.debug("begin join ...");if(this.__assertCurrent(),this.current._memberId)return l.warn("Had joined. igrone it"),void(e&&e(this.memId));this.current._session._sessionId=void 0,this.current.join(e,t)},withpublish:function(e){if(!e||!e.localStream)throw l.error("pubS null or stream not open"),"pubS null or stream not open";return this.__assertCurrent(),this.current._memberId?l.warn("Had joined. igrone it"):this.current._session._sessionId=void 0,this.current.withpublish(e)},push:function(e,t,n){l.debug("begin push ...");if(2===arguments.length&&(n=t,t=void 0),!e||!e.localStream)throw l.error("pubS or stream open"),"pubS or stream open";this.__assertCurrent(),this.current.push(e,t,n,!1)},subscribe:function(e,t,n,r){var i=this;if(l.info("begin subscribe ",e,r),t&&u.isPlainObject(t)&&(r=t,t=n=void 0),n&&u.isPlainObject(n)&&(r=n,n=t,t=void 0),emedia.isSafari){var o=function(){try{var e=d.shift();e&&e.onSub&&e.onSub.apply(e,arguments)}finally{a()}},s=function(){try{var e=d.shift();e&&e.subfail&&e.subfail.apply(e,arguments)}finally{a()}},a=function(){d.length>0&&i.__subscribe(d[0].streamId,o,s,d[0].subArgs)},c={streamId:e,onSub:t,subfail:n,subArgs:r},d=i.__safari_subs||(i.__safari_subs=[]);d.push(c),1===d.length&&a()}else i.__subscribe(e,t,n,r)},__subscribe:function(e,t,n,r){this.__assertCurrent(),2==arguments.length&&(n=t,t=void 0),t&&u.isPlainObject(t)&&(r=t,t=void 0),n&&u.isPlainObject(n)&&(r=n,n=void 0),r||(r={subSVideo:!0,subSAudio:!0});this.current._cacheStreams[e];var i=this.current._getWebrtc(e),o=i&&i.isConnected(),s=o&&i.getRemoteStream();if(s&&(o=s.active)){var a=s.getAudioTracks().length,c=s.getVideoTracks().length;(a||!0!==r.subSAudio)&&(c||!0!==r.subSVideo)||(o=!1)}if(l.info("sub stream",e,", use prertcpeer =",o),o)return this.current.subscribeStream(i._rtcId,e,n,r,t),void(t&&t());i&&!i.closed&&this.current.closeWebrtc(i.getRtcId(),!0,!1),this.current.createWebrtcAndSubscribeStream(e,{onGotRemote:function(e){t&&t(e)},onEvent:function(e){n&&n(e)}},void 0,r)},closePubstream:function(e){e.located()&&(emedia.stopTracks(e._localMediaStream),emedia.stopTracks(e.localStream))},hungup:function(e){var t=this.getStreamById(e);try{this._hungup(e)}finally{this.onHungup&&t&&this.onHungup(t)}},_hungup:function(e){this.__assertCurrent();var t=this.current,n=t._cacheStreams[e];n&&!n.closeReason&&n.updateAttributes({closeReason:"UserHangup"});var r=n&&n.rtcId;if(r&&(t.closeWebrtc(r),n.located()&&(1!==n.type&&n._localMediaStream&&emedia.stopTracks(n._localMediaStream),n.remotePlayAudioObject&&document.body.removeChild(n.remotePlayAudioObject),t._cacheStreams[e]&&t.onRemoveStream(n),u.removeAttribute(t._cacheStreams,e),this._streamAutomators&&u.removeAttribute(this._streamAutomators,e))),n&&!n.located()){if(t._linkedStreams[n.id]&&u.removeAttribute(t._linkedStreams,n.id),l.warn("Hangeup remove from _linkedStreams. stream = ",n.id),!(n=t._cacheStreams[e]))return;n.updateAttributes({rtcId:void 0,_webrtc:void 0,mediaStream:void 0});var i=new _(n);t.onUpdateStream(i,new i.Update(i))}},postMessage:function(e,t,n,r){var i=t;"string"!=typeof t&&(t=(0,o.default)(t)),this.__assertCurrent();var s,a=this.current,c=a._linkedStreams[e];s=c&&c.owner?c.owner.id:e;t=a.newMessage({op:1003,memId:s,arg:t});a.postMessage(t,(n||r)&&function(e){if(r&&r(e,i),0!=e.result){var o=new h.RemoteControlFail({memId:s,failed:e.result,cause:e.msg,type:"postMessage",postMessage:t});return a.onEvent(o),void(n&&n(o,i))}})},torchRemote:function(e,t,n,r){"function"==typeof t&&(r=n,n=t,t=void 0),void 0!==t&&(t=t?1:0),this.__assertCurrent();var i=this.current,s=i._linkedStreams[e];if(!s||s.located())throw l.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var a=s.torch,c={op2:20,streamId:e,tor:t=void 0===t?s.torch?0:1:t},u=i.newMessage({op:1002,memId:s.owner.id,arg:(0,o.default)(c),_reqOps:[100206]});s.updateAttributes({torch:t}),i.postMessage(u,function(e){if(0!=e.result){var t=new h.RemoteControlFail({stream:s,failed:e.result,cause:e.msg,type:"torch_control"});return i.onEvent(t),s.updateAttributes({torch:a}),void(r&&r(t,s.torch))}n&&n(s.torch)})},freezeFrameRemote:function(e,t,n){this.__assertCurrent();var r=this.current,i=r._linkedStreams[e];if(!i||i.located())throw l.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var s=!i.freezeFrame,a={op2:20,streamId:e,frz:s?1:0},c=r.newMessage({op:1002,memId:i.owner.id,arg:(0,o.default)(a),_reqOps:[100204]});i.updateAttributes({freezeFrame:s}),r.postMessage(c,function(e){if(0!=e.result){var o=new h.RemoteControlFail({stream:i,failed:e.result,cause:e.msg,type:"freeze_control"});return r.onEvent(o),i.updateAttributes({freezeFrame:!i.freezeFrame}),void(n&&n(o,i.freezeFrame))}t&&t(i.freezeFrame)})},base64Img2Blob:function(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],r=window.atob(t[1]),i=r.length,o=new Uint8Array(i),s=0;s<i;++s)o[s]=r.charCodeAt(s);return new Blob([o],{type:n})},blob2URL:function(e){return URL.createObjectURL(e)},imagesPngContext2URL:function(e){return this.blob2URL(this.blob2URL(e))},downloadFile:function(e,t,n){var r=document.createElement("a");r.style.display="none";var i,o=t?this.base64Img2Blob(t):n;r.download=e,r.href=i=this.blob2URL(o),r.rel="noopener";var s=document.createEvent("HTMLEvents");s.initEvent("click",!1,!1),r.dispatchEvent(s),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r),setTimeout(function(){URL.revokeObjectURL&&URL.revokeObjectURL(i)},4e4)},videoCaptureBase64Context2URL:function(e){return this.imagesPngContext2URL(this.getCaptureBase64Context(e))},getCaptureBase64Context:function(e){var t=document.createElement("canvas");t.id="__capture_video_"+(new Date).getTime();return t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t.toDataURL("images/png")},captureVideo:function(e,t,n){var r=this.getCaptureBase64Context(e);return t&&(n=n||"capture_"+(new Date).getTime(),this.downloadFile(n,r)),r},capturePictureRemote:function(e,t,n,r){this.__assertCurrent();var i=this.current,s=i._linkedStreams[e];if(!s||s.located())throw l.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var a={op2:20,streamId:e,pic:1,rspBase64Pic:!0===t},c=i.newMessage({op:1002,memId:s.owner.id,arg:(0,o.default)(a),_reqOps:[100205]});i.postMessage(c,function(e){if(0!=e.result){var o=new h.RemoteControlFail({stream:s,failed:e.result,cause:e.msg,type:"capture_control"});return i.onEvent(o),void(r&&r(o))}if(t)if(e.arg){var a=JSON.parse(e.arg);n&&n(a.pic)}else r&&r(new h.RemoteControlFail({stream:s,failed:e.result,cause:"Not found base64 pic"}));else n&&n()})},zoomRemote:function(e,t,n,r){this.__assertCurrent();var i=this.current,s=i._linkedStreams[e];if(!s||s.located())throw l.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";s._zoom||s.updateAttributes({_zoom:1});var a=s._zoom*t;if(!(a<1)){s.updateAttributes({_zoom:a});var c={op2:20,streamId:e,zoom:Math.round(1e4*a)},u=i.newMessage({op:1002,memId:s.owner.id,arg:(0,o.default)(c),_reqOps:[100201]});i.postMessage(u,function(e){if(0!=e.result){var t=new h.RemoteControlFail({stream:s,failed:e.result,cause:e.msg,type:"zoom_control"});return i.onEvent(t),void(n&&n(t))}r&&r()})}},_getPosition:function(e){for(var t=0,n=0;e;)n+=e.offsetLeft,t+=e.offsetTop,e=e.offsetParent;return{clientX:n,clientY:t}},eventXYAtMedia:function(e,t){var n=u.getDomPageRect(t),r=n.width,i=n.height,o=t.videoWidth,s=t.videoHeight;if(s/o>i/r){var a=o/s;o=(s=i)*a}else{a=s/o;s=(o=r)*a}var c,d,l=e;if((c=u.isFloat(l.x))&&(l.x=l.x*r),(d=u.isFloat(l.y))&&(l.y=l.y*i),!(Math.abs(l.x)<(r-o)/2||r-Math.abs(l.x)<(r-o)/2||Math.abs(l.y)<(i-s)/2||i-Math.abs(l.y)<(i-s)/2))return l.x=l.x<0?Math.floor(l.x+(r-o)/2):Math.floor(l.x-(r-o)/2),l.y=l.y<0?Math.floor(l.y+(i-s)/2):Math.floor(l.y-(i-s)/2),c&&(l.x=l.x/o),d&&(l.y=l.y/s),{x:l.x,y:l.y,width:o,height:s}},eventXYAtVideo:function(e,t){var n,r,i=u.getDomPageRect(t),o=i.width,s=i.height,a=t.videoWidth,c=t.videoHeight;if(c/a>s/o){var d=a/c;a=(c=s)*d}else{d=c/a;c=(a=o)*d}return(n=u.isFloat(e.x))&&(e.x=e.x*a),(r=u.isFloat(e.y))&&(e.y=e.y*c),e.x=e.x<0?Math.floor(e.x-(o-a)/2):Math.floor(e.x+(o-a)/2),e.y=e.y<0?Math.floor(e.y-(s-c)/2):Math.floor(e.y+(s-c)/2),n&&(e.x=e.x/o),r&&(e.y=e.y/s),e},getClickXY:function(e,t){var n=t||window.event,r=document.documentElement.scrollLeft||document.body.scrollLeft,i=document.documentElement.scrollTop||document.body.scrollTop,o=n.pageX||n.clientX+r,s=n.pageY||n.clientY+i,a=this._getPosition(e);l.info("Video tag position ",a.clientX,":",a.clientY);var c=e.videoWidth,u=e.videoHeight;if(u/c>e.offsetHeight/e.offsetWidth){var d=c/u;c=(u=e.offsetHeight)*d,a.clientX+=(e.offsetWidth-c)/2}else{d=u/c;u=(c=e.offsetWidth)*d,a.clientY+=(e.offsetHeight-u)/2}return l.info("Media position ",a.clientX,":",a.clientY),l.info("Media xy ",c,":",u),l.info("Click position ",o,":",s),{mediaWidth:c,mediaHeight:u,x:o-a.clientX,y:s-a.clientY}},focusExpoRemote:function(e,t,n,r,i){var o=n||window.event,s=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,c=o.pageX||o.clientX+s,u=o.pageY||o.clientY+a,d=this._getPosition(t);l.info("Video tag position ",d.clientX,":",d.clientY);var f=t.videoWidth,p=t.videoHeight;if(p/f>t.offsetHeight/t.offsetWidth){var h=f/p;f=(p=t.offsetHeight)*h,d.clientX+=(t.offsetWidth-f)/2}else{h=p/f;p=(f=t.offsetWidth)*h,d.clientY+=(t.offsetHeight-p)/2}l.info("Media position ",d.clientX,":",d.clientY),l.info("Media xy ",f,":",p),l.info("Click position ",c,":",u),this._focusExpo(e,f,p,c-d.clientX,u-d.clientY,r,i)},_focusExpo:function(e,t,n,r,i,s,a){if(!(r<=0||r>t||i<=0||i>n)){this.__assertCurrent();var c=this.current,u=c._linkedStreams[e];if(!u||u.located())throw l.error("not exsits or locate, not connect",e),e+" not exsits or locate, not connect";var d={op2:20,streamId:e,focus:1,expo:1,x:0===t?0:Math.round(1e4*r/t),y:0===n?0:Math.round(1e4*i/n)},f=c.newMessage({op:1002,memId:u.owner.id,arg:(0,o.default)(d),_reqOps:[100202,100203]});c.postMessage(f,function(e){if(0!=e.result){var t=new h.RemoteControlFail({stream:u,failed:e.result,cause:e.msg,type:"focus_expo_control"});return c.onEvent(t),void(s&&s(t))}a&&a()})}},_republish:function(e,t,n){l.info("Republish stream. it = ",e.id);var r,i,o=this;if(e.id){var s=o.current.__getWebrtcFor(e.id);s&&o.current.closeWebrtc(s,!0),r=o.current._getWebrtc(e.id)}switch(e.type){case 0:emedia.stopTracks(e._localMediaStream),i=new o.AVPubstream(e);break;case 1:emedia.stopAndRemoveAudioTracks(e._localMediaStream),i=new o.ShareDesktopPubstream(e);break;case 2:emedia.stopTracks(e._localMediaStream),i=new o.AudioMixerPubstream(e)}setTimeout(function(){o.openUserMedia(i).then(function(){e.localStream=i.localStream,e.isRepublished=!0,e.optimalVideoCodecs=e.optimalVideoCodecs||r&&r.optimalVideoCodecs,o.push(e,t,n)},n)},100)},switchMobileCamera:function(e,t,n){if("string"==typeof e?e=this.current._cacheStreams[e]:e.id&&(e=this.current._cacheStreams[e.id]),e.voff)l.warn("Stream id = ",e.id," voff, do not chanage camera.");else{e.constaints||(e.constaints={});var r=u.extend({},e.constaints);e._lastConstaints=r,e.constaints.video="object"===(0,a.default)(e.constaints.video)?e.constaints.video:{},"user"!==e.constaints.video.facingMode&&e.constaints.video.facingMode?e.constaints.video.facingMode="user":e.constaints.video.facingMode={exact:"environment"},this._republish(e,function(e){n&&n(e)},function(n){n instanceof emedia.event.OpenMediaError&&(e.constaints=r),t&&t(n)})}},chanageCamera:function(e,t,n){var r=this;"string"==typeof e?e=r.current._cacheStreams[e]:e.id&&(e=r.current._cacheStreams[e.id]),e.voff?l.warn("Stream id = ",e.id," voff, do not chanage camera."):r.getMediaDevices("videoinput",function(i){if(i.length<=1)l.warn("Only video input. not chanage");else{var o=e._cameraIndex;if(null===e._cameraIndex||void 0===e._cameraIndex){var s=e.getLocalMediaStream(),c=(h=s&&s.getVideoTracks())&&h.length&&h[0];if(c&&c.getCapabilities&&"function"==typeof c.getCapabilities){var d=c.getCapabilities(),f=d&&d.deviceId;for(var p in i){if((v=i[p]).deviceId===f||v.label==c.label){o=parseInt(p);break}}}else for(var p in i){if((v=i[p]).label==c.label){o=parseInt(p);break}}}for(;o<i.length;){var h,m=i[o],v=i[o=(o+1)%i.length];if(!(h=e.getLocalMediaStream().getVideoTracks())||0===h.length||v.label!=h[0].label)break}var _=(v=i[o]).label;l.warn("Stream ",e.id,m.label,">>",_),e._cameraIndex=o,e.constaints||(e.constaints={});var g=u.extend({},e.constaints);e._lastConstaints=g,e.constaints.video="object"===(0,a.default)(e.constaints.video)?e.constaints.video:{},e.constaints.video.deviceId={exact:v.deviceId},r._republish(e,function(e){n&&n(e)},function(n){n instanceof emedia.event.OpenMediaError&&(e.constaints=g),t&&t(n)})}},t)},chanageConstraints:function(e,t,n,r){if("string"==typeof e?e=this.current._cacheStreams[e]:e.id&&(e=this.current._cacheStreams[e.id]),e){if(l.info("chanage pubstream constraints. it",e.id,t),d.isObject(t)&&!d.isEqual(e.constaints,t)){var i=e.constaints||{},o=e.voff,s=e.aoff;return e._lastConstaints=i,e.constaints=u.extend(!0,{},i,t),e.aoff=e.constaints.audio?0:1,e.voff=e.constaints.video?0:1,void this._republish(e,function(e){a(),r&&r(e)},function(t){t instanceof emedia.event.OpenMediaError&&(e.constaints=i,e.aoff=s,e.voff=o),n&&n(t)})}a(),r&&r(e.getMediaStream())}else l.warn("Not found pubS");function a(){var t=e.getMediaStream();emedia.enableVideoTracks(t,!e.voff),emedia.enableAudioTracks(t,!e.aoff)}},voff:function(e,t,n,r){var i=this;"string"==typeof e&&(e=i.current._cacheStreams[e]);var o=e.voff;function s(){t!=o?(emedia.enableVideoTracks(e.getMediaStream(),!t),i.current&&i.current.voff(e,t)):l.info("pubstream voff not chanage.")}if(t=t?1:0,e.voff=t,!t&&e.constaints&&!e.constaints.video){var a=e.constaints.video;return e.constaints.video=!0,void i._republish(e,function(e){s(),r&&r(e)},function(t){t instanceof emedia.event.OpenMediaError&&(e.constaints.video=a,e.voff=o),n&&n(t)})}s(),r&&r(e.getMediaStream())},aoff:function(e,t,n,r){var i=this;"string"==typeof e&&(e=i.current._cacheStreams[e]);var o=e.aoff;function s(){t!=o?(emedia.enableAudioTracks(e.getMediaStream(),!t),i.current&&i.current.aoff(e,t)):l.info("pubstream aoff not chanage.")}if(t=t?1:0,e.aoff=t,!t&&e.constaints&&!e.constaints.audio){var a=e.constaints.audio;return e.constaints.audio=!0,void i._republish(e,function(e){s(),r&&r(e)},function(t){t instanceof emedia.event.OpenMediaError&&(e.constaints.audio=a,e.aoff=o),n&&n(t)})}s(),r&&r(e.getMediaStream())},iceing:function(e){return u.isPlainObject(this.current._linkedStreams[e])},recording:function(e){return u.isPlainObject(this.current._records[e])},startRecord:function(e,t){var n=this.current._linkedStreams[e];if(!n)throw l.error("not at linked streams",e),e+" not at linked streams";n._webrtc||t&&t(!1),this.current.startRecord(n,t)},stopRecord:function(e,t){var n=this.current._records[e];if(!n)throw l.error("not at recording streams",e),e+" not at recording streams";this.current.stopRecord(n,t)},getCurrentMembers:function(){return this.current.getCurrentMembers()},_onCapturePicture:function(e){var t,n=e.arg.rspBase64Pic,r=e.arg.streamId,i=this.current._cacheStreams[r];if(n){var s;if("function"!=typeof this.getHTMLVideo||!(s=this.getHTMLVideo(r)))return void l.warn("Not support capture picture. caused by htmlVideo not found");t=this.getCaptureBase64Context(s)}else{if("function"!=typeof this.onCapturePicture)return void l.warn("Not support capture picture. caused by onCapturePicture not found");this.onCapturePicture(i)}var a=this.current.newMessage({op:1001,tsxId:e.tsxId,memId:e.memId,arg:(0,o.default)(t?{pic:t}:{}),result:0});return this.current.postMessage(a,function(e){l.warn("Send remote control onCapturePicture response. the result = ",e.result,e.msg||"")}),!0},newSession:function(e,t){var n=this;return new(n.Session||f)({ticket:t,owner:e,onTcklC:function(t){e.onTcklC(t.rtcId,t.cands)},onAcptC:function(t){e.onAcptC(t.rtcId,t.sdp,t.cands)},onAnsC:function(t){e.onAnsC(t.rtcId,t.sdp,t.cands)},onTermC:function(t){l.info("Server termc rtc: ",t.rtcId,t.message||t.msg);var r=t.endReason;if(21===r||22===r)u.forEach(e._cacheStreams,function(n,i){var o;i.rtcId===t.rtcId&&(o=21===r?new emedia.event.SwitchVCodes({stream:i,useVCodes:t.useVCodes}):new emedia.event.SubFailNotSupportVCodes({stream:i}),e.onEvent(o))});else if(23==r){var i=n.listeners.mgr.onPubVideoTooMuch;if(!i||"function"!=typeof i)return;i()}else if(24==r){var o=n.listeners.mgr.onPubDesktopTooMuch;if(!o||"function"!=typeof o)return;o()}else e.closeWebrtc(t.rtcId,!1,!0)},onEnter:function(t){e.onEnter(t.cver,t.mem)},onExit:function(t){e.onExit(t.cver,t.memId,t.reason||0)},onPub:function(t){e.onPub(t.cver,t.memId,t.pubS)},onUnpub:function(t){e.onUnpub(t.cver,t.memId,t.pubSId)},onMems:function(e){},onClose:function(t){e.onClose(t.cver,t.confrId)},onEvent:function(t){e.onEvent(t)},onStreamControl:function(t){e.onStreamControl(t.cver,t.streamId,t.voff,t.aoff,t.sver)},onRoleUpdate:function(t){e._onRoleUpdate(t.role,t.roleToken)},onRemoteControl:function(t){if("string"==typeof t.arg&&(t.arg=JSON.parse(t.arg)),20!==t.arg.op2||!t.arg.pic||!n._onCapturePicture.call(n,t)){if(30===t.arg.op2&&n._onRemotePannelControl)try{return void n._onRemotePannelControl.call(n,t)}catch(e){l.warn(e)}if(21!==t.arg.op2)if(22!==t.arg.op2){if(23===t.arg.op2){var r=n.listeners.mgr.onMuted;if(r&&"function"==typeof r)return void r()}if(24===t.arg.op2){var i=n.listeners.mgr.onUnmuted;if(i&&"function"==typeof i)return void i()}l.warn("Not support remote control");var s=e.newMessage({op:1001,tsxId:t.tsxId,memId:t.memId,arg:(0,o.default)(t.arg),result:t&&t.arg&&30===t.arg.op2?-405:-507,msg:"Not support the remote control."});e.postMessage(s,function(e){l.warn("Send remote control response. the result = ",e.result,e.msg||"")})}else{var a=t.arg,c=a.memId,u=a.nickName;if(!c)return void console.warn("onRequestToAdmin not have memberId");n._cache_receive_sessions.push(t);var d=n.listeners.mgr.onRequestToAdmin;d&&"function"==typeof d&&d({memberId:c,nickName:u},function(e){return n.agreeRequestToAdmin(e)},function(e){return n.refuseRequestToAdmin(e)})}else{var f=t.arg,p=f.memId,h=f.nickName;if(!p)return void console.warn("onRequestToTalker not have memberId");n._cache_receive_sessions.push(t);var m=n.listeners.mgr.onRequestToTalker;m&&"function"==typeof m&&m({memberId:p,nickName:h},function(e,t){return n.agreeRequestToTalker(e,t)},function(e){return n.refuseRequestToTalker(e)})}}},onRecvRemoteMessage:function(t){e._onRecvRemoteMessage&&e._onRecvRemoteMessage(t.memId,t.arg,t)},onConfrAttrsUpdated:function(e){var t=function(e){if(n.listeners.mgr){var t,r,i=n.listeners.mgr.cattrs||[];e.cattrs instanceof Array==1?(t=i,i=0==(r=e.cattrs).length?t:(r.forEach(function(e){var n=!1;t.forEach(function(r,i){if(r.key==e.key)return t.splice(i,1,e),void(n=!0)}),n||t.push(e)}),t)):i=function(e){var t=[];for(var n in e){var r={};r.key=n,r.val=e[n],r.op="",t.push(r)}return t}(e.cattrs),n.listeners.mgr.cattrs=i;var o=n.listeners.mgr.onConfrAttrsUpdated;o&&"function"==typeof o&&(o=o.bind(n.listeners.mgr))(i)}};e.cattrs instanceof Array==1&&e.cattrs.length>0&&t(e),e.cattrs.constructor==Object&&(0,r.default)(e.cattrs).length>0&&t(e),e.cstate&&function(e){if(e.cstate&&0!=(0,r.default)(e.cstate).length){var t=n.listeners.mgr.onConfrStateUpdated;t&&"function"==typeof t&&(t=t.bind(n.listeners.mgr))(e.cstate)}}(e)},onAdminChanged:function(e){var t=n.listeners.mgr.onAdminChanged;t&&"function"==typeof t&&t(e)},onRequestToTalkerReply:function(e){var t=n.listeners.mgr.onRequestToTalkerReply;t&&"function"==typeof t&&t(e)},onRequestToAdminReply:function(e){var t=n.listeners.mgr.onRequestToAdminReply;t&&"function"==typeof t&&t(e)},onLivecfgsChanged:function(e){e.liveCfgs&&emedia.config({liveCfgs:e.liveCfgs})}})},_judgeTalking:function(e){return!!e&&e.instant>=emedia.config.judgeTalkingByInstantGE},graffitiVideo:function(e,t,n){var r=this.getStreamById(e),i=new MediaStream;i._located=!0,r._localMediaStream.getAudioTracks().forEach(function(e){i.addTrack(e)}),n.captureStream(25).getVideoTracks().forEach(function(e){i.addTrack(e)}),t.srcObject=i,r.updateAttributes({localStream:i,isRepublished:!0,optimalVideoCodecs:r.optimalVideoCodecs}),this.push(r)},resetCanvas:function(e){var t;if(arguments.length>1)for(var n=0;n<arguments.length;n++)"function"==typeof(t=arguments[n])&&t(e),"function"!=typeof t&&u.isPlainObject(t)&&u.forEach(t,function(t,n){l.debug("Canvas set ",t," = ",n),e.setAttribute(t,n)})},_random:function(e){return Math.floor(Math.random()*e)},requestFrame:function(e,t){var n,r=this;if("string"==typeof e)n=this.current._cacheStreams[e];else{if(!e.id)return;n=this.current._cacheStreams[e.id]}function i(){(n.requestFrame(),n.canvas)&&b.prototype.redraw.bind({_canvasContext:n.canvas.getContext("2d")})(3,3)}n&&(t?setTimeout(function(){i(),r.requestFrame(n,t)},t):i())},graffitiCanvas:function(e,t){u.targetDOM(e)&&(t=e,e=!1);var n=this,r=new n.ShareDesktopPubstream({voff:0,aoff:e?0:1});t||(t=document.createElement("canvas")),t.getContext("2d"),r.canvas=t;var i=function(){};return i.prototype.setCanvas=function(e){return this.canvasTag=t,n.resetCanvas(t,e),this},i.prototype.push=function(e,t){this._push(e,t)},i.prototype._push=function(i,o){"function"==typeof i&&(o=i,i=void 0),t.captureStream&&(t.captureStream.enabled=!0);var s=t.captureStream(i||25);function a(n){n.canvas=t,o&&o(n,t,s),e&&n.requestFrame()}function c(e,t){var r=new MediaStream;r._located=!0,e._localMediaStream&&e._localMediaStream.getAudioTracks().forEach(function(e){r.addTrack(e)}),s.getVideoTracks().forEach(function(e){r.addTrack(e)}),e._localMediaStream=r,e.localStream=r,n.push(e,t)}return e?n.__getUserMedia({audio:!0},function(e,t){r._localMediaStream=t,c(r,a)}):c(r,a),this},new i},blobRecorder:function(e,t,n,r){var i=this;u.targetDOM(e)&&(e=e.srcObject),t||(t={mimeType:"video/webm;codecs=vp9"}),MediaRecorder.isTypeSupported(t.mimeType)||(l.info(t.mimeType," is not Supported"),t={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(t.mimeType)||(l.info(t.mimeType," is not Supported"),t={mimeType:"video/webm"},MediaRecorder.isTypeSupported(t.mimeType)||(l.info(t.mimeType," is not Supported"),t={mimeType:""})));try{var o=new MediaRecorder(e,t)}catch(e){return void l.error("Exception while creating MediaRecorder: ",e)}var s=[];function a(){this.blobs=s}return o.onstop=r||function(e){l.info("Recorder stopped: ",e)},o.ondataavailable=n||function(e){e.data&&e.data.size>0&&s.push(e.data)},a.prototype.start=function(e){o.start(e)},a.prototype.stop=function(){o.stop()},a.prototype.playurl=function(e){var t=new Blob(this.blobs,e||{type:"video/webm"});return window.URL.createObjectURL(t)},a.prototype.download=function(e,t){var n=new Blob(this.blobs,t||{type:"video/webm"});i.downloadFile(e,void 0,n)},new a},requestToTalker:function(){this.current.requestToTalker()},_get_session_by_memberId_and_op_type:function(e,t){if(e&&t){var n=void 0;return this._cache_receive_sessions.map(function(i){var o=i.arg;if(o&&o instanceof Object&&(0,r.default)(o).length>0){var s=o.memId,a=o.op2;s==e&&a==t&&(n=i)}}),n}},_delete_session_by_memberId_and_op_type:function(e,t){if(e&&t){var n=this;this._cache_receive_sessions.map(function(i,o){var s=i.arg;if(s&&s instanceof Object&&(0,r.default)(s).length>0){var a=s.memId,c=s.op2;a==e&&c==t&&n._cache_receive_sessions.splice(o,1)}})}},agreeRequestToTalker:function(){var e=(0,s.default)(i.default.mark(function e(t,n){var r,o,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._get_session_by_memberId_and_op_type(t,21)){e.next=3;break}return e.abrupt("return");case 3:return o=r.arg.memName,s=this.listeners.confrId,e.prev=5,e.next=8,this.listeners.mgr.chanageRoles(3,[o],s);case 8:e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(5),-523!=e.t0.error){e.next=16;break}if(!n||"function"!=typeof n){e.next=16;break}return n(),e.abrupt("return");case 16:this._delete_session_by_memberId_and_op_type(t,21);case 17:case"end":return e.stop()}},e,this,[[5,10]])}));return function(t,n){return e.apply(this,arguments)}}(),refuseRequestToTalker:function(e){if(e){var t=this._get_session_by_memberId_and_op_type(e,21);t&&(this.current.refuseRequestToTalker(t),this._delete_session_by_memberId_and_op_type(e,21))}else console.warn("refuseRequestToTalker memberId is required")},requestToAdmin:function(){this.current.requestToAdmin()},agreeRequestToAdmin:function(e){var t=this._get_session_by_memberId_and_op_type(e,22);if(t){var n=t.arg.memName,r=this.listeners.confrId;this.listeners.mgr.chanageRoles(7,[n],r),this._delete_session_by_memberId_and_op_type(e,22)}},refuseRequestToAdmin:function(e){if(e){var t=this._get_session_by_memberId_and_op_type(e,22);t&&(this.current.refuseRequestToAdmin(t),this._delete_session_by_memberId_and_op_type(e,22))}else console.warn("refuseRequestToAdmin memberId is required")},muteBymemberId:function(e){this.current&&7==this.current.role&&this.current.muteBymemberId(e)},unmuteBymemberId:function(e){this.current&&7==this.current.role&&this.current.unmuteBymemberId(e)}})},function(e,t,n){e.exports=n(202)},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names___default()(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(203),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof __WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a?__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"===(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e)),d=t.regeneratorRuntime;if(d)u&&(e.exports=d);else{(d=t.regeneratorRuntime=u?e.exports:{}).wrap=y;var l="suspendedStart",f="suspendedYield",p="executing",h="completed",m={},v={};v[s]=function(){return this};var _=__WEBPACK_IMPORTED_MODULE_15_babel_runtime_core_js_object_get_prototype_of___default.a,g=_&&_(_(k([])));g&&g!==r&&i.call(g,s)&&(v=g);var b=C.prototype=w.prototype=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(v);S.prototype=b.constructor=C,C.constructor=S,C[c]=S.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_set_prototype_of___default.a?__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_set_prototype_of___default()(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(b),e},d.awrap=function(e){return{__await:e}},I(x.prototype),x.prototype[a]=function(){return this},d.AsyncIterator=x,d.async=function(e,t,n,r){var i=new x(y(e,t,n,r));return d.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},I(b),b[c]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},d.values=k,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return a.type="throw",a.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function y(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(i.prototype),s=new R(r||[]);return o._invoke=function(e,t,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=M(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=A(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,s),o}function A(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function S(){}function C(){}function I(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(n,r){function o(){return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(t,o){!function t(n,r,o,s){var a=A(e[n],e,r);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"===(void 0===u?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(u))&&i.call(u,"__await")?__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(u.__await).then(function(e){t("next",e,o,s)},function(e){t("throw",e,o,s)}):__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(u).then(function(e){c.value=e,o(c)},s)}s(a.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function M(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,M(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=A(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){t.__esModule=!0;var r,i=n(156),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,n){return function r(i,s){try{var a=t[i](s),c=a.value}catch(e){return void n(e)}if(!a.done)return o.default.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}},function(e,t,n){(function(e,n){var r;!function(){var i="object"==("undefined"==typeof self?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(self))&&self.self===self&&self||"object"==(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))&&e.global===e&&e||this||{},o=i._,s=Array.prototype,a=Object.prototype,c=void 0!==__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a?__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a.prototype:null,u=s.push,d=s.slice,l=a.toString,f=a.hasOwnProperty,p=Array.isArray,h=__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default.a,m=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default.a,v=function(){},_=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};t.nodeType?i._=_:(!n.nodeType&&n.exports&&(t=n.exports=_),t._=_),_.VERSION="1.9.1";var g,b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return _.iteratee!==g?_.iteratee(e,t):null==e?_.identity:_.isFunction(e)?b(e,t,n):_.isObject(e)&&!_.isArray(e)?_.matcher(e):_.property(e)};_.iteratee=g=function(e,t){return y(e,t,1/0)};var A=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},w=function(e){if(!_.isObject(e))return{};if(m)return m(e);v.prototype=e;var t=new v;return v.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},C=function(e,t){return null!=e&&f.call(e,t)},I=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},x=Math.pow(2,53)-1,M=S("length"),E=function(e){var t=M(e);return"number"==typeof t&&t>=0&&t<=x};_.each=_.forEach=function(e,t,n){var r,i;if(t=b(t,n),E(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=_.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},_.map=_.collect=function(e,t,n){t=y(t,n);for(var r=!E(e)&&_.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o};var T=function(e){return function(t,n,r,i){var o=arguments.length>=3;return function(t,n,r,i){var o=!E(t)&&_.keys(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var c=o?o[a]:a;r=n(r,t[c],c,t)}return r}(t,b(n,i,4),r,o)}};_.reduce=_.foldl=_.inject=T(1),_.reduceRight=_.foldr=T(-1),_.find=_.detect=function(e,t,n){var r=(E(e)?_.findIndex:_.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},_.filter=_.select=function(e,t,n){var r=[];return t=y(t,n),_.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},_.reject=function(e,t,n){return _.filter(e,_.negate(y(t)),n)},_.every=_.all=function(e,t,n){t=y(t,n);for(var r=!E(e)&&_.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},_.some=_.any=function(e,t,n){t=y(t,n);for(var r=!E(e)&&_.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,r){return E(e)||(e=_.values(e)),("number"!=typeof n||r)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=A(function(e,t,n){var r,i;return _.isFunction(t)?i=t:_.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),_.map(e,function(e){var o=i;if(!o){if(r&&r.length&&(e=I(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e[0])&&null!=e)for(var a=0,c=(e=E(e)?e:_.values(e)).length;a<c;a++)null!=(r=e[a])&&r>o&&(o=r);else t=y(t,n),_.each(e,function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},_.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e[0])&&null!=e)for(var a=0,c=(e=E(e)?e:_.values(e)).length;a<c;a++)null!=(r=e[a])&&r<o&&(o=r);else t=y(t,n),_.each(e,function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},_.shuffle=function(e){return _.sample(e,1/0)},_.sample=function(e,t,n){if(null==t||n)return E(e)||(e=_.values(e)),e[_.random(e.length-1)];var r=E(e)?_.clone(e):_.values(e),i=M(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=_.random(s,o),c=r[s];r[s]=r[a],r[a]=c}return r.slice(0,t)},_.sortBy=function(e,t,n){var r=0;return t=y(t,n),_.pluck(_.map(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var R=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=y(r,i),_.each(n,function(t,i){var s=r(t,i,n);e(o,t,s)}),o}};_.groupBy=R(function(e,t,n){C(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=R(function(e,t,n){e[n]=t}),_.countBy=R(function(e,t,n){C(e,n)?e[n]++:e[n]=1});var k=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;_.toArray=function(e){return e?_.isArray(e)?d.call(e):_.isString(e)?e.match(k):E(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:E(e)?e.length:_.keys(e).length},_.partition=R(function(e,t,n){e[n?0:1].push(t)},!0),_.first=_.head=_.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:_.initial(e,e.length-t)},_.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,Boolean)};var O=function e(t,n,r,i){for(var o=(i=i||[]).length,s=0,a=M(t);s<a;s++){var c=t[s];if(E(c)&&(_.isArray(c)||_.isArguments(c)))if(n)for(var u=0,d=c.length;u<d;)i[o++]=c[u++];else e(c,n,r,i),o=i.length;else r||(i[o++]=c)}return i};_.flatten=function(e,t){return O(e,t,!1)},_.without=A(function(e,t){return _.difference(e,t)}),_.uniq=_.unique=function(e,t,n,r){_.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=y(n,r));for(var i=[],o=[],s=0,a=M(e);s<a;s++){var c=e[s],u=n?n(c,s,e):c;t&&!n?(s&&o===u||i.push(c),o=u):n?_.contains(o,u)||(o.push(u),i.push(c)):_.contains(i,c)||i.push(c)}return i},_.union=A(function(e){return _.uniq(O(e,!0,!0))}),_.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=M(e);r<i;r++){var o=e[r];if(!_.contains(t,o)){var s;for(s=1;s<n&&_.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},_.difference=A(function(e,t){return t=O(t,!0,!0),_.filter(e,function(e){return!_.contains(t,e)})}),_.zip=A(_.unzip=function(e){for(var t=e&&_.max(e,M).length||0,n=Array(t),r=0;r<t;r++)n[r]=_.pluck(e,r);return n}),_.object=function(e,t){for(var n={},r=0,i=M(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var P=function(e){return function(t,n,r){n=y(n,r);for(var i=M(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};_.findIndex=P(1),_.findLastIndex=P(-1);var j=function(e,t,n){return function(r,i,o){var s=0,a=M(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(d.call(r,s,a),_.isNaN))>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}};_.indexOf=j(1,_.findIndex,_.sortedIndex=function(e,t,n,r){for(var i=(n=y(n,r,1))(t),o=0,s=M(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}),_.lastIndexOf=j(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},_.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(d.call(e,r,r+=t));return n};var D=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=w(e.prototype),s=e.apply(o,i);return _.isObject(s)?s:o};_.bind=A(function(e,t,n){if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var r=A(function(i){return D(e,r,t,this,n.concat(i))});return r}),(_.partial=A(function(e,t){var n=_.partial.placeholder;return function r(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return D(e,r,this,this,s)}})).placeholder=_,_.bindAll=A(function(e,t){var n=(t=O(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=_.bind(e[r],e)}}),_.memoize=function(e,t){var n=function n(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return C(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},_.delay=A(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var r,i,o,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:_.now(),r=null,s=e.apply(i,o),r||(i=o=null)},u=function(){var u=_.now();a||!1!==n.leading||(a=u);var d=t-(u-a);return i=this,o=arguments,d<=0||d>t?(r&&(clearTimeout(r),r=null),a=u,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,d)),s};return u.cancel=function(){clearTimeout(r),a=0,r=i=o=null},u},_.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},s=A(function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,t),a&&(i=e.apply(this,s))}else r=_.delay(o,t,this,s);return i});return s.cancel=function(){clearTimeout(r),r=null},s},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},_.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},_.once=_.partial(_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},2),_.restArguments=A;var L=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],U=function(e,t){var n=B.length,r=e.constructor,i=_.isFunction(r)&&r.prototype||a,o="constructor";for(C(e,o)&&!_.contains(t,o)&&t.push(o);n--;)(o=B[n])in e&&e[o]!==i[o]&&!_.contains(t,o)&&t.push(o)};_.keys=function(e){if(!_.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)C(e,n)&&t.push(n);return L&&U(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&U(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},_.mapObject=function(e,t,n){t=y(t,n);for(var r=_.keys(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},_.pairs=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},_.invert=function(e){for(var t={},n=_.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()};var N=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,c=0;c<a;c++){var u=s[c];t&&void 0!==n[u]||(n[u]=o[u])}return n}};_.extend=N(_.allKeys),_.extendOwn=_.assign=N(_.keys),_.findKey=function(e,t,n){t=y(t,n);for(var r,i=_.keys(e),o=0,s=i.length;o<s;o++)if(t(e[r=i[o]],r,e))return r};var V,F,W=function(e,t,n){return t in n};_.pick=A(function(e,t){var n={},r=t[0];if(null==e)return n;_.isFunction(r)?(t.length>1&&(r=b(r,t[1])),t=_.allKeys(e)):(r=W,t=O(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n}),_.omit=A(function(e,t){var n,r=t[0];return _.isFunction(r)?(r=_.negate(r),t.length>1&&(n=t[1])):(t=_.map(O(t,!1,!1),String),r=function(e,n){return!_.contains(t,n)}),_.pick(e,r,n)}),_.defaults=N(_.allKeys,!0),_.create=function(e,t){var n=w(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0},V=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e);return("function"===i||"object"===i||"object"==(void 0===t?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(t)))&&F(e,t,n,r)},F=function(e,t,n,r){e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var i=l.call(e);if(i!==l.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))||"object"!=(void 0===t?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(t)))return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!V(e[u],t[u],n,r))return!1}else{var d,f=_.keys(e);if(u=f.length,_.keys(t).length!==u)return!1;for(;u--;)if(d=f[u],!C(t,d)||!V(e[d],t[d],n,r))return!1}return n.pop(),r.pop(),!0},_.isEqual=function(e,t){return V(e,t)},_.isEmpty=function(e){return null==e||(E(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=p||function(e){return"[object Array]"===l.call(e)},_.isObject=function(e){var t=void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e);return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){_["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return C(e,"callee")});var G=i.document&&i.document.childNodes;"object"!=("undefined"==typeof Int8Array?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(Int8Array))&&"function"!=typeof G&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return!_.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&isNaN(e)},_.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===l.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){if(!_.isArray(t))return C(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!n},_.noConflict=function(){return i._=o,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=function(e){return _.isArray(e)?function(t){return I(t,e)}:S(e)},_.propertyOf=function(e){return null==e?function(){}:function(t){return _.isArray(t)?I(e,t):e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=_.invert(K),q=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};_.escape=q(K),_.unescape=q(z),_.result=function(e,t,n){_.isArray(t)||(t=[t]);var r=t.length;if(!r)return _.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=_.isFunction(o)?o.call(e):o}return e};var H=0;_.uniqueId=function(e){var t=++H+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Q=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+Y[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var r,i=RegExp([(t.escape||Q).source,(t.interpolate||Q).source,(t.evaluate||Q).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(i,function(t,n,r,i,a){return s+=e.slice(o,a).replace(J,X),o=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}var a=function(e){return r.call(this,e,_)},c=t.variable||"obj";return a.source="function("+c+"){\n"+s+"}",a},_.chain=function(e){var t=_(e);return t._chain=!0,t};var Z=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){return _.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),Z(this,n.apply(_,e))}}),_},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Z(this,n)}}),_.each(["concat","join","slice"],function(e){var t=s[e];_.prototype[e]=function(){return Z(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return _}.apply(t,[]))||(n.exports=r)}()}).call(this,n(206),n(2)(e))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(window))&&(n=window)}e.exports=n},function(e,t,n){var r=o(n(73)),i=o(n(144));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(72),a=s.tagLogger("Sess"),c=n(208),u=0,d=n(209).default,l=s.prototypeExtend({setSessId:function(e){return e&&(this.sessId=e),this},setOp:function(e){return e&&(this.op=e),200===e&&(this.res={type:emedia.config.clientType,ver:window._emediaVersion||emedia.config.version,agent:emedia.config.userAgent,ops:emedia.config.acptOps}),this},setTsxId:function(e){return e&&(this.tsxId=e),this},setTicket:function(e){return e&&(this.tkt=e),this},setSdp:function(e){return e&&(this.sdp=e),this},setCands:function(e){return e&&(this.cands=e),this},setSubSId:function(e){return e&&(this.subSId=e),this},setMemId:function(e){return e&&(this.memId=e),this},setPubS:function(e){e&&(this.pubS=s.extend(!1,{},e));var t=this.pubS;return t.ext&&s.isPlainObject(t.ext)&&(t.ext=(0,i.default)(t.ext)),t&&s.forEach(t,function(e,n){(s.isPlainObject(n)||"function"==typeof n)&&"resolution"!=e&&s.removeAttribute(t,e)}),t&&s.removeAttribute(t,"localStream"),t&&s.removeAttribute(t,"_localMediaStream"),t&&s.removeAttribute(t,"_webrtc"),this},setRtcId:function(e){return e&&(this.rtcId=e),this},setCver:function(e){return e&&(this.cver=e),this},setEndReason:function(e){return e&&(this.endReason=e),this},setNickName:function(e){return e&&(this.nickName=e),this},setResource:function(e){return e&&(this.resource=e),this},setReason:function(e){return e&&(this.reason=e),this},setConfrId:function(e){return e&&(this.confrId=e),this},setVoff:function(e){return void 0===e||(this.voff=e?1:0),this},setAoff:function(e){return void 0===e||(this.aoff=e?1:0),this},setFlag:function(e){return 0===e&&(this.flag=0),1===e&&(this.flag=1),this},setExt:function(e){return e&&s.isPlainObject(e)&&(e=(0,i.default)(e)),e&&(this.ext=e),this}}),f=emedia.__session_globalCount=0;e.exports=s.prototypeExtend({_events:{0:"onReqP2P",1:"onNewCfr",2:"onDelCfr",3:"onReqTkt",100:"onPing",101:"onPong",102:"onInitC",103:"onReqC",104:"onAcptC",105:"onTcklC",106:"onAnsC",107:"onTermC",300:"onEnter",301:"onExit",302:"onPub",303:"onUnpub",304:"onMems",204:"onClose",400:"onStreamControl",401:"onJoin",412:"onRoleUpdate",1002:"onRemoteControl",1003:"onRecvRemoteMessage",402:"onConfrAttrsUpdated",413:"onAdminChanged",452:"onLivecfgsChanged"},__init__:function(){var e=this;e._bufferedMessages=[],e._callbacks={},navigator.onLine?e.online=!0:e.online=!1,window.addEventListener("online",function(t){e.online=!0,a.warn("online online online"),e.closed||e._reconnect(emedia.config.reconnect)},!0),window.addEventListener("offline",function(t){e.online=!1,a.warn("offline offline offline"),e.__checkConnectIntervalId&&clearTimeout(e.__checkConnectIntervalId),e.__retryConnectIntervalId&&clearTimeout(e.__retryConnectIntervalId),e.__retryConnectIntervalId&&delete e.__retryConnectIntervalId,e._websocket&&e._websocket.close(1e3)},!0),a.info("online status = ",e.online)},_nextWsUri:function(){var e=this.ticket.url;emedia.config.useDeployMore&&(emedia.mgr.rtc_url_config=null,emedia.mgr.rtc_url_config=new d(emedia.config.rtcConfigUrl||""),e=emedia.mgr.rtc_url_config.replace_ws(e));var t=emedia.config&&emedia.config.convertWebsocketURLOfTicket||emedia.convertWebsocketURLOfTicket;if("function"==typeof t){var n=e;e=t(e),a.warn(n,"--\x3e",e)}if(e.startsWith("/")){if(emedia.config.wsorigin)e=emedia.config.wsorigin+e;else{var r=window.location.href,i=r.startsWith("https")?"wss://":"ws://",o=r.indexOf("://")+3,s=r.indexOf("/",o);e=i+r.substring(o,s)+e}a.warn("websocket url. update. {} -> {}",this.ticket.url,e)}else emedia.config.wsorigin&&a.warn("emedia.config.wsorigin invalidate. causeby server url {}",e);return e.indexOf("?")>=0?e+="&"+u++:e+="?"+u++,e},_reconnect:function(e){var t=this;function n(){a.warn("Reconnected. at ",e,t._websocket.url),t.__retryConnectIntervalId&&clearTimeout(t.__retryConnectIntervalId),t.__retryConnectIntervalId&&delete t.__retryConnectIntervalId;var n=t.newMessage().setOp(200).setSessId(t._sessionId).setTicket(t.ticket).setNickName(t.nickName||t.ticket.memName).setResource(t.resource).setExt(t.owner.ext);t.postMessage(n,function(e){if(0==e.result){var r=t.owner;s.forEach(r._cacheStreams,function(e,t){if(!r._maybeNotExistStreams[e]&&t._webrtc){var n=t._webrtc;n.closed||(a.warn("network chanage. webrtc will rebuild.",n._rtcId,n.__id),r.onICEClosed(n))}}),t.onEvent(new c.EnterSuccess({ip:t.owner.ip})),t.owner.onMembers(e.cver,e.mems),t.owner.onStreams(e.cver,e.streams),t.notifyNewMessage()}else try{t.onEvent(new c.EnterFail({me:t.owner,cause:new c.RspFail({request:n,response:e})}))}finally{-9527!==e.result&&t.onEvent(new c.ServerRefuseEnter({failed:e.result,msg:e.msg}))}})}t.connect(n,function r(i){if(e<=0)return a.warn("Reconnect end. but fail.",i.url,e),void(t.__retryConnectIntervalId&&delete t.__retryConnectIntervalId);e&&(t.__retryConnectIntervalId=setTimeout(function(){t.connect(n,r,--e)},emedia.config.reconnectDelay))},--e)},__checkConnect:function(){var e=this;e.__checkConnectIntervalId&&clearTimeout(e.__checkConnectIntervalId),emedia.config.checkConnectIntervalMillis&&(e.__checkConnectIntervalId=setTimeout(function(){try{e.online&&!e.connected()&&(e.__retryConnectIntervalId&&a.debug("online, reconnecting..."),e.__retryConnectIntervalId||a.debug("online, but disconnect. will reconnect"),e.__retryConnectIntervalId||e._reconnect(emedia.config.reconnect))}finally{e.__checkConnect()}},emedia.config.checkConnectIntervalMillis))},connect:function(e,t,n){var r=this,o=r.thisWsUri=r._nextWsUri();void 0!==n&&a.warn("begin connect... at retry = ",n,o),function(e,t,n){var r=this;function o(e,i){try{r.onWebsocketEvent(new c.WSClose({url:r.thisWsUri,retry:n,online:r.online,cause:e,event:i,session:r}))}finally{t&&t(new c.WSClose({url:r.thisWsUri,retry:n,online:r.online,cause:e,event:i,session:r}))}}function u(e){if(r.connected(r.thisWsUri)){if(s.isPlainObject(e)&&!(e instanceof l))throw a.error("message not a Messages"),"message not a Messages";if(r.sessId&&e.sessId!=r.sessId)a.warn("self.sessId && message.sessId != self.sessId",e);else{var t=(0,i.default)(e);r.thisWsUri===r._websocket.url&&r._websocket.send(t),r.thisWsUri===r._websocket.url&&a.debug("Done send req:",t,r._websocket.url),r.thisWsUri===r._websocket.url||a.debug("Donot send(url not equal): req:",t,r._websocket.url)}}else a.debug("current dont connect. the message = ",e)}if(r.connected(r.thisWsUri))return e&&e(r),a.info("Session connected. dont continue connect"),void(r.notifyNewMessage&&r.notifyNewMessage());if(r.online){r.notifyNewMessage=function(){if(r.connected(r.thisWsUri)){if(0===r._bufferedMessages.length)return;for(var e,t=[];e=r._bufferedMessages.shift();)if(e.sessId||r.sessId||200==e.op){if(200===e.op){u(e);break}r.sessId&&!e.sessId&&(e.sessId=r.sessId);var i=u(e);i&&t.push(i)}else t.push(e),a.warn("tmp store message, util enter success!",e);t.length>0&&Array.prototype.push.apply(r._bufferedMessages,t)}else if(0!==n&&r.online)r.connected();else{var o=s.extend(!1,{},r._callbacks),c=[];for(var d in o){var l=o[d];n>0&&!r.online?c.push(l):r.onMessage({op:1001,tsxId:d,result:-9527,msg:"sdk rsp fail. retry fail or online = "+r.online})}r._bufferedMessages=r._bufferedMessages||[],c.length>0&&Array.prototype.push.apply(r._bufferedMessages,c)}},a.info("Session begin connect.");var d=r._websocket;d&&(a.warn("will close. websocket state",d.readyState,d.url,r.thisWsUri),d.close(1e3));try{a.info("Connecting",r.thisWsUri,n),d=r._websocket=new WebSocket(r.thisWsUri)}catch(e){return a.warn(e),void o(e)}d.onopen=function(n){var i=this.url;if(i===r.thisWsUri)try{a.info("websocket connected:",i),t&&(t=null),e&&e(r),r.onWebsocketEvent(new c.WSConnected({event:n,session:r}))}finally{}else a.warn("ignore the onopen. caused by websocket url not ",r.thisWsUri,i)},d.onmessage=function(e){var t=this.url;if(t===r.thisWsUri){a.debug("recv data",e.data);var n=JSON.parse(e.data);n&&1001==n.op&&a.debug("recv message: rsp:",n),n&&1001!=n.op&&a.debug("recv message: evt:",n),r.onMessage(n)}else a.warn("ignore recv data. caused by websocket url not ",r.thisWsUri,t,e.data)},d.onclose=function(e){var t=this.url;a.info("Disconnected:",t,r.thisWsUri,e),t===r.thisWsUri?(r.notifyNewMessage(),1e3!==e.code&&o(void 0,e)):a.warn("ignore onclose. caused by websocket url not ",r.thisWsUri,t)},d.onerror=function(e){a.info("On error:",e),r.onWebsocketEvent(new c.WSError({event:e,online:r.online,session:r,url:this.url}))}}else o()}.call(r,function(){try{e.apply(r,arguments)}finally{r.__checkConnect()}},function(e){try{t.apply(r,arguments)}finally{n||e.url!==o||r.onEvent(new c.ServerRefuseEnter({failed:-95270,msg:"sdk reconnect fail. "+o+"|"+e.url}))}},n)},connected:function(e){return this.online&&this._websocket&&(!e||e===this._websocket.url)&&this._websocket.readyState==WebSocket.OPEN},onWebsocketEvent:function(e){this.onEvent(e)},register:function(e){if("object"===(void 0===e?"undefined":(0,r.default)(e)))for(var t in e)this.bind(t,e[t])},bind:function(e,t){var n;if(!(n=this._events[e]))throw a.error("Not supported event = ",e),"Not supported event = "+e;this[n]=t},getSessionId:function(){return this._sessionId},newMessage:function(e){return new l(e)},__modifyMessage:function(e){if(e&&e.sdp&&("string"==typeof e.sdp&&(e.sdp=s.parseJSON(e.sdp)),e.sdp.type&&(e.sdp.type=e.sdp.type.toLowerCase()),e.cctx&&(e.sdp.cctx=e.cctx)),e&&e.cands){"string"==typeof e.cands&&(e.cands=s.parseJSON(e.cands));for(var t=0;t<e.cands.length;t++)"string"==typeof e.cands[t]&&(e.cands[t]=s.parseJSON(e.cands[t])),e.cands[t].sdpMLineIndex=e.cands[t].mlineindex,e.cands[t].sdpMid=e.cands[t].mid,delete e.cands[t].mlineindex,delete e.cands[t].mid,e.cctx&&(e.cands[t].cctx=e.cctx)}if(e&&e.mems){if(!s.isArray(e.mems))return;var n=e.mems;e.mems={},s.forEach(n,function(t,n){n.name&&(n.memName=n.name),e.mems[n.id]=n;var r=n.acptOps={};if(s.forEach(emedia.config.baseAcptOps,function(e,t){r[t]=!0}),n.res&&s.forEach(n.res.ops,function(e,t){r[t]=!0}),n&&n.ext)try{e.mems[n.id].ext=JSON.parse(n.ext)}catch(e){a.debug(e)}})}if(e&&e.mem){e.mem.name&&(e.mem.memName=e.mem.name);var r=e.mem.acptOps={};if(s.forEach(emedia.config.baseAcptOps,function(e,t){r[t]=!0}),e.mem.res&&s.forEach(e.mem.res.ops,function(e,t){r[t]=!0}),e.mem&&e.mem.ext)try{e.mem.ext=JSON.parse(e.mem.ext)}catch(e){a.debug(e)}}if(e&&e.streams){if(!s.isArray(e.streams))return;var i=e.streams;e.streams={},s.forEach(i,function(t,n){if(e.streams[n.id]=n,n&&n.ext)try{e.streams[n.id].ext=JSON.parse(n.ext)}catch(e){a.debug(e)}})}if(e&&e.pubS&&e.pubS&&e.pubS.ext)try{e.pubS.ext=JSON.parse(e.pubS.ext)}catch(e){a.debug(e)}if(e&&e.ext)try{e.ext=JSON.parse(e.ext)}catch(e){a.debug(e)}return e},onMessage:function(e){var t=this;function n(e){var n=t._events[e.op],r=t[n];r?r.call(t,e):a.warn("Not supported event = ",e)}if(1001!=e.op&&!e.sessId)throw a.error("message sessId error. server evt data error"),"message sessId error. server evt data error";if(1001!=e.op&&t._sessionId&&t._sessionId!=e.sessId)throw a.error("message sessId error. server and local not equal"),"message sessId error. server and local not equal";if(1004!==e.op){if(1001==e.op&&e.arg){var r=JSON.parse(e.arg).op2;if(21==r){var i=e.result;return void t.onRequestToTalkerReply(i)}if(22==r){var o=e.result;return void t.onRequestToAdminReply(o)}}var u;e=t.__modifyMessage(e);var d=s.removeAttribute(t._callbacks,e.tsxId);if(d&&200===d.op){t._sessionId=e.sessId;var l="string"==typeof e.yourIp?e.yourIp:void 0;if("string"==typeof t._session_ip&&l!=t._session_ip&&(u=t._session_ip),a.info(t._sessionId,"ip is",l,u),t._session_ip=l,t.owner.ip=l,0===e.result){for(var f in t._bufferedMessages){var p=t._bufferedMessages[f];p.sessId||200===p.op||(p.sessId=e.sessId)}setTimeout(function(){t.notifyNewMessage()},100),1001==e.op&&(e.cattrs||e.cstate)&&t.onConfrAttrsUpdated(e)}else for(var h;h=t._bufferedMessages.shift();)200!==h.op&&t.onMessage({op:1001,tsxId:h.tsxId,result:-9527,msg:"sdk enter fail. sdk callback. enter result = "+e.result})}if(t.owner&&t.owner.closed)a.warn("self closed. me is "+t.owner.getMemberId()+", session_id = "+t.getSessionId()+". drop message",e);else{if(t.onEvent(new c.RecvResponse({request:d,response:e})),d&&d.__callback__&&1004!==e.op)return d.__callback__(e),void(u&&t.onWebsocketEvent(new c.NetworkChanaged({preIp:u,nowIp:t._session_ip})));e.op&&1001!=e.op?(n(e),u&&t.onWebsocketEvent(new c.NetworkChanaged({preIp:u,nowIp:t._session_ip}))):a.debug("Igron message. caused by op not found.",e)}}else n(e)},__modifyMessageForPost:function(e){if(e.cands){for(var t=[],n=e.cands,r=0;r<n.length;r++){var o;0==r&&n[r].cctx&&(e.cctx=n[r].cctx),o="string"==typeof n[r]?{type:"candidate",candidate:n[r],mlineindex:0,mid:"audio"}:{type:"candidate",candidate:n[r].candidate,mlineindex:n[r].sdpMLineIndex,mid:n[r].sdpMid},t.push((0,i.default)(o))}e.cands=t}if(e.sdp&&"string"!=typeof e.sdp){var a={type:e.sdp.type,sdp:e.sdp.sdp};e.sdp.cctx&&(e.cctx=e.sdp.cctx),e.sdp=a,e.sdp.type=e.sdp.type.toUpperCase(),e.sdp=s.stringifyJSON(e.sdp)}return e.pubS&&s.removeAttribute(e.pubS,"_located"),e.pubS&&s.removeAttribute(e.pubS,"mutedMuted"),e.pubS&&s.removeAttribute(e.pubS,"mediaStream"),e.pubS&&s.removeAttribute(e.pubS,"isRepublished"),e.pubS&&s.removeAttribute(e.pubS,"optimalVideoCodecs"),"function"==typeof e.post&&s.removeAttribute(e,"post"),e},postMessage:function(e,t,n){1002==e.op&&console.log("postMessage 1002",(0,i.default)(e));var r=this;if(e.tsxId||(e.tsxId="MSG"+Date.now()+"-"+f++),e.memId){var o=r.owner._cacheMembers[e.memId],c=e.arg,u=!1;if(c&&(21!=(c=JSON.parse(c)).op2&&22!=c.op2&&23!=c.op2&&24!=c.op2||(u=!0)),!o&&!u)return a.warn("Member not found at local. memberId = "+e.memId,e),void(t&&t({op:1001,tsxId:e.tsxId,result:-507,msg:" member not found at local. memberId = "+e.memId}));var d=e._reqOps;if(d||(d=[]).push(e.op),!u)for(var l in d){var p=d[l];if(!o.acptOps[p])return a.warn("Member not accept op "+p+", "+e.memId,e),void(t&&t({op:1001,tsxId:e.tsxId,result:-507,msg:" member not accept op "+p+", "+e.memId}))}}if(s.removeAttribute(e,"_reqOps"),r._sessionId&&r._sessionId!=e.sessId)return a.warn("sessionId not excepted. self._sessionId = "+r._sessionId,e),void(t&&t({op:1001,tsxId:e.tsxId,result:-9527,msg:"sessionId not excepted."}));if(r.closed)return a.warn("session closed.",e),void(t&&t({op:1001,tsxId:e.tsxId,result:-9527,msg:"session closed"}));var h=s.extend({},e);if(!(e=r.__modifyMessageForPost(e)))return a.warn("Message drop. callback success.",e),void(t&&t({op:1001,tsxId:h.tsxId,result:0,msg:"Message drop. callback success."}));200===e.op?(r._bufferedMessages.unshift(e),t&&setTimeout(function(){r._callbacks[e.tsxId]&&(a.error("Enter timeout. fail."),r.onMessage({op:1001,tsxId:e.tsxId,result:-9527,msg:"enter timeout. millis = "+emedia.config.enterTimeout}))},emedia.config.enterTimeout)):r._bufferedMessages.push(e),t&&(r._callbacks[e.tsxId]=s.extend(e,{__callback__:t.bind(r.owner)})),r.notifyNewMessage&&r.notifyNewMessage(),n&&t&&setTimeout(function(){var e=r._callbacks[e.tsxId];e&&e.__callback__&&e.__callback__({op:1001,tsxId:h.tsxId,result:-408,msg:"Message request timeout."}),s.removeAttribute(r._callbacks,e.tsxId)},n)},close:function(e){a.warn("sessiong closing, reason = ",e);this.notifyNewMessage&&this.notifyNewMessage(),this.closed=!0,this.seqno=0,this._websocket&&(0==e||100==e?this._websocket.close(1e3):this._websocket.close()),this.__retryConnectIntervalId&&clearTimeout(this.__retryConnectIntervalId),this.__retryConnectIntervalId&&delete this.__retryConnectIntervalId,this.__checkConnectIntervalId&&clearTimeout(this.__checkConnectIntervalId),this.__checkConnectIntervalId&&delete this.__checkConnectIntervalId,this.owner=null,this._bufferedMessages=[],this._callbacks={},a.warn("session closed")}})},function(e,t,n){var r=n(72),i=(r.logger,r.prototypeExtend({msg:"",__init__:function(){this.day=new Date},execTime:function(){var e=this.day.getHours();e<10&&(e="0"+e);var t=this.day.getMinutes();t<10&&(t="0"+t);var n=this.day.getSeconds();return n<10&&(n="0"+n),e+":"+t+":"+n}})),o=i.extend({_webrtcDesc:function(){this.webrtc;return this.webrtc.getRtcId()}});e.exports={Exception:i.extend(),NetworkChanaged:i.extend({message:function(){var e=this.execTime()+" : Network chanage ("+this.preIp+" -> "+this.nowIp+").";return e}}),WSClose:i.extend({message:function(){var e=this.execTime()+" WSClose: Websocket close ("+(this.retry||0)+").";return this.online||(e+=" offline."),this.event&&(e+=" wscode: "+this.event.code),this.cause&&(e+=" cause: "+this.cause.message),this.url&&(e+=" url: "+this.url),e+=" retry: "+(this.retry||0),this.session&&this.session.getSessionId()&&(e=e+", sess = "+this.session.getSessionId()),e}}),WSError:i.extend({message:function(){var e=this.execTime()+" WSError: Websocket error. ready state:"+(this.event.srcElement&&this.event.srcElement.readyState||this.event.currentTarget.readyState)+". online = "+this.online;return this.session&&this.session.getSessionId()&&(e=e+", sess = "+this.session.getSessionId()),this.url&&(e+=" url: "+this.url),e}}),WSConnected:i.extend({message:function(){var e=this.execTime()+" WSConnected: Websocket success. ready state:"+(this.event.srcElement&&this.event.srcElement.readyState||this.event.currentTarget.readyState);return this.session&&this.session.getSessionId()&&(e=e+", sess = "+this.session.getSessionId()),e}}),ICEChanage:o.extend({message:function(){return this.execTime()+" ICEChanage: "+this._webrtcDesc()+" state: "+this.state}}),AddIceCandError:o.extend({message:function(){return this.execTime()+" AddIceCandError: "+this._webrtcDesc()+", add cand error"}}),ICEConnectFail:o.extend({message:function(){return this.execTime()+" ICEConnectFail: "+this._webrtcDesc()+" failed"}}),ICEConnected:o.extend({message:function(){return this.execTime()+" ICEConnected: "+this._webrtcDesc()+" connected"}}),ICEDisconnected:o.extend({message:function(){return this.execTime()+" ICEDisconnected: "+this._webrtcDesc()+" disconnected"}}),ICEClosed:o.extend({message:function(){return this.execTime()+" ICEClosed: "+this._webrtcDesc()+" closed"}}),ICERemoteMediaStream:o.extend({message:function(){return this.execTime()+" ICERemoteMediaStream: "+this._webrtcDesc()+" got remote stream"}}),StreamState:i.extend({message:function(){return this.execTime()+" StreamState:  stream "+this.stream.id+" state: "+this.state+" "+this.msg},iceFail:function(){this.state=1,this.msg="network anomaly. media lost"}}),OpenMediaError:i.extend({message:function(){return this.execTime()+" OpenMediaError:  open media error. caused by "+(this.event.name?this.event.name:this.event.message?this.event.message:this.event.toString())}}),Hangup:i.extend({message:function(){return this.self?"hangup id = "+(this.self.id||"--")+" reason："+(this.reason||0):this.execTime()+" Hangup: "+(this.parnter&&(this.parnter.name||this.parnter.id||" ")||"")+" hangup, reason："+(this.reason||0)}}),ServerRefuseEnter:i.extend({message:function(){return this.execTime()+" ServerRefuseEnter: server refuse, cause："+this.failed+", msg:"+(this.msg||"")}}),RspFail:i.extend({__init__:function(){this.day=new Date,this.failed=this.response.result,this.msg=this.response.msg||this.response.message||"--"},message:function(){return this.execTime()+" RspFail: "+this.request.tsxId+", "+(this.response.sessId||"--")+" op: "+this.request.op+", cause: "+this.failed+" "+this.msg}}),RecvResponse:i.extend({__init__:function(){this.day=new Date,this.failed=this.response.result,this.msg=this.response.msg},message:function(){return this.request?this.execTime()+" RecvResponse: "+(this.request&&this.request.tsxId)+", "+(this.response.sessId||"--")+" op: "+(this.request&&this.request.op)+", cause: "+this.failed+" "+this.msg:this.execTime()+" RecvMessage: "+(this.response&&this.response.tsxId)+", "+(this.response.sessId||"--")+" op: "+(this.response&&this.response.op)+" "+this.msg}}),EnterFail:i.extend({message:function(){return this.execTime()+" EnterFail: enter fail："+(this.cause?this.cause.message():"unkown")}}),EnterSuccess:i.extend({message:function(){return this.execTime()+" EnterSuccess: enter success "+(this.ip?", ip = "+this.ip:"")}}),PushSuccess:i.extend({message:function(){return this.execTime()+" PushSuccess: push success, streamId = "+this.stream.id+", "+this.stream.optimalVideoCodecs+", webrtc = "+this.stream.rtcId}}),PushFail:i.extend({message:function(){return this.execTime()+" PushFail: push fail, streamId = "+this.stream.id+", "+this.stream.optimalVideoCodecs+", webrtc = "+this.stream.rtcId+" cause："+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),RemoteControlFail:i.extend({message:function(){return this.execTime()+" RemoteControlFail: "+(this.type||"remote control")+" fail, "+(this.stream?this.stream.id:"")+" failed = "+this.failed+" cause："+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),SubSuccess:i.extend({message:function(){return this.execTime()+" SubSuccess: sub success, streamId = "+this.stream.id+", "+this.stream.vcodes+", webrtc = "+this.stream.rtcId}}),SubFail:i.extend({message:function(){return this.execTime()+" SubFail: sub fail, streamId = "+this.stream.id+", "+this.stream.vcodes+", webrtc = "+this.stream.rtcId+" cause："+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),SubFailNotSupportVCodes:i.extend({message:function(){return this.execTime()+" SubFailNotSupportVCodes: sub fail, streamId = "+this.stream.id+" cause："+(this.cause?this.cause.message?this.cause.message():this.cause:"unkown")}}),SubFailSafariNotAllowSubBeforePub:i.extend({message:function(){return this.execTime()+" SubFailSafariNotAllowSubBeforePub: sub fail, streamId = "+this.stream.id+" cause：Safari without access to capture devices, WebKit only exposes Server Reflexive and TURN ICE candidates, which expose IPs that could already be gathered by websites."}}),SwitchVCodes:i.extend({message:function(){return this.execTime()+" SwitchVCodes: pub streamId = "+this.stream.id}}),CurrentCalling:i.extend({message:function(){return this.execTime()+" CurrentCalling: warn! current calling..."}}),OpenDesktopMedia:i.extend({message:function(){return this.execTime()+" OpenDesktopMedia: shared desktop, desktopStreamId = "+desktopStreamId}}),OpenDesktopMediaAccessDenied:i.extend({message:function(){return this.execTime()+" OpenDesktopMediaAccessDenied: shared desktop not allow"}}),ShareDesktopExtensionNotFound:i.extend({message:function(){return this.execTime()+" ShareDesktopExtensionNotFound: shared desktop plugin required"}}),OtherDeviceAnswer:i.extend({message:function(){return this.execTime()+" other device answer, webrtc = "+this.rtcId}}),AudioMixerStreamNotAllowSub:i.extend({message:function(){return this.execTime()+" audio mixer stream not allow sub, webrtc = "+this.rtcId+", streamId = "+this.stream.id}}),AudioMixerStreamNotAllowOnlySubVideo:i.extend({message:function(){return this.execTime()+" audio mixer stream not allow only sub video, webrtc = "+this.rtcId+", streamId = "+this.stream.id}}),AudioMixerStreamRepeatPublish:i.extend({message:function(){return this.execTime()+" audio mixer stream repeat publish"}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(178)),i=o(n(210));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){this.rtcconfig=void 0,this.rtcConfigUrl=e,this.get_rtcconfig()}s.prototype={get_rtcconfig:function(){var e={url:"https://rs.easemob.com/easemob/rtcconfig.json",async:!1};this.rtcConfigUrl&&(e.url=this.rtcConfigUrl);var t=this,n=void 0;try{$.ajax((0,i.default)({},e,{success:function(e){console.log("get_rtcconfig success"),e&&(0,r.default)(e).length>0&&(t.rtcconfig=e,n=e)},error:function(e){return console.error("DeployMore get error",e),e}}))}catch(e){return}return n},replace_ws:function(e){if(this.rtcconfig&&this.rtcconfig.ws){var t="wss://"+this.rtcconfig.ws+"/";return e.replace(/wss.*com\//,t)}return e},_get_info_from_candifate:function(e){if(!e)return{};var t={};return e=e.split(" "),t.ip=e[4],t.port=e[5],t},_can_replace:function(e,t,n){return!!(e&&t&&n)&&(!!e.src.ip&&(e.src.ip==t&&!(e.src.min_port>n||e.src.max_port<n)))},_replace_candidate:function(e){var t=this._get_info_from_candifate(e),n=t.ip,r=t.port,i=this;return this.rtcconfig.rtc.candidate_map.map(function(t){if(i._can_replace(t,n,r)){var o=t.dst.ip,s=Number(r)-Number(t.src.min_port),a=Number(t.dst.min_port)+Number(s),c=e.split(" ");c[4]=o,c[5]=a,e=c.join(" ")}}),e},replace_candidates:function(e){if(!this.rtcconfig)return e;var t=this;return e=e.map(function(e){return e&&e.candidate?(e.candidate=t._replace_candidate(e.candidate),e):e})},replace_trun_url:function(e){if(this.rtcconfig&&this.rtcconfig.turn){var t=e.iceServers;if(!t)return e;if(t instanceof Array==0)return e;var n=this.rtcconfig.turn;return t=t.map(function(e){e.url&&(e.url="turn:"+n)}),e}return e}},t.default=s},function(e,t,n){t.__esModule=!0;var r,i=n(149),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){var r=o(n(144)),i=o(n(149));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(72),a=s.tagLogger("Me"),c=n(212),u=n(208),d=n(215),l=c.extend({__init__:function(){if(this._session||this.sessionFactory&&(this._session=this.sessionFactory()),!this._session)throw a.error("Require session"),"Require session";this._cver=0,this._cacheMembers={},this._cacheStreams={},this._streamAutomators={},this._mediaMeters={},this._openedRtcMediaStreams={},this._linkedStreams={},this._maybeNotExistStreams={},this._records={},this._ices={},this.audioMixers={},this.closed=!1,this._nextStreamSeqno=0,this.getMediaMeterIntervalMillis=this.getMediaMeterIntervalMillis||emedia.config.getMediaMeterIntervalMillis},getCurrentMembers:function(){var e=[];return s.forEach(this._cacheMembers,function(t,n){var r=s.extend(!0,{},n);e.push(r)}),e},newStream:function(e){var t=this;return new d(e,{__init__:function(){if(this.rtcId||this._webrtc&&(this.rtcId=this._webrtc.getRtcId()),this._webrtc||this.rtcId&&(this._webrtc=t._ices[this.rtcId]),this.__create_id=t._nextStreamSeqno++,this.memId&&!this.owner&&(this.owner=s.extend({},t._cacheMembers[this.memId]),!this.owner&&!this.located()))throw a.error("Remote stream, not owner. it = ",this.id),"Remote stream, not owner. it = "+this.id}})},getConfrId:function(){return this.ticket.confrId},isCaller:function(){return this.isP2P()&&this.ticket.caller==this.ticket.memName},isCallee:function(){return this.isP2P()&&this.ticket.callee==this.ticket.memName},isP2P:function(){return this.ticket&&("P2P"==this.ticket.type||"p2p"==this.ticket.type)},isConfr:function(){return this.ticket&&("CONFR"==this.ticket.type||"confr"==this.ticket.type)},onEvent:function(e){},join:function(e,t){var n=this;emedia.requireTrustBeforeJoin()?n.someBrowsersRequireGetUserMedia(function(){n._join(e,t)},t):n._join(e,t)},_join:function(e,t){a.debug("begin join ...");var n,r=this;if(console.log("Attendee self",r),r._memberId)return a.warn("Had joined. igrone it"),void(e&&e(r.memId));function i(e){try{if(e instanceof u.WSClose&&e.retry)return;e instanceof u.EnterFail||(e=new u.EnterFail({attendee:r,cause:e})),r.onEvent(e),t&&t(e)}finally{}}function o(t){if(0==t.result){r.reflushSupportVCodes(t.vcodes),r.setMemberId(t.memId),r.role=t.role,r.onEvent(new u.EnterSuccess({ip:r.ip})),e&&e(t.memId);try{r.__rtc_cfg=t.rtcCfg,"string"==typeof t.rtcCfg&&(r.__rtc_cfg=JSON.parse(t.rtcCfg))}finally{r.onMembers(t.cver,t.mems),r.onStreams(t.cver,t.streams)}}else try{i(new u.RspFail({request:n,response:t}))}finally{-9527!==t.result&&r.onEvent(new u.ServerRefuseEnter({failed:t.result,msg:t.msg}))}}r.connect(function(){n=r.newMessage().setOp(200).setTicket(r.ticket).setNickName(r.nickName||r.ticket.memName).setResource(r.resource).setExt(r.ext),r.postMessage(n,o)},i),a.debug("join",r.ticket.url)},withpublish:function(e){var t,n=this;if(!e||!e.localStream)throw a.error("pubS null or stream not open"),"pubS null or stream not open";var r,i=e&&e.localStream;return{join:function(o,s){if(1===arguments.length&&(s=o,o=void 0),n._memberId)return a.warn("Had joined. igrone it"),void(o&&o(n.memId));function c(e){try{if(e instanceof u.WSClose&&e.retry)return;e instanceof u.EnterFail||(e=new u.EnterFail({attendee:n,cause:e})),n.onEvent(e),s&&s(e)}finally{emedia.stopTracks(i),r&&n.closeWebrtc(r.getRtcId())}}var d=n.getOptimalVideoCodecs();function l(i){if(0==i.result){n.reflushSupportVCodes(i.vcodes),n.setMemberId(i.memId),n.role=i.role,n.onEvent(new u.EnterSuccess({ip:n.ip}));var s=n.newStream(e);s.updateAttributes({_localMediaStream:e.localStream,rtcId:r.getRtcId(),_webrtc:r,id:i.streamId,csrc:i.csrc,owner:{id:i.memId,nickName:n.nickName,name:n.sysUserId,ext:n.extObj},optimalVideoCodecs:d}),o&&o(i.memId,s),r.useIp=n.ip,n.onEvent(new u.PushSuccess({stream:s,hidden:!0})),i.sdp&&n.ansC(r.getRtcId(),i.sdp),i.cands&&n.tcklC(r.getRtcId(),i.cands);try{n.__rtc_cfg=i.rtcCfg,"string"==typeof i.rtcCfg&&(n.__rtc_cfg=JSON.parse(i.rtcCfg)),n.__rtc_cfg&&n.__rtc_cfg.iceServers&&n.__rtc_cfg.iceServers.length>0&&(a.warn("Server rsp one rtc cfg. publish will republish"),n._service&&setTimeout(function(){n._service._republish(s)},200))}finally{n.onMembers(i.cver,i.mems),n.onStreams(i.cver,i.streams)}}else try{c(new u.RspFail({request:t,response:i}))}finally{-9527!==i.result&&n.onEvent(new u.ServerRefuseEnter({failed:i.result,msg:i.msg}))}}n.connect(function(){a.debug("enter and pubs");var i,o,s=e.localStream;2===e.type&&(i={offerToReceiveAudio:!0,offerToReceiveVideo:!1},o={subSVideo:!1,subSAudio:!0}),r=n.createWebrtc({_rtcId:e.rtcId,optimalVideoCodecs:d,offerOptions:i,subArgs:o,vbitrate:e.vbitrate||e.constaints&&e.constaints.video&&e.constaints.video.bitrate,abitrate:e.abitrate||e.constaints&&e.constaints.audio&&e.constaints.audio.bitrate},e.iceRebuildCount),n.setLocalStream(s,r.getRtcId()),n.doOffer(r.getRtcId(),function(i){t=n.newMessage().setOp(200).setTicket(n.ticket).setNickName(n.nickName||n.ticket.memName).setResource(n.resource).setSdp(i).setRtcId(r.getRtcId()).setPubS(e).setExt(n.ext),n.postMessage(t,l)})},c),a.debug("join",n.ticket.url)}}},push:function(e,t,n,r){a.debug("begin push ...");var i,o=this;if(2===arguments.length&&(n=t,t=void 0),!e||!e.localStream)throw a.error("pubS or stream open"),"pubS or stream open";var s,c=e.localStream;function d(t){try{var i=o.newStream(e);i.updateAttributes({_localMediaStream:e.localStream,_webrtc:s,rtcId:s&&s.getRtcId(),owner:{id:o.getMemberId(),nickName:o.nickName,name:o.sysUserId,ext:o.extObj}});t=new u.PushFail({stream:i,cause:t,hidden:r&&!0===t.hidden});o.onEvent(t),t.hidden||n&&n(t)}finally{c&&!0!==t.hidden&&emedia.stopTracks(c),s&&o.closeWebrtc(s.getRtcId(),!0===t.hidden)}}if(e.rtcId||2!==e.type||emedia.config.allowRepeatAudioMixerPublish||!o._service.hasAudioMixers()){var l=e.optimalVideoCodecs||o.getOptimalVideoCodecs();!function(e){a.debug("pubs");var t,n,r=e.localStream;if(2===e.type&&(t={offerToReceiveAudio:!0,offerToReceiveVideo:!1},n={subSVideo:!1,subSAudio:!0}),s=o.createWebrtc({_rtcId:e.rtcId,optimalVideoCodecs:l,offerOptions:t,subArgs:n,vbitrate:e.vbitrate||e.constaints&&e.constaints.video&&e.constaints.video.bitrate,abitrate:e.abitrate||e.constaints&&e.constaints.audio&&e.constaints.audio.bitrate},e.iceRebuildCount),o.setLocalStream(r,s.getRtcId()),e.constaints&&e.constaints.video){var c=e.constaints.video,u=c.width,d=c.height;if(u&&d){var p={w:u.exact||u.min,h:d.exact||d.min};e.resolution=p}}o.doOffer(s.getRtcId(),function(t){i=o.newMessage().setOp(102).setRtcId(s.getRtcId()).setSdp(t).setPubS(e),o.postMessage(i,function(e){f(s,e)})})}(e),a.debug("push",o.ticket.url)}else d(new u.AudioMixerStreamRepeatPublish);function f(n,r){if(0==r.result){var s=o.newStream(e);s.updateAttributes({_localMediaStream:e.localStream,_webrtc:n,rtcId:n.getRtcId(),id:r.streamId,csrc:r.csrc,owner:{id:o.getMemberId(),nickName:o.nickName,name:o.sysUserId,ext:o.extObj},optimalVideoCodecs:l}),s.id&&2===s.type&&(o.audioMixers[s.id]=s);try{o.onEvent(new u.PushSuccess({stream:s,hidden:!0}))}finally{r.sdp&&o.ansC(n.getRtcId(),r.sdp),r.cands&&o.tcklC(n.getRtcId(),r.cands),t&&t(s)}}else d(new u.RspFail({request:i,response:r,hidden:!0===r.retrying}))}},isSafari:function(){return emedia.isSafari},someBrowsersRequireGetUserMedia:function(e,t){var n=this;if(emedia.youInSomeBrowsers()&&!emedia._yetGetUserMedia){if(!0===n.__tryingOpenMedia)n.__tryingOpenMediaWaitSuceess=n.__tryingOpenMediaWaitSuceess||[],n.__tryingOpenMediaWaitFail=n.__tryingOpenMediaWaitFail||[],"function"==typeof e&&n.__tryingOpenMediaWaitSuceess.push(e),"function"==typeof t&&n.__tryingOpenMediaWaitFail.push(t);else{var r=function(t,r){emedia._yetGetUserMedia=!0,emedia.stopTracks(r),setTimeout(function(){n.__tryingOpenMedia=!1,e&&e.apply(n),n.__tryingOpenMediaWaitSuceess&&s.forEach(n.__tryingOpenMediaWaitSuceess,function(e,t){t.apply(n)}),n.__tryingOpenMediaWaitSuceess=[],n.__tryingOpenMediaWaitFail=[]},300)},i=function(e){n.__tryingOpenMedia=!1,a.error("Some browsers must getUserMedia, gather cands. now try get audio. fail. subfail"),t&&t.call(n,e),n.__tryingOpenMediaWaitFail&&s.forEach(n.__tryingOpenMediaWaitFail,function(t,r){r.call(n,e)}),n.__tryingOpenMediaWaitSuceess=[],n.__tryingOpenMediaWaitFail=[]};n.__tryingOpenMedia=!0,n._service.__getUserMedia({audio:!0},r,function(e){n._service.__getUserMedia({video:!0},r,i)})}return!0}return!1},createWebrtcAndSubscribeStream:function(e,t,n,r){var i=this;t||(t={});var o=i._cacheStreams[e],c=i._cacheMembers[o.memId],d=o;function l(n){a.warn("sub stream error",e,n),_&&d._webrtc&&d._webrtc.setSubArgs(_),_&&d.updateAttributes({subArgs:_}),n=new u.SubFail({stream:d,hidden:!0===n.hidden,cause:n}),t&&t.onEvent&&t.onEvent(n),i.onEvent&&i.onEvent(n)}function f(){d.updateAttributes(d.subArgs)}r=r||d.subArgs||{subSVideo:!0,subSAudio:2!==o.type};var p=o.vcodes||[],h=c&&c.vcodes||[],m=i.supportVCodes,v=i._getOptimalVideoCodecsSubset(p,h,m);r=r||d.subArgs;var _=d.subArgs,g=!(d.vcodes&&d.vcodes.length>0);emedia.isSafari&&(g=g||!!d.voff);var b={offerToReceiveAudio:!0,offerToReceiveVideo:r.subSVideo&&!g};function y(){var o=i.createWebrtc({iceServerConfig:n,optimalVideoCodecs:v,offerOptions:b,onGotMediaStream:function(e){t.onGotRemote&&t.onGotRemote(d)}},d.iceRebuildCount),u=o.getRtcId();a.warn(u," sub stream ",e,v),d.updateAttributes({_webrtc:o,rtcId:u,owner:s.extend({},c)}),r&&d._webrtc&&d._webrtc.setSubArgs(r),r&&d.updateAttributes({subArgs:r})}b.offerToReceiveAudio||b.offerToReceiveVideo||a.warn("offerToReceiveAudio == false and offerToReceiveVideo == false"),i.someBrowsersRequireGetUserMedia(function(){y(),i.offerCall(d.rtcId,null,e,l,f)},function(t){a.error("Some browsers must getUserMedia, gather cands. now try get audio. fail. subfail",e),l(t)})||(y(),i.offerCall(d.rtcId,null,e,l,f))},_getOptimalVideoCodecsSubset:function(e,t,n){var r=this,i=[];if(e&&e.length>0&&n[e[0]]&&i.push(e[0]),0==i.length)for(var o=0;o<r._orderVCodes.length;o++)s.forEach(t,function(e,t){t==r._orderVCodes[o]&&i.push(t)});return i},subscribeStream:function(e,t,n,r,i){var o=this,a=o._ices[e],c=o._cacheStreams[t],d=o._cacheMembers[c.memId],l=c;l.updateAttributes({_webrtc:a,rtcId:e,owner:s.extend({},d)});var f=l.subArgs;if(r=r||{subSVideo:!0,subSAudio:!0},l.updateAttributes({subArgs:l.subArgs||{subSVideo:!0,subSAudio:!0}}),l._webrtc&&l._webrtc.setSubArgs(l._webrtc.subArgs||{subSVideo:!0,subSAudio:!0}),!l.subArgs.subSVideo&&r.subSVideo&&!l.voff){var p=c.vcodes,h=d.vcodes,m=o.supportVCodes;o._getOptimalVideoCodecsSubset(p,h,m)}r&&l._webrtc&&l._webrtc.setSubArgs(r),r&&l.updateAttributes({subArgs:r});var v=o.newMessage().setOp(205).setRtcId(e).setSubSId(t);r&&s.extend(v,r),o.postMessage(v,function(e){if(0!=e.result){f&&l._webrtc&&l._webrtc.setSubArgs(f),f&&l.updateAttributes({subArgs:f});var t=new u.SubFail({stream:l,cause:new u.RspFail({request:v,response:e})});return n&&n(t),void o.onEvent(t)}l.updateAttributes(l.subArgs);t=new u.SubSuccess({stream:l,hidden:!0});o._updateRemoteStream(l,l._webrtc.getRemoteStream()),o.onEvent(t),"function"==typeof i&&i()})},unsubscribeStream:function(e){var t=this._cacheStreams[e],n=t._webrtc&&t._webrtc.getRtcId();if(n){try{var r=this.newMessage().setOp(206).setRtcId(n).setSubSId(e);this.postMessage(r)}finally{this.closeWebrtc(n)}return n}},onEnter:function(e,t){var n=this;if(e&&(n._cver=e),t&&!n._cacheMembers[t.id]){n._cacheMembers[t.id]=t;var r={};t.res&&t.res.vcodes&&t.res.vcodes.length>0&&s.forEach(t.res.vcodes,function(e,t){r[t]||(r[t]=!0,n.supportVCodes[t]&&n.supportVCodes[t]++)}),n.onAddMember(s.extend({},t))}},_onFinally:function(){this._cacheMembers={},this._cacheStreams={},this._linkedStreams={},this._ices={},this._maybeNotExistStreams={};var e=[];if(s.forEach(this._openedRtcMediaStreams,function(t,n){!1!==n.active&&e.push(n)}),e.length>0)for(var t=0;t<e.length;t++)try{var n=e[t];a.info("exit, close stream = ",n.id),emedia.stopTracks(n)}catch(e){a.error(e)}a.warn("finally. all clean.")},_onRoleUpdate:function(e,t){a.info("Role ",e," <-",this.role),a.info(t),this.role=e,this.roleToken=t,this.onRoleUpdate&&this.onRoleUpdate(e,t)},onExit:function(e,t,n){var r=this;if(e&&(r._cver=e),t!=r.getMemberId()){var i=r._cacheMembers[t];i&&(i.res&&i.res.vcodes&&i.res.vcodes.length>0&&s.forEach(i.res.vcodes,function(e,t){r.supportVCodes[t]--}),r._onRemoveMember(i,n),r.onEvent(new u.Hangup({reason:n,parnter:i})))}else{a.warn("Me exit. ",n,t);try{r.closed||r.close(n)}catch(e){r.onEvent(new u.Hangup({reason:n,self:{id:r._memberId}})),r.onMeExit&&r.onMeExit(n),a.warn(e)}}},onPub:function(e,t,n){if(!this._cacheMembers[t])throw a.error("No found member. when pub"),"No found member. when pub";var r=this.newStream(n),i=this._cacheStreams[n.id];if(e&&(this._cver=e),i&&r.sver!==i.sver)return a.info("Onpub. the steam ",i.id," republish. sver ",i.sver,r.sver),!r||r.aoff===i.aoff&&r.voff==i.voff||this.onStreamControl(void 0,n.id,r.voff,r.aoff),s.extend(i,r),void this._onRepublishStream(i);var o=r;return o.updateAttributes({owner:this._cacheMembers[t]}),this._cacheStreams[n.id]=o,this._onAddStream(this.newStream(o)),this.autoSub&&this.createWebrtcAndSubscribeStream(n.id,{onGotRemote:function(e){}}),o},onUnpub:function(e,t,n){var r=this._cacheStreams[n];this._onRemovePubstream(this._cacheMembers[t],r),e&&(this._cver=e)},onClose:function(e,t,n){try{this.close(n||0)}finally{this.onConfrClose&&this.onConfrClose(t,n)}},__getWebrtcFor:function(e){var t=this._cacheStreams[e]&&this._cacheStreams[e]._webrtc;return t&&t.getRtcId()},_getWebrtc:function(e){return this._cacheStreams[e]&&this._cacheStreams[e]._webrtc},_updateRemoteStream:function(e,t){e.located()&&2===e.type?emedia.enableAudioTracks(t,!0):emedia.enableAudioTracks(t,!(e.aoff||e.subArgs&&!1===e.subArgs.subSAudio)),emedia.enableVideoTracks(t,!(e.voff||e.subArgs&&!1===e.subArgs.subSVideo))},onStreamControl:function(e,t,n,r,o){var s=this,c=s._cacheStreams[t];c.updateAttributes({voff:n,aoff:r});var u=c._webrtc;u&&u._remoteStream&&s._updateRemoteStream(c,u._remoteStream);var d=s.newStream(c);s.onUpdateStream&&s.onUpdateStream(d,new d.Update({voff:n,aoff:r})),e&&(s._cver=e),o&&c.updateAttributes({sver:o}),emedia.isSafari&&!n&&u&&!u.closed&&u.offerOptions&&!u.offerOptions.offerToReceiveVideo&&(a.warn("stream video turn on. but sub not video, will close it, repsub stream",u.getRtcId(),u.__id,t),s.closeWebrtc(u.getRtcId(),!0,!1),s.createWebrtcAndSubscribeStream(t,{onGotRemote:function(e){var t=(0,i.default)(s._service.__safari_subs,{});t&&t instanceof Array&&t.map(function(n,r){n.streamId==e.id&&t.splice(r,1)}),s._service.__safari_subs=t},onEvent:function(e){var t=(0,i.default)(s._service.__safari_subs,{});t&&t instanceof Array&&t.map(function(e,n){e.streamId==c.id&&t.splice(n,1)}),s._service.__safari_subs=t}},void 0,c.subArgs))},aoff:function(e,t,n){var r=this.__getWebrtcFor(e.id);if(!r)throw a.error("pubS not publish",e.id),"pubS not publish"+e.id;this._linkedStreams[e.id].updateAttributes({aoff:t}),e.updateAttributes({aoff:t});var i=this.newMessage().setOp(400).setRtcId(r).setVoff(e.voff).setAoff(t);this.postMessage(i,n),this.onUpdateStream&&this.onUpdateStream(e,new e.Update({aoff:t}))},voff:function(e,t,n){var r=this.__getWebrtcFor(e.id);if(!r)throw a.error("pubS not publish",e.id),"pubS not publish"+e.id;this._linkedStreams[e.id].updateAttributes({voff:t}),e.updateAttributes({voff:t});var i=this.newMessage().setOp(400).setRtcId(r).setVoff(t).setAoff(e.aoff);this.postMessage(i,n),this.onUpdateStream&&this.onUpdateStream(e,new e.Update({voff:t}))},startRecord:function(e,t){var n=this,r=e.rtcId,i=n.newMessage().setOp(500).setRtcId(r).setFlag(1);n.postMessage(i,function(i){a.warn("record ",r,i.result,i.msg),t&&t(0===i.result),0===i.result&&(n._records[e.id]=s.extend(!1,{},e))})},stopRecord:function(e,t){var n=e.rtcId,r=this.newMessage().setOp(500).setRtcId(n).setFlag(0);this.postMessage(r,function(e){a.warn("stop record ",n,e.result,e.msg),t&&t(0===e.result)}),this._records[e.id]&&s.removeAttribute(this._records,e.id)},onMembers:function(e,t){var n=this,r=[];s.forEach(n._cacheMembers,function(e,n){t[e]||r.push(n)}),s.forEach(r,function(e,t){n.onExit(void 0,t.id)});var i=[];s.forEach(t,function(e,t){(t.name&&t.name!=n.memName||!t.name&&e!=n.getMemberId())&&(n._cacheMembers[e]||i.push(t),n._cacheMembers[e]&&s.extend(n._cacheMembers[e],t))}),s.forEach(i,function(e,t){n.onEnter(void 0,t)}),e&&(n._cver=e)},onStreams:function(e,t){var n=this,r=[];s.forEach(n._cacheStreams,function(e,n){n.located()||t[e]||r.push(n)}),s.forEach(r,function(e,t){n.onUnpub(void 0,t.memId,t.id)});var i=[];s.forEach(t,function(e,t){(t.memName&&t.memName!=n.memName||!t.memName&&t.memId!=n.getMemberId())&&(n._cacheStreams[e]||i.push(t),n._cacheStreams[e]&&s.extend(n._cacheStreams[e],t))}),s.forEach(i,function(e,t){n.onPub(void 0,t.memId,t)}),s.forEach(n._cacheStreams,function(e,r){var i;r.located()||(i=t[e]),!i||i.aoff===r.aoff&&i.voff==r.voff||n.onStreamControl(void 0,e,i.voff,i.aoff),i&&i.sver!==r.sver&&(s.extend(r,i),n._onRepublishStream(r))}),e&&(n._cver=e)},_onRemoveMember:function(e,t){var n=this;a.info("remove",e,t);var r=[];s.forEach(n._cacheStreams,function(t,n){(n.memId||n.owner&&n.owner.id)===e.id&&r.push(n)}),s.forEach(r,function(e,r){n._onRemovePubstream(r.owner,r,t)}),s.removeAttribute(n._cacheMembers,e.id),n.onRemoveMember&&n.onRemoveMember(e,t)},_onAddStream:function(e){a.info("add stream ",e.id),a.debug("add stream ",e);this.onAddStream(e)},_onRemovePubstream:function(e,t,n){var r=this;if(t&&0!=t.id)try{var i=s.removeAttribute(r._mediaMeters,t.id);i&&i._finally()}finally{!function(e){2===e.type&&(s.removeAttribute(r.audioMixers,e.id),e.remotePlayAudioObject&&document.body.removeChild(e.remotePlayAudioObject)),n||(n="Unpub"),e&&!e.closeReason&&e.updateAttributes({closeReason:n}),r.unsubscribeStream(e.id),s.removeAttribute(r._cacheStreams,e.id),r._streamAutomators&&s.removeAttribute(r._streamAutomators,e.id),r._monitSoundChanagedStreams&&s.removeAttribute(r._monitSoundChanagedStreams,e.id),r.onRemoveStream&&(e=r.newStream(e),r.onRemoveStream(e))}(t)}},_onRepublishStream:function(e){if(!this._ices[e.rtcId]&&!emedia.subscribed(e)||this._maybeNotExistStreams[e.id])this.onUpdateStream(e);else{this.unsubscribeStream(e.id);this.createWebrtcAndSubscribeStream(e.id,{onGotRemote:function(e){}})}},_onRecvRemoteMessage:function(e,t,n){a.debug("Recv remote message",e,t);var r,i=this._cacheMembers[e];try{r=JSON.parse(t)}catch(e){}this.onRecvRemoteMessage&&this.onRecvRemoteMessage(i||e,r||t,n)},_onSoundChanage:function(e,t,n){emedia.config._printSoundData&&a.info("Stream id "+t.id+", meter "+(n&&n.instant.toFixed(2)+" "+n.slow.toFixed(2)+" "+n.clip.toFixed(2)+" "+(n.trackAudioLevel||"--")+" "+(n.trackTotalAudioEnergy||"--"))),n||(n={instant:0,slow:0,clip:0}),emedia.config.logVolumeWhenInstantGE&&emedia.config.logVolumeWhenInstantGE>0&&n.instant>=emedia.config.logVolumeWhenInstantGE&&n.instant<3*emedia.config.logVolumeWhenInstantGE&&a.info("Stream id "+t.id+", webrtc = "+(t._webrtc?t._webrtc.getRtcId():"null")+", media streamId = "+(t.getMediaStream()?t.getMediaStream().id:"null")+", instant >= "+emedia.config.logVolumeWhenInstantGE+", meter instant="+n.instant+", slow="+n.slow+", clip="+n.clip);0===n.instant&&(n.instant=n.trackAudioLevel||n.trackTotalAudioEnergy||0),this.onSoundChanage(e,t,n),this._service._judgeTalking(n)&&this.onTalking(e,t,n)},onAddMember:function(e){},onRemoveMember:function(e,t){},onAddStream:function(e){},onRemoveStream:function(e){},onUpdateStream:function(e,t){},onRecvRemoteMessage:function(e,t){},onSoundChanage:function(e,t,n){},onTalking:function(e,t,n){},_sendRequestMessage:function(e){if(e){var t=this,n=function(){var e="";for(var n in t._cacheMembers){var r=t._cacheMembers[n];if(r.role==emedia.mgr.Role.ADMIN){e=r.id;break}}return e}();if(n){var o=this._memberId,s=this.memName,a=this.nickName,c=this.newMessage(),u={op:1002,memId:n,arg:(0,r.default)({op2:e,memId:o,memName:s,nickName:a||s}),tsxTime:(new Date).getTime(),_reqOps:["1002"+e]};(0,i.default)(c,u),this.postMessage(c)}else console.warn("this confrence have not admin")}},requestToTalker:function(){this._sendRequestMessage(21)},_send_action_request_message:function(e,t,n){if(t&&e&&void 0!==n){var o=t.tsxId,s=t.arg.memId,a=this.newMessage(),c={op:1001,arg:(0,r.default)({op2:e,memId:s}),memId:s,result:n,tsxId:o,_reqOps:["1002"+e]};(0,i.default)(a,c),this.postMessage(a)}},refuseRequestToTalker:function(e){this._send_action_request_message(21,e,1)},refuseRequestToAdmin:function(e){this._send_action_request_message(22,e,1)},requestToAdmin:function(){this._sendRequestMessage(22)},_sendControlAudioMessage:function(e,t){if(e&&t){var n=this.newMessage(),o={op:1002,memId:e,arg:(0,r.default)({op2:t,memId:e}),tsxTime:(new Date).getTime(),_reqOps:[100223,100224]};(0,i.default)(n,o),this.postMessage(n)}},muteBymemberId:function(e){this._sendControlAudioMessage(e,23)},unmuteBymemberId:function(e){this._sendControlAudioMessage(e,24)}});e.exports=l},function(e,t,n){var r=n(72),i=r.tagLogger("Member"),o=n(208),s=n(213);e.exports=r.prototypeExtend({__init__:function(){if(!this._session)throw i.error("Require session"),"Require session";this.closed=!1,this._ices={},this.supportVCodes={},this.audioMixers={}},reflushSupportVCodes:function(e){var t=this;t.supportVCodes={},t._orderVCodes=e,e&&0!=e.length?r.forEach(e,function(e,n){t.supportVCodes[n]=1}):i.warn("Not config support vcodes")},getOptimalVideoCodecs:function(){if(!this._orderVCodes||0==this._orderVCodes.length)return/Chrome/.test(navigator.userAgent)?"VP8":/Safari/.test(navigator.userAgent)&&/Version\/11/.test(navigator.userAgent)?"H264":"VP8";var e=0;r.forEach(this._cacheMembers,function(){e++});for(var t,n=0,i=0;i<this._orderVCodes.length;i++){var o=this._orderVCodes[i];if(0==n&&(n=this.supportVCodes[o]),this.supportVCodes[o]>e)return o;this.supportVCodes[o]>n&&(n=this.supportVCodes[o],t=o)}return t||this._orderVCodes&&this._orderVCodes.length>0&&this._orderVCodes[0]},setMemberId:function(e){this._memberId=e},getMemberId:function(){return this._memberId||this.id},createWebrtc:function(e,t){var n=this;e||(e={}),r.extend(e,{_rebuildCount:t||0}),!0===n._service.useRTCCfg&&n.__rtc_cfg?e.iceServerConfig=r.extend(!0,{},n.__rtc_cfg):r.isPlainObject(n._service.useRTCCfg)&&(e.iceServerConfig=r.extend(!0,{},n._service.useRTCCfg));var a=new s({confrAttendee:n,useIp:n.ip,onIceStateChange:function(e){var t=e;i.debug("evt.target ice state",t);try{if("failed"==t)return n.onEvent(new o.ICEConnectFail({webrtc:a})),void(a.onEvent&&a.onEvent(new o.ICEConnectFail({webrtc:a})));if("connected"==t)return n.onEvent(new o.ICEConnected({webrtc:a})),void(a.onEvent=null);if("closed"==t)return n.onEvent(new o.ICEClosed({webrtc:a})),void(a.onEvent&&a.onEvent(new o.ICEClosed({webrtc:a})));if("disconnected"==t)return n.onEvent(new o.ICEDisconnected({webrtc:a})),void(a.onEvent&&a.onEvent(new o.ICEDisconnected({webrtc:a})))}finally{n._onIceStateChange&&n._onIceStateChange(a,e)}},onIceCandidate:function(e){n._onIceCandidate&&e&&n._onIceCandidate(a,e)},onGotRemoteStream:function(e){i.info("got stream.",a._rtcId,a.__id,e),a.onGotMediaStream&&a.onGotMediaStream(e),n.onEvent(new o.ICERemoteMediaStream({webrtc:a}))},onAddIceCandidateError:function(e){n.onEvent(new o.AddIceCandError({webrtc:a,event:e}))},onSetSessionDescriptionError:function(e){i.warn("onSetSessionDescriptionError : Failed to set session description: "+e.toString()),n.onEvent&&n.onEvent(new o.ICEConnectFail({webrtc:a,event:e}))},onCreateSessionDescriptionError:function(e){i.warn("Failed to create session description: "+e.toString()),n.onEvent&&n.onEvent(new o.ICEConnectFail({webrtc:a,event:e}))}},e);return n._ices||(n._ices={}),n._ices[a.getRtcId()]&&n._howDoWebrtcWhenCrtExsitsWebrtc(a),n._ices[a.getRtcId()]=a,n._ices[a.__id]=a,n._iceCreateRtcPeerConnection(a.getRtcId()),i.debug("create rtc ",a),a},_howDoWebrtcWhenCrtExsitsWebrtc:function(e){this.closeWebrtc(e.getRtcId(),!0,!1)},connect:function(e,t){this._session.connect(e,t)},connected:function(){return this._session.connected()},newMessage:function(e){var t=this,n=t._session.newMessage(e);return n.post=function(e,n){t.postMessage(this,e,n)},n},message:function(e){var t=this,n=t._session.newMessage(e);return n.post=function(e,n){t.postMessage(this,e,n)},n},postMessage:function(e,t,n){try{e.sessId||(e.sessId=this._session._sessionId),this._session.postMessage(e,t,n)}catch(n){t&&t({op:1001,tsxId:e.tsxId,result:-9527,msg:"post message. exception"}),i.warn(n)}},onEvent:function(e){},_onIceStateChange:function(e,t){i.info(e.getRtcId(),t),this.onEvent(new o.ICEChanage({webrtc:e,state:t}))},_onIceCandidate:function(e,t){var n,i=this;r.isArray(t)?n=t:(n=[]).push(t);var s=i.newMessage().setOp(105).setRtcId(e.getRtcId()).setCands(n);i.postMessage(s,function(e){0==e.result||i.onEvent(new o.RspFail({request:s,response:e}))})},_initC:function(e,t,n,s,a,c){var u=this;if(t&&t.rtcId!==e.getRtcId())throw i.error("stream and webrtc rtcId not equal."),"stream and webrtc rtcId not equal.";var d=u.newMessage().setOp(102).setRtcId(e.getRtcId()).setSdp(n).setSubSId(s);e.subArgs&&r.extend(d,e.subArgs),t&&t.located()&&d.setPubS(t),u.postMessage(d,function(n){if(0!=n.result)return u.onEvent(new o.RspFail({request:d,response:n})),void(a&&a(new o.RspFail({request:d,response:n,hidden:!0===n.retrying})));t&&!t.id&&n.streamId&&t.updateAttributes({id:n.streamId});try{c&&c()}catch(e){i.warn(e)}n.sdp&&u.ansC(e.getRtcId(),n.sdp,n.cands),n.mems&&u.onMembers&&u.onMembers(n.cver,n.mems),n.streams&&u.onStreams&&u.onStreams(n.cver,n.streams)})},_acptC:function(e,t,n){var r=this,i=r.newMessage().setOp(104).setRtcId(e.getRtcId()).setSdp(t);r.postMessage(i,function(e){if(0!=e.result)return r.onEvent(new o.RspFail({request:i,response:e})),void(n&&n(new o.RspFail({request:i,response:e})))})},_ansCAndPubstream:function(e,t,n,s,a){var c=this,u=c.newMessage().setOp(106).setRtcId(e.getRtcId()).setSdp(n);e.subArgs&&r.extend(u,e.subArgs),t&&t.located()&&(t=r.extend({},t),r.removeAttribute(t,"mutedMuted"),r.removeAttribute(t,"_located"),u.setPubS(t)),c.postMessage(u,function(e){if(0!=e.result)return c.onEvent(new o.RspFail({request:u,response:e})),void(s&&s(new o.RspFail({request:u,response:e,hidden:!0===e.retrying})));t&&!t.id&&e.streamId&&t.updateAttributes({id:e.streamId});try{a&&a()}catch(e){i.warn(e)}})},_ansC:function(e,t,n){var r=this,i=r.newMessage().setOp(106).setRtcId(e.getRtcId()).setSdp(t);r.postMessage(i,function(e){if(0!=e.result)return r.onEvent(new o.RspFail({request:i,response:e})),void(n&&n(new o.RspFail({request:i,response:e})))})},_termC:function(e,t,n){var r=this,i="string"==typeof e?e:e.getRtcId(),s=r.newMessage().setOp(107).setRtcId(i).setEndReason(t);r.postMessage(s,function(e){if(0!=e.result)return r.onEvent(new o.RspFail({request:s,response:e})),void(n&&n(new o.RspFail({request:s,response:e})))})},_iceCreateRtcPeerConnection:function(e){this._ices[e].createRtcPeerConnection(),i.debug("create rtc peer connection",e)},doOffer:function(e,t,n){this._ices[e].createOffer(function(e){t(e)})},offerCall:function(e,t,n,r,i){var o=this,s=o._ices[e];s.createOffer(function(e){o._initC&&o._initC(s,t,e,n,r,i)})},accept:function(e,t){var n=this,r=n._ices[e];r.createPRAnswer(function(e){n._acptC&&n._acptC(r,e,t)})},answerCall:function(e,t,n,r){var i=this,o=i._ices[e];o.createAnswer(function(e){i._ansCAndPubstream&&i._ansCAndPubstream(o,t,e,n,r)})},answer:function(e,t){var n=this,r=n._ices[e];r.createAnswer(function(e){n._ansC&&n._ansC(r,e,t)})},onTcklC:function(e,t){this._addIceCandidate(t,e)},onAcptC:function(e,t,n){this._iceSetRemoteSDP(t,e),n&&this._addIceCandidate(n,e)},onAnsC:function(e,t,n){this._iceSetRemoteSDP(t,e),n&&this._addIceCandidate(n,e)},_addIceCandidate:function(e,t){if(e&&0!=e.length){var n=this._ices[t];n&&n.addIceCandidate(e)}else i.warn("drop cands",e)},closeWebrtc:function(e,t,n){var o=this,s=o._ices[e];if(r.forEach(o._cacheStreams,function(t,n){if(n.rtcId===e&&!n.located())try{var s=r.removeAttribute(o._mediaMeters,t);s&&s._finally()}catch(e){i.warn(e)}n.rtcId===e&&2===n.type&&r.removeAttribute(o.audioMixers,n.id)}),!s||s.closed)return i.warn("Webrtc not exsits or closed",s&&s.closed),n&&s&&r.forEach(o._cacheStreams,function(t,n){n.rtcId===e&&(r.removeAttribute(o._linkedStreams,t),i.warn("Webrtc close, remvoe from _linkedStreams",t))}),void(n||o._termC(e,0));if(o._records){r.forEach(o._records,function(t,n){n.rtcId===e&&function(e){try{o.stopRecord(e)}catch(e){i.warn(e)}finally{r.removeAttribute(o._records,e.id)}}(n)})}try{n||s&&o._termC(s,t&&s._localStream?-10:0)}finally{s&&s.close(t),s&&o.onWebrtcTermC&&o.onWebrtcTermC(s),t||s&&r.forEach(o._cacheStreams,function(t,s){s.rtcId===e&&(s.located()&&(emedia.stopTracks(s._localMediaStream),s&&!s.closeReason&&s.updateAttributes({closeReason:"WebrtcClose"}),o._cacheStreams[t]&&o._linkedStreams[t]&&o.onRemoveStream(s),r.removeAttribute(o._cacheStreams,t),o._streamAutomators&&r.removeAttribute(o._streamAutomators,t),o._monitSoundChanagedStreams&&r.removeAttribute(o._monitSoundChanagedStreams,t),i.info("Webrtc close. Remove stream",t,". from cache")),n&&(r.removeAttribute(o._linkedStreams,t),i.info("Webrtc close. Remove stream",t,". from _linkedStreams")))})}return s},__close:function(e){i.warn("closing, reason = ",e);if(!this.closed){if(this.closed=!0,this.__getCopyInterval&&(clearInterval(this.__getCopyInterval),i.warn("Stop interval get copy")),this._ices)for(var t in this._ices)this.closeWebrtc(t,!1);var n=this.newMessage().setOp(201).setReason(e||0);this.postMessage(n)}},exit:function(e){var t=this;e?(e&&t._closeMyConfr(11),setTimeout(function(){t.close(0)},100)):t.close(0)},_closeMyConfr:function(e){var t=this.newMessage().setOp(204).setReason(e||0);this.postMessage(t,function(e){i.warn("Close confr ",e.result,e.msg)})},close:function(e,t){var n=this;if(!n.closed)try{r.forEach(n._cacheStreams||{},function(e,t){t.located()&&t._localMediaStream&&emedia.stopTracks(t._localMediaStream)}),n.__close(e),r.forEach(n._cacheStreams,function(e,t){n.onRemoveStream(t)}),r.forEach(n._cacheMembers,function(e,t){})}finally{try{setTimeout(function(){n._session&&n._session.close(e)},500),n.onEvent(new o.Hangup({reason:e,failed:t,self:{id:n._memberId}})),n.onMeExit&&n.onMeExit(e,t)}catch(e){i.error(e)}finally{n._onFinally&&n._onFinally()}}},webrtcState:function(e){return this._ices[e].iceConnectionState()},_iceSetRemoteSDP:function(e,t){var n=this._ices[t];n&&n.setRemoteDescription(e)},setLocalStream:function(e,t){this._ices[t].setLocalStream(e)},onWebrtcTermC:function(e){}})},function(e,t,n){var r=o(n(144)),i=o(n(178));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(72),a=s.tagLogger("Webrtc"),c=n(214),u=n(209).default,d={headerSection:null,audioSection:null,videoSection:null,_parseHeaderSection:function(e,t,n){var r=t;return-1===n||(r=-1===t?n:Math.min(t,n)),r>=0?e.slice(0,r):e},_parseAudioSection:function(e,t,n){var r=t;if(r>=0)return e.slice(r,n<r?e.length:n)},_parseVideoSection:function(e,t,n){var r=n;if(r>=0)return e.slice(r,t<r?e.length:t)},spiltSection:function(e){this._preSDP=e;var t=this._preAudioIndex=e.indexOf("m=audio"),n=this._preVideoIndex=e.indexOf("m=video");this.headerSection=this._parseHeaderSection(e,t,n),this.audioSection=this._parseAudioSection(e,t,n),this.videoSection=this._parseVideoSection(e,t,n)},setVideoBitrate:function(e){e&&this.videoSection&&(this.videoSection=this.setBitrate(this.videoSection,e))},setVideoMinBitrate:function(e){this.setAllFmtpBitrate({"x-google-min-bitrate":e})},setVideoMaxBitrate:function(e){this.setAllFmtpBitrate({"x-google-max-bitrate":e})},setVideoStartBitrate:function(e){this.setAllFmtpBitrate({"x-google-start-bitrate":e})},setAllFmtpBitrate:function(e){if(this.videoSection){var t={};(0,i.default)(e).forEach(function(n){var r=n+"="+e[n],i=new RegExp("(a=fmtp\\:\\d+\\s\\S*;?)("+n+"=\\d+)(;?\\S*)","g");t[n]={field:r,regex:i}}),this.videoSection=this.videoSection.replace(/(a=fmtp\:\d+[^\r\n]+)([\r\n]+)/g,function(e,n,r){return n.indexOf("apt=")>=0?e:((0,i.default)(t).forEach(function(e){var r=t[e],i=r.regex,o=r.field,s=n.replace(i,function(e,t,n,r){return t+o+r});s.indexOf(e)<0?(s.endsWith(";")||(s+=";"),n=s+o):n=s}),n+r)})}},setFmtpBitrate:function(e,t){if(t&&this.videoSection){var n=e+"="+t,r=new RegExp("(a=fmtp\\:\\d+\\s\\S*;?)("+e+"=\\d+)(;?\\S*)","g");this.videoSection=this.videoSection.replace(/(a=fmtp\:\d+[^\r\n]+)([\r\n]+)/g,function(t,i,o){var s=i.replace(r,function(e,t,r,i){return t+n+i});return s.indexOf(e)<0&&(s.endsWith(";")||(s+=";"),s+=n),s+o})}},setAudioBitrate:function(e){e&&this.audioSection&&(this.audioSection=this.setBitrate(this.audioSection,e))},setBitrate0:function(e,t){return(e=e.replace(/(b=)(?:AS|TIAS)(\:)\d+/g,"$1AS$2"+t)).indexOf("b=AS")<0&&(e=e.replace(/(m=(?:audio|video)[^\r\n]+)([\r\n]+)/g,"$1$2b=AS:"+t+"$2")),e},setBitrate:function(e,t){var n="AS";return emedia.isFirefox&&(t=1e3*(t>>>0),n="TIAS"),(e=e.replace(/(b=)(?:AS|TIAS)(\:)\d+/g,"$1"+n+"$2"+t)).indexOf("b="+n+":")<0&&(e=e.indexOf("c=IN ")<0?e.replace(/(m=(?:audio|video)[^\r\n]+)([\r\n]+)/g,"$1$2b="+n+":"+t+"$2"):e.replace(/c=IN ([^\r\n]+)([\r\n]+)/,"c=IN $1$2b="+n+":"+t+"$2")),e},updateVideoSection:function(e,t){this.videoSection&&(this.videoSection=this.videoSection.replace(e,t))},updateAudioSection:function(e,t){this.audioSection&&(this.audioSection=this.audioSection.replace(e,t))},updateVideoSendonly:function(){this.videoSection&&(this.videoSection=this.videoSection.replace(/sendrecv/g,"sendonly"))},updateVideoRecvonly:function(){this.videoSection&&(this.videoSection=this.videoSection.replace(/sendrecv/g,"recvonly"))},updateAudioSendonly:function(){this.audioSection&&(this.audioSection=this.audioSection.replace(/sendrecv/g,"sendonly"))},updateAudioRecvonly:function(){this.audioSection&&(this.audioSection=this.audioSection.replace(/sendrecv/g,"recvonly"))},updateACodes:function(e){if(e&&this.audioSection){if("string"==typeof e)(n=[]).push(e),e=n;for(var t={},n=this._parseLine(this.audioSection,/a=rtpmap:(\d+) ([A-Za-z0-9]+)\/.*/gi),r=0;r<n.length;r++){var i=n[++r];t[n[++r]]=i}var o=[];for(r=0;r<e.length;r++){var c=t[e[r]];c&&o.push(c)}0==o.length&&(this._webrtc?a.warn("Not found acodes map",e,this._webrtc._rtcId,this._webrtc.__id):a.warn("Not found acodes map",e));var u=this.audioSection.indexOf("\r"),d=this.audioSection.substring(0,u),l=d.split(" ");Array.prototype.push.apply(o,l.slice(3));var f=[],p={};s.forEach(o,function(e,t){0==f.length?(f.push(t),p[t]=!0):p[t]||(f.push(t),p[t]=!0)}),l.splice(3,l.length-3,f.join(" ")),d=l.join(" "),this._webrtc&&a.warn(d,this._webrtc._rtcId,this._webrtc.__id),this.audioSection=d+this.audioSection.substring(u)}},updateVCodes:function(e){if(e&&this.videoSection){if("string"==typeof e)(n=[]).push(e),e=n;for(var t={},n=this._parseLine(this.videoSection,/a=rtpmap:(\d+) ([A-Za-z0-9]+)\/.*/gi),r=0;r<n.length;r++){var i=n[++r];t[n[++r]]=i}var o=this._parseLine(this.videoSection,/a=fmtp:(\d+) .*profile-level-id=42e01f;?.*/gi);o&&o.length>=2&&(t.H264=o[1]);var c=[];for(r=0;r<e.length;r++){var u=t[e[r]];u&&c.push(u)}0==c.length&&(this._webrtc?a.warn("Not found vcodes map",e,this._webrtc._rtcId,this._webrtc.__id):a.warn("Not found vcodes map",e));var d=this.videoSection.indexOf("\r"),l=this.videoSection.substring(0,d),f=l.split(" ");Array.prototype.push.apply(c,f.slice(3));var p=[],h={};s.forEach(c,function(e,t){0==p.length?(p.push(t),h[t]=!0):h[t]||(p.push(t),h[t]=!0)}),f.splice(3,f.length-3,p.join(" ")),l=f.join(" "),this._webrtc&&a.warn(l,this._webrtc._rtcId,this._webrtc.__id),this.videoSection=l+this.videoSection.substring(d)}},removeSSRC:function(e){for(var t=[],n=e.split(/a=ssrc:[^\n]+/g),r=0;r<n.length;r++)"\n"!=n[r]&&t.push(n[r]);return t.join("\n")},removeField_msid:function(e){for(var t=[],n=e.split(/a=msid:[^\n]+/g),r=0;r<n.length;r++)"\n"!=n[r]&&t.push(n[r]);e=t.join("\n"),t=[],n=e.split(/[\n]+/g);for(r=0;r<n.length;r++)"\n"!=n[r]&&t.push(n[r]);return t.join("\n")},updateHeaderMsidSemantic:function(e){var t="a=msid-semantic: WMS "+e,n=this.headerSection.split(/a=msid\-semantic: WMS.*/g),r=[];switch(n.length){case 1:r.push(n[0]);break;case 2:r.push(n[0]),r.push(t),r.push("\n");break;case 3:r.push(n[0]),r.push(t),r.push("\n"),r.push(n[2]),r.push("\n")}return this.headerSection=r.join("")},updateAudioSSRCSection:function(e,t,n,r){this.audioSection&&(this.audioSection=this.removeSSRC(this.audioSection)),this.audioSection&&(this.audioSection=this.removeField_msid(this.audioSection)),this.audioSection&&(this.audioSection=this.audioSection+this.ssrcSection(e,t,n,r))},updateVideoSSRCSection:function(e,t,n,r){this.videoSection&&(this.videoSection=this.removeSSRC(this.videoSection)),this.videoSection&&(this.videoSection=this.removeField_msid(this.videoSection)),this.videoSection&&(this.videoSection=this.videoSection+this.ssrcSection(e,t,n,r))},getUpdatedSDP:function(e){var t,n,r;if(void 0!==e&&null!=e||(e=this._preAudioIndex<this._preVideoIndex),this.videoSection&&this.videoSection.replace(/a=mid:([^\r\n]+)/,function(e,n){return t=n,e}),this.audioSection&&this.audioSection.replace(/a=mid:([^\r\n]+)/,function(e,t){return n=t,e}),e){var i=["a=group:BUNDLE"];this.audioSection&&i.push(n),this.videoSection&&i.push(t),r=this.headerSection.replace(/a=group:BUNDLE [^\r\n]+/,i.join(" ")),this.audioSection&&(r+=this.audioSection),this.videoSection&&(r+=this.videoSection)}else{i=["a=group:BUNDLE"];this.videoSection&&i.push(t),this.audioSection&&i.push(n),r=this.headerSection.replace(/a=group:BUNDLE [^\r\n]+/,i.join(" ")),this.videoSection&&(r+=this.videoSection),this.audioSection&&(r+=this.audioSection)}return r},parseMsidSemantic:function(e){var t=this._parseLine(e,/a=msid\-semantic:\s*WMS (\S+)/gi);return t&&2==t.length&&(this.msidSemantic={line:t[0],WMS:t[1]}),this.msidSemantic},ssrcSection:function(e,t,n,r){return["a=ssrc:"+e+" cname:"+t,"a=ssrc:"+e+" msid:"+n+" "+r,"a=ssrc:"+e+" mslabel:"+n,"a=ssrc:"+e+" label:"+r,""].join("\n")},parseSSRC:function(e){var t=new RegExp("a=(ssrc):(\\d+) (\\S+):(\\S+)","ig"),n=this._parseLine(e,t);if(n){for(var r={lines:[],updateSSRCSection:this.ssrcSection},i=0;i<n.length;i++){var o=n[i];if(o.indexOf("a=ssrc")>=0)r.lines.push(o);else switch(o){case"ssrc":case"cname":case"msid":case"mslabel":case"label":r[o]=n[++i]}}return r}},_parseLine:function(e,t){for(var n,r=[];null!=(n=t.exec(e));)for(var i=0;i<n.length;i++)r.push(n[i]);if(r.length>0)return r}},l=function(e,t){s.extend(this,d),this._webrtc=t,this.spiltSection(e)};l.isAudioVideo=function(e){return e.indexOf("m=audio")<e.indexOf("m=video")},l.isVideoPreAudio=function(e){var t=e.indexOf("m=audio"),n=e.indexOf("m=video");return t>=0&&n>=0&&n<t};var f=emedia.__rtc_globalCount=0,p=s.prototypeExtend({closed:!1,sdpConstraints:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},offerOptions:{offerToReceiveAudio:!0,offerToReceiveVideo:!0},optimalVideoCodecs:null,optimalAudioCodecs:null,__init__:function(){this._rtcId||(this._rtcId="RTC"+f++),this.__id="_i_"+f++,this.__setRemoteSDP=!1,this.__tmpRemoteCands=[],this.__tmpLocalCands=[],this._rtcPeerConnection=null,this.cctx=this.__id,emedia&&emedia.config&&emedia.config.forceUseVideoCodecs&&emedia.config.forceUseVideoCodecs.length>0&&(this.optimalVideoCodecs=emedia.config.forceUseVideoCodecs),emedia&&emedia.config&&emedia.config.forceUseAudioCodecs&&emedia.config.forceUseAudioCodecs.length>0&&(this.optimalAudioCodecs=emedia.config.forceUseAudioCodecs),emedia&&emedia.config&&"number"==typeof emedia.config.forceVideoBitrate&&(this.vbitrate=emedia.config.forceVideoBitrate),emedia&&emedia.config&&"number"==typeof emedia.config.forceMinVideoBitrate&&(this.vminBitrate=emedia.config.forceMinVideoBitrate),emedia&&emedia.config&&"number"==typeof emedia.config.forceAudioBitrate&&(this.abitrate=emedia.config.forceAudioBitrate),a.info("Webrtc created. optimal video codecs:",this.optimalVideoCodecs,"audio codecs:",this.optimalAudioCodecs,"vbitrate:",this.vbitrate,"vminBitrate:",this.vminBitrate,"abitrate:",this.abitrate,this._rtcId,this.__id)},getRtcId:function(){return this._rtcId},iceState:function(){return this._rtcPeerConnection.iceConnectionState},setSubArgs:function(e){this.subArgs=e},getReceiversOfPeerConnection:function(){if(this._rtcPeerConnection&&"closed"!=this._rtcPeerConnection.iceConnectionState)return this._rtcPeerConnection.getReceivers()},updateRemoteBySubArgs:function(){this.subArgs&&this._remoteStream&&(emedia.enableVideoTracks(this._remoteStream,!(this.subArgs&&!1===this.subArgs.subSVideo)),emedia.enableAudioTracks(this._remoteStream,!(this.subArgs&&!1===this.subArgs.subSAudio)),a.info("enable tracks remote stream",this._remoteStream,this.subArgs,this._rtcId,this.__id,this.closed))},createRtcPeerConnection:function(e){var t=this;a.debug("begin create peer connection ......",t._rtcId,t.__id,t.closed),e||(e=t.iceServerConfig),e||emedia.isEdge?(e||(e={}),!e.iceServers&&(e.iceServers=[]),e.rtcpMuxPolicy="require",e.bundlePolicy="max-bundle",e.relayOnly&&(e.iceTransportPolicy="relay")):e=null,emedia&&emedia.config&&"function"==typeof emedia.config.reconfigRTCConfiguration&&(e=emedia.config.reconfigRTCConfiguration(e)),emedia.config.useDeployMore&&(emedia.mgr.rtc_url_config||(emedia.mgr.rtc_url_config=new u(emedia.config.rtcConfigUrl||"")),e&&e.iceServers&&(e=emedia.mgr.rtc_url_config.replace_trun_url(e))),a.info("create pc, set config:",e,t._rtcId,t.__id,t.closed);var n=t._rtcPeerConnection=new RTCPeerConnection(e);function r(e){a.info("states: connectionState",n.connectionState,", iceConnectionState",n.iceConnectionState,"@",t._rtcId,t.__id,t.closed);try{var r=n.iceConnectionState||n.connectionState;"failed"!=n.connectionState&&"failed"!=n.iceConnectionState&&"closed"!=n.iceConnectionState&&"closed"!=n.iceConnectionState||(r="failed",console.log("sqx state",r)),t.lastIceConnectionState!==r&&(t.lastIceConnectionState=r,t.onIceStateChange(r))}finally{}}n.__peerId=t._rtcId,a.debug("created local peer connection object",n,t._rtcId),n.onicecandidate=function(e){var n=e.candidate;if("icecandidate"!=e.type||n&&("string"!=typeof n.protocol||"tcp"!==n.protocol.toLowerCase())&&!/ TCP /.test(n.candidate)){if(!n.candidate)throw a.error("Not found candidate. candidate is error"),"Not found candidate. candidate is error,";if(n.cctx=t.cctx,!t.__setRemoteSDP)return(t.__tmpLocalCands||(t.__tmpLocalCands={})).push(n),void a.debug("On ICE candidate ok: but tmp buffer caused by not set remote sdp: ",n,t._rtcId,t.__id,t.closed);a.debug("On ICE candidate ok: ",n,t._rtcId,t.__id,t.closed),t._onIceCandidate(n)}else a.debug("On ICE candidate: drop",n,t._rtcId,t.__id,t.closed)},t.lastIceConnectionState="",n.onconnectionstatechange=r.bind(t),n.onicestatechange=r.bind(t),n.oniceconnectionstatechange=r.bind(t),n.onsignalingstatechange=function(e){a.info("states: signaling",n.signalingState,"@",t._rtcId,t.__id,t.closed)},null===n.ontrack&&t._onTrack&&(n.ontrack=function(e){t._onTrack(e)}),n.onaddstream=function(e){t._onGotRemoteStream(e)}},addTrack:function(e,t){var n=this;e.forEach(function(e){n._rtcPeerConnection.addTrack(e,t),a.debug("Added track(",e.id,e.kind,e.label,") of stream(",t.id,") to RtcPeerConnection",n._rtcId,n.__id,n.closed)})},setLocalStream:function(e){var t=this;if(t._localStream=e,t._rtcPeerConnection.addTrack)e.getTracks().forEach(function(n){t._rtcPeerConnection.addTrack(n,e),a.debug("Added track(",n.enabled,n.id,n.kind,n.label,") of localStream(",e.id,") to RtcPeerConnection",t._rtcId,t.__id,t.closed)});else{t._rtcPeerConnection.addStream(e);var n=e.getVideoTracks(),r=e.getAudioTracks();n&&n.length>0&&a.debug("RtcPeerConnection video: ",n[0].enabled,n[0].id,n[0].kind,n[0].label,t._rtcId,t.__id,t.closed),r&&r.length>0&&a.debug("RtcPeerConnection audio: ",r[0].enabled,r[0].id,r[0].kind,r[0].label,t._rtcId,t.__id,t.closed)}a.debug("Added local stream to RtcPeerConnection",e.id,e.active,t._rtcId,t.__id,this.closed)},removeStream:function(e){this._rtcPeerConnection.removeStream(e),a.debug("Remove stream from RtcPeerConnection",e,self._rtcId,self.__id,this.closed)},getLocalStream:function(){return this._localStream},getRemoteStream:function(){return this._remoteStream},createOffer:function(e,t){a.info("start create offer... self.offerOption str",(0,r.default)(this.offerOptions)),a.info("start create offer... self.offerOption",this.offerOptions);var n=this,i=s.extend({},n.offerOptions),o=n.subArgs?{offerToReceiveAudio:!0,offerToReceiveVideo:!0}:JSON.parse((0,r.default)(n.offerOptions));return n._rtcPeerConnection.createOffer(o).then(function(t){if(a.info("original offer sdp",t),n.offerDescription=t,emedia.isEdge&&(t.sdp=t.sdp.replace(/profile-level-id=[^;]+/,"profile-level-id=42e01f")),emedia.isFirefox?n.fireFoxOfferVideoPreAudio=n.__offerVideoPreAudio=l.isVideoPreAudio(t.sdp):n.__offerVideoPreAudio=l.isVideoPreAudio(t.sdp),t.sdp=t.sdp.replace(/m=video 0/g,"m=video 9"),a.warn("setLocalDescription. modify offer. if 'm=video 0' -> 'm=video 9'; if H264, 'profile-level-id=42e01f'",n._rtcId,n.__id),n.optimalVideoCodecs&&n.optimalVideoCodecs.length>0||n.optimalAudioCodecs&&n.optimalAudioCodecs.length>0||i&&(!1===i.offerToReceiveVideo||!1===i.offerToReceiveAudio)){var r=new l(t.sdp,n);n.optimalVideoCodecs&&r.updateVCodes(n.optimalVideoCodecs),n.optimalAudioCodecs&&r.updateACodes(n.optimalAudioCodecs),o&&!1===i.offerToReceiveVideo&&r.updateVideoSection(/a=sendrecv|a=recvonly/g,"a=sendonly"),o&&!1===i.offerToReceiveAudio&&r.updateAudioSection(/a=sendrecv|a=recvonly/g,"a=sendonly"),t.sdp=r.getUpdatedSDP()}if(a.debug("setLocalDescription start",n._rtcId,n.__id,n.closed,n.optimalVideoCodecs,n.optimalAudioCodecs),emedia.config.useDTX){t.sdp=t.sdp.replace(/a=rtpmap:(.*)CN\/(.*)\r\n/g,"");var s=t.sdp.match(/a=rtpmap:(.*)\sopus/)[1];t.sdp=t.sdp.replace(new RegExp("a=fmtp:"+s+"(.*)\\r\\n"),"a=fmtp:"+s+"$1;usedtx=1\r\n")}n._rtcPeerConnection.setLocalDescription(t).then(n._onSetLocalSessionDescriptionSuccess.bind(n),n._onSetSessionDescriptionError.bind(n,t)).then(function(){t.cctx=n.cctx,(e||n.onCreateOfferSuccess.bind(n))(t)})},t||n._onCreateSessionDescriptionError.bind(n,o))},createPRAnswer:function(e,t){var n=this;return a.info(" createPRAnswer start",n.closed,n.sdpConstraints),n._rtcPeerConnection.createAnswer(n.sdpConstraints).then(function(t){a.debug("_____________PRAnswer ",t.sdp,n._rtcId,n.__id,n.closed),t.type="pranswer",t.sdp=t.sdp.replace(/a=recvonly/g,"a=inactive");var r=new l(t.sdp,n);n.optimalVideoCodecs&&r.updateVCodes(n.optimalVideoCodecs),n.optimalAudioCodecs&&r.updateACodes(n.optimalAudioCodecs),t.sdp=r.getUpdatedSDP(),n.__prAnswerDescription=t,a.debug("inactive PRAnswer ",t.sdp,n._rtcId,n.__id,n.closed),a.debug("setLocalDescription start",t,n._rtcId,n.__id,n.closed),n._rtcPeerConnection.setLocalDescription(t).then(n._onSetLocalSessionDescriptionSuccess.bind(n),n._onSetSessionDescriptionError.bind(n,t)).then(function(){r.updateHeaderMsidSemantic("MS_0000"),r.updateAudioSSRCSection(1e3,"CHROME0000","MS_0000","LABEL_AUDIO_1000"),r.updateVideoSSRCSection(2e3,"CHROME0000","MS_0000","LABEL_VIDEO_2000"),t.sdp=r.getUpdatedSDP(),a.debug("Send PRAnswer ",t.sdp,n._rtcId,n.__id,n.closed),n.cctx&&(t.cctx=n.cctx),(e||n.onCreatePRAnswerSuccess.bind(n))(t)})},t||n._onCreateSessionDescriptionError.bind(n,n.sdpConstraints))},createAnswer:function(e,t){var n=this;return a.info("createAnswer start",n.closed,n.sdpConstraints),n._rtcPeerConnection.createAnswer(n.sdpConstraints).then(function(t){a.debug("_____________________Answer ",n._rtcId,n.__id,n.closed),t.type="answer";var r=new l(t.sdp,n);n.optimalVideoCodecs&&r.updateVCodes(n.optimalVideoCodecs),n.optimalAudioCodecs&&r.updateACodes(n.optimalAudioCodecs),emedia.supportPRAnswer?function(e){var n=e.parseMsidSemantic(e.headerSection);if(n){"*"==n.WMS&&e.updateHeaderMsidSemantic(n.WMS="MS_0000");var r=e.parseSSRC(e.audioSection),i=e.parseSSRC(e.videoSection);r&&e.updateAudioSSRCSection(1e3,"CHROME0000",n.WMS,r.label||"LABEL_AUDIO_1000"),i&&e.updateVideoSSRCSection(2e3,"CHROME0000",n.WMS,i.label||"LABEL_VIDEO_2000"),t.sdp=e.getUpdatedSDP()}}(r):t.sdp=r.getUpdatedSDP(),n.__answerDescription=t,a.debug("Answer ",n._rtcId,n.__id,n.closed),a.debug("setLocalDescription start",t,n._rtcId,n.__id,n.closed),n._rtcPeerConnection.setLocalDescription(t).then(n._onSetLocalSessionDescriptionSuccess.bind(n),n._onSetSessionDescriptionError.bind(n,t)).then(function(){emedia.supportPRAnswer&&(r.updateHeaderMsidSemantic("MS_0000"),r.updateAudioSSRCSection(1e3,"CHROME0000","MS_0000","LABEL_AUDIO_1000"),r.updateVideoSSRCSection(2e3,"CHROME0000","MS_0000","LABEL_VIDEO_2000"),t.sdp=r.getUpdatedSDP()),a.debug("Send Answer ",n._rtcId,n.__id,n.closed),n.cctx&&(t.cctx=n.cctx),(e||n.onCreateAnswerSuccess.bind(n))(t)})},t||n._onCreateSessionDescriptionError.bind(n,n.sdpConstraints))},_printStats:function(e){var t=this;t.confrAttendee&&emedia.config.remainLastStatsCount&&e&&e.getTracks().forEach(function(e){t._printTrackStats(e)})},_printTrackStats:function(e){if(this.confrAttendee&&emedia.config.remainLastStatsCount){var t=this.confrAttendee._trackStats&&this.confrAttendee._trackStats[e.id];if(t){for(var n in t){var r=t[n];for(var i in r){var o=r[i];if(o)for(var c=o.curIndex,u=0;u<emedia.config.remainLastStatsCount;u++){var d=o[c=(c-1)%emedia.config.remainLastStatsCount];if(!d||void 0===d.data)break;a.info("[track]",this._rtcId,this.__id,e.kind,e.id,n,i,d.data,d.timestamp.toLocaleString())}}}s.removeAttribute(this.confrAttendee._trackStats,e.id)}}},close:function(e,t,n){var r=this;if(a.warn("webrtc closing",r._rtcId,r.__id,r.closed),r.__iceWaitIntervalId&&clearTimeout(r.__iceWaitIntervalId),!r.closed){t=!0===t,r.closed=!0;try{var i=function(){if(r._rtcPeerConnection&&r._rtcPeerConnection.close(),a.info("peer connection close. it is",r._rtcPeerConnection&&r._rtcPeerConnection.__peerId),!n&&emedia.isSafari){r._rtcPeerConnection.iceConnectionState||r._rtcPeerConnection.connectionState;setTimeout(function(){r._rtcPeerConnection.iceConnectionState||r._rtcPeerConnection.connectionState;r.onIceStateChange&&r.onIceStateChange("closed")},200)}},o=r._localStream,s=r._remoteStream;emedia.config.printStatsWhenPCClose?r.getStats(function(){i(),o&&r._printStats(o),s&&r._printStats(s)}):i()}catch(e){a.warn(e)}finally{r._localStream&&!1===e&&emedia.stopTracks(r._localStream),r._remoteStream&&emedia.stopTracks(r._remoteStream),r._remoteStream=null,t||r.onClose&&r.onClose(),!0===n&&(a.info("Webrtc close. but retry build. will onIceStateChange(failed). eg. emedia.config iceWaitBuildMillis",r._rtcId,r.__id),r.onIceStateChange&&r.onIceStateChange("failed")),a.warn("webrtc closed. closed:",r._rtcId,r.__id,r.closed)}}},addIceCandidate:function(e){console.log("addIceCandidate candidate",(0,r.default)(e));var t=s.isArray(e)?e:[e];if(emedia.mgr.rtc_url_config&&(t=emedia.mgr.rtc_url_config.replace_candidates(t)),emedia&&emedia.config&&"function"==typeof emedia.config.reChanageCandidate){for(var n=[],i=0;i<t.length;i++){e=t[i];var o=emedia.config.reChanageCandidate(e);o&&(a.info("Candidate rechanage. addons. it =",e,"->",o),s.isArray(o)?Array.prototype.push.apply(n,o):n.push(o))}t=n}this._addIceCandidate(t)},_addIceCandidate:function(e){if(this._rtcPeerConnection){a.debug("Add ICE candidate: ",e,this._rtcId,this.__id,this.closed);var t=s.isArray(e)?e:[e];//!_util.isArray(candidate) && _cands.push(candidate);
if(!this.__setRemoteSDP)return Array.prototype.push.apply(this.__tmpRemoteCands||(this.__tmpRemoteCands={}),t),void a.debug("Add ICE candidate but tmp buffer caused by not set remote sdp: ",e,this._rtcId,this.__id,this.closed);for(var n=0;n<t.length;n++)if((e=t[n]).cctx&&e.cctx!=this.cctx)a.warn("addIceCandidate fail drop. cctx not equal. ",e,this._rtcId,this.__id,this.closed);else{if(!0===this.fireFoxOfferVideoPreAudio){var r=e.sdpMLineIndex;e.sdpMLineIndex=parseInt(e.sdpMid.replace(/[^0-9]*/,"")),a.warn("Firefox sdp section video pre audio, sdp mline index update ",r,"->",e.sdpMLineIndex)}e.candidate&&""!==e.candidate?this._rtcPeerConnection.addIceCandidate(new RTCIceCandidate(e)).then(this.onAddIceCandidateSuccess.bind(this),this._onAddIceCandidateError.bind(this,e)):a.warn("Add ICE candidate fail. drop it ",e,this._rtcId,this.__id,this.closed)}}},setRemoteDescription:function(e){return this._setRemoteDescription(e)},_setRemoteDescription:function(e){var t=this;if(t.__iceWaitIntervalId&&(clearTimeout(t.__iceWaitIntervalId),t.__iceWaitIntervalId=null,a.info("emedia.config iceWaitBuildMillis, clear ice wait interval id",t._rtcId,t.__id)),a.debug("setRemoteDescription start. ",t._rtcId,t.__id,t.closed),t.offerDescription){if(e.cctx&&e.cctx!=t.cctx)return void a.warn("setRemoteDescription fail drop. cctx not equal. ",e,t._rtcId,t.__id,t.closed);if(!0===t.fireFoxOfferVideoPreAudio||!0===t.__offerVideoPreAudio){var n=new l(e.sdp,t);e.sdp=n.getUpdatedSDP(!1),a.info("Remote sdp.2. switch audio video",e.sdp)}}else e.cctx&&(t.cctx=e.cctx);if(e.sdp=e.sdp.replace(/UDP\/TLS\/RTP\/SAVPF/g,"RTP/SAVPF"),a.warn("setRemoteDescription. UDP/TLS/RTP/SAVPF -> RTP/SAVPF; if firefox: switch audio video;",t._rtcId,t.__id),t.vbitrate||t.abitrate||t.vminBitrate){n=new l(e.sdp,t);t.vbitrate&&n.setVideoBitrate(t.vbitrate),t.vminBitrate&&n.setVideoMinBitrate(t.vminBitrate),t.abitrate&&n.setAudioBitrate(t.abitrate),a.warn("vbitrate = ",t.vbitrate,"vminBitrate = ",this.vminBitrate,", abitrate = ",t.abitrate,t._rtcId,t.__id),e.sdp=n.getUpdatedSDP(void 0===t.__offerVideoPreAudio||null===t.__offerVideoPreAudio?void 0:!t.__offerVideoPreAudio)}return a.debug("final remote sdp =",e.sdp,t._rtcId,t.__id),e=t.__remoteDescription=new RTCSessionDescription(e),t._rtcPeerConnection.setRemoteDescription(e).then(function(){t.__setRemoteSDP=!0,t._onSetRemoteSuccess.apply(t,arguments),t.__tmpLocalCands&&t.__tmpLocalCands.length>0&&(a.debug("After setRemoteDescription. send cands",t._rtcId,t.__id,t.closed),t._onIceCandidate(t.__tmpLocalCands),t.__tmpLocalCands=[]),t.__tmpRemoteCands&&t.__tmpRemoteCands.length>0&&(a.debug("After setRemoteDescription. add tmp cands",t._rtcId,t.__id,t.closed),t._addIceCandidate(t.__tmpRemoteCands),t.__tmpRemoteCands=[])},t._onSetSessionDescriptionError.bind(t,e))},iceConnectionState:function(){return this._rtcPeerConnection.iceConnectionState},isConnected:function(){var e=this.lastIceConnectionState;return"connected"===e||"completed"===e},_onGotRemoteStream:function(e){var t=this;t._remoteStream=e.stream||e.streams[0],t._remoteStream._rtcId=t._rtcId,t._remoteStream.__rtc_c_id=t.__id,a.debug("On got remote stream",t._remoteStream?t._remoteStream.id+"_"+t._remoteStream.active:"null",t._rtcId,t.__id),t._remoteStream&&t._remoteStream.getTracks().forEach(function(e){a.debug("remote stream",t._remoteStream.id," track =",e.enabled,e.id,e.kind,e.label,t._rtcId,t.__id)}),t.updateRemoteBySubArgs(),this.onGotRemoteStream(this._remoteStream,e),a.debug("received remote stream, you will see the other.",t._rtcId,t.__id,this.closed)},_onSetRemoteSuccess:function(){a.info("onSetRemoteSuccess success",this._rtcId,this.__id),this.onSetRemoteSuccess.apply(this,arguments),this.offerDescription&&this.__remoteDescription&&this.__remoteDescription.sdp&&this._onAnswerCodes(this.__remoteDescription.sdp)},_onAnswerCodes:function(e){var t=new l(e,this);if(t.videoSection){var n=c.parseRtpParameters(t.videoSection);if(!n.codecs||0===n.codecs.length)return void a.info("not found any video codes. @ ",this._rtcId,this.__id);var r=[],i={};s.forEach(n.codecs,function(e,t){!0!==i[t.name]&&(i[t.name]=!0,r.push(t.name))}),this.finalVCodeChoices=r,this.onVCodeChoices&&this.onVCodeChoices(r)}},onSetRemoteSuccess:function(){},onAddIceCandidateSuccess:function(){a.debug("addIceCandidate success",this._rtcId,this.__id)},_onAddIceCandidateError:function(e,t){a.error("failed to add ICE Candidate: "+t.toString(),", error candidate:",e,this._rtcId,this.__id),this.onAddIceCandidateError(t)},onAddIceCandidateError:function(e){},_onIceCandidate:function(e){a.debug("onIceCandidate:",e,this._rtcId,this.__id),this.onIceCandidate(e)},onIceCandidate:function(e){},onIceStateChange:function(e){a.debug("onIceStateChange : ICE state ",e)},_onCreateSessionDescriptionError:function(e,t){a.error("Failed to create session description: "+t.toString()," offerOptionsOrSDPConstraints:",e,this._rtcId,this.__id),this.onCreateSessionDescriptionError(t)},onCreateSessionDescriptionError:function(e){},onCreateOfferSuccess:function(e){a.debug("create offer success",this._rtcId,this.__id)},onCreatePRAnswerSuccess:function(e){a.debug("create answer success",this._rtcId,this.__id)},onCreateAnswerSuccess:function(e){a.debug("create answer success",this._rtcId,this.__id)},_onSetSessionDescriptionError:function(e,t){a.error("onSetSessionDescriptionError : Failed to set session description: ",t.toString(),this._rtcId,this.__id),e&&e.type&&e.sdp&&a.error("error sdp: type=",e.type,"sdp=",e.sdp,this._rtcId,this.__id),this.onSetSessionDescriptionError(t)},onSetSessionDescriptionError:function(e){},_onSetLocalSessionDescriptionSuccess:function(){var e=this;a.debug("onSetLocalSessionDescriptionSuccess : setLocalDescription complete",this._rtcId,this.__id),emedia.config.iceWaitBuildMillis&&(this.__iceWaitIntervalId&&clearTimeout(this.__iceWaitIntervalId),this.__iceWaitIntervalId=setTimeout(function(){a.info("emedia.config iceWaitBuildMillis, timeout, will close webrtc, will retry build by onIceStateChange(failed)",e._rtcId,e.__id),e.onIceStateChange&&e.onIceStateChange("failed")},emedia.config.iceWaitBuildMillis),a.info("emedia.config iceWaitBuildMillis, start timeout",e._rtcId,e.__id)),this.onSetLocalSessionDescriptionSuccess(),this.__answerDescription&&this.__answerDescription.sdp&&this._onAnswerCodes(this.__answerDescription.sdp)},onSetLocalSessionDescriptionSuccess:function(){},onGotRemoteStream:function(e){a.debug("Got remote stream. ",e,this._rtcId,this.__id)},getStats:function(e){var t=this;return t._rtcPeerConnection?"function"!=typeof emedia.config.rtcStatsTypeMath?(a.warn("Get stats, but config rtcStatsTypeMather, ",this._rtcId,this.__id),void(e&&e())):void t._rtcPeerConnection.getStats(null).then(function(n){n.forEach(function(e,n){emedia.config.rtcStatsTypeMath(e,n)&&a.info("Rtc stats",e,t._rtcId,t.__id)}),e&&e(n)}):(a.warn("Get stats, but peer connection not exsits, ",this._rtcId,this.__id),void(e&&e()))}});e.exports=p},function(e,t,n){var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},r.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default()(e.parameters).length){var r=[];__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default()(e.parameters).forEach(function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],s=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){var a=r.parseRtpMap(s),c=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(a.parameters=c.length?r.parseFmtp(c[0]):{},a.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(a.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)});var i=0;return t.codecs.forEach(function(e){e.maxptime>i&&(i=e.maxptime)}),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){n+=r.writeExtmap(e)}),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),a=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=a.length>0&&a[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse(__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_json_stringify___default()(r))).fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&c&&n.push({ssrc:c});var d=r.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=d})),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var s=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i,o=void 0!==t?t:2;return i=e||r.generateSessionId(),"v=0\r\no="+(n||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},e.exports=r},function(e,t,n){var r=n(72),i=n(216);emedia.subscribed=function(e){return!!e._located||(2===e.type?!(e._located||!e._webrtc):void 0!==e._webrtc)};var o=r.prototypeExtend({voff:0,aoff:0,__init__:function(){var e=this;if(!e._mediaStream)throw _logger.error("_mediaStream empty"),"_mediaStream empty";if(e.hasEnabledTracks(e._mediaStream)){if(!e.__audioContext)throw _logger.error("require audioContext"),"require audioContext";e.__soundMeter=new i(e.__audioContext),e.__soundMeter.connectToSource(e._mediaStream,function(t){if(t)throw t;e.__worked=e.__soundMeter.__worked=!0})}},hasEnabledTracks:function(e){return emedia.hasEnabledTracks(e)},getSoundMeters:function(){if(this.__soundMeter&&this.__worked)if(this._mediaStream.active){if(this.hasEnabledTracks(this._mediaStream))return{instant:this.__soundMeter.instant,slow:this.__soundMeter.slow,clip:this.__soundMeter.clip}}else this.__worked&&this._finally()},_finally:function(){this.__soundMeter&&(this.__soundMeter.stop(),this.__worked=this.__soundMeter.__worked=!1)}});e.exports=r.prototypeExtend({__undefinedEQDelete:!0,Update:r.prototypeExtend({ifAoff:function(e){this.if("aoff",e)},ifVoff:function(e){this.if("voff",e)},ifMediaStream:function(e){this.if("mediaStream",e)},if:function(e,t){void 0!==this[e]&&t(this[e])}}),located:function(){return this._located||!1},webrtc:function(e){return e&&(this._webrtc=e),this},getMediaStream:function(){return void 0!==this.mediaStream?this.mediaStream:this._located?this._localMediaStream:this._webrtc&&(this._webrtc.getRemoteStream()||this._webrtc.getLocalStream())},requestFrame:function(){this._localMediaStream&&this._localMediaStream.getVideoTracks().forEach(function(e){"function"==typeof e.requestFrame&&e.requestFrame()})},getLocalMediaStream:function(){return this._localMediaStream},getRemoteMediaStream:function(){if(this._webrtc&&void 0!==this._webrtc.getRemoteStream())return this._webrtc.getRemoteStream()},mutedNeed:function(){return this.mutedMuted||!1},ifMediaStream:function(e){void 0===this.mediaStream?this._located&&void 0!==this._localMediaStream?e(this._localMediaStream):this._located||!this._webrtc||void 0===this._webrtc.getRemoteStream()||e(this._webrtc.getRemoteStream()):e(this.mediaStream)},subscribed:function(){return emedia.subscribed(this)},updateAttributes:function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if(r.isPlainObject(t))for(var n in t){var i=t[n];this[n]=i}}},getHtmlDOMID:function(){return"_m_"+this.owner.id+"_s_"+this.id},MediaSoundMeter:o,StreamSoundMeter:r.prototypeExtend({__init__:function(){if(!this._stream||"function"!=typeof this._stream.getMediaStream)throw _logger.error("_stream empty or not found method getMediaStream"),"_stream empty or not found method getMediaStream";if(this._streamId=this._stream.id,this._streamCreateId=this._stream.__create_id,this._mediaStream=this._mediaStream,2===this._stream.type&&!this._stream.located()&&!this._webrtc)throw _logger.error("require webrtc. when type = 2 and not located"),"require webrtc. when type = 2 and not located";this.__mediaSoundMeter=this.__mediaSoundMeter||new o({__audioContext:this.__audioContext,_mediaStream:this._mediaStream}),this.__mediaSoundMeter.useCount=(this.__mediaSoundMeter.useCount||0)+1},onSoundMeters:function(e){var t={instant:0,slow:0,clip:0};if(this._stream.aoff)return this._finally(),e(t),t;if(2!==this._stream.type&&this._stream.subArgs&&void 0!==this._stream.subArgs.subSAudio&&!this._stream.subArgs.subSAudio)return this._finally(),e(t),t;if(0==this._stream.id||2===this._stream.type&&!this._stream.located()&&(!this._stream.subArgs||!this._stream.subArgs.subSAudio)){var n,i=this._webrtc.getReceiversOfPeerConnection();if(!i||0===i.length)return e(t),t;for(var o in i)"audio"===i[o].track.kind&&(n=i[o]);if(!n)return e(t),t;if("function"==typeof n.getContributingSources){var s,a=n.getContributingSources();if(emedia.config._printSoundData&&r.logger.debug(this._stream.id,this._stream.csrc,"rtpContributingSources ",a),!a||0===a.length)return e(t),t;for(var o in a)a[o].source==this._stream.csrc&&(s=this._stream.csrc);if(emedia.config._printSoundData&&r.logger.debug(this._stream.id,this._stream.csrc,"source ",s),void 0===s)return e(t),t}}var c=this.__mediaSoundMeter.getSoundMeters()||t,u=2===this._stream.type?this._webrtc:this._stream._webrtc;(emedia.meterWithTrackAudioLevel||0===c.instant)&&u&&!u.closed&&u._rtcPeerConnection&&u._rtcPeerConnection.getStats().then(function(t){t.size>0&&t.forEach(function(t){"track"!==t.type||"audio"!==t.kind&&"audio"!==t.trackIdentifier||(c.trackAudioLevel=t.audioLevel,c.trackTotalAudioEnergy=t.totalAudioEnergy,e(c))})}),e(c)},_finally:function(){2===this._stream.type&&this._stream.located()&&this._remoteMediaSoundMeters&&this._remoteMediaSoundMeters._finally(),this.__mediaSoundMeter.useCount--,0===this.__mediaSoundMeter.useCount&&this.__mediaSoundMeter._finally()}})})},function(e,t,n){function r(e){this.context=e,this.instant=0,this.slow=0,this.clip=0,this.script=e.createScriptProcessor(2048,1,1);var t=this;this.script.onaudioprocess=function(e){var n,r=e.inputBuffer.getChannelData(0),i=0,o=0;for(n=0;n<r.length;++n)i+=r[n]*r[n],Math.abs(r[n])>.99&&(o+=1);t.instant=Math.sqrt(i/r.length),t.slow=.95*t.slow+.05*t.instant,t.clip=o/r.length}}r.prototype.connectToSource=function(e,t){console.log("SoundMeter connecting");try{this.mic=this.context.createMediaStreamSource(e),this.mic.connect(this.script),this.script.connect(this.context.destination),void 0!==t&&t(null)}catch(e){console.error(e),void 0!==t&&t(e)}},r.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()},e.exports=r},function(e,t,n){var r=n(72),i=r.tagLogger("Handler"),o=n(208),s=r.prototypeExtend({onEvent:function(e){this.mgr.upload_stats&&this.mgr.upload_stats.upload_event(e);var t=this;function n(){try{t.handleEvent(e)}catch(e){i.warn(e)}}if(e&&i.info("[EVT]",e.message(),e.hidden||""),e instanceof o.ServerRefuseEnter&&e.failed&&-95270===e.failed&&(e.failed=-9527),e instanceof emedia.event.StreamState&&e.stream&&e.stream.located())n();else try{e.hidden||t.onNotifyEvent&&t.onNotifyEvent(e)}finally{n()}},handleEvent:function(e){var t=this;if(e instanceof o.RecvResponse)t._onRecvResponse(e);else if(e instanceof o.ServerRefuseEnter)i.warn("Server refuse, ",e.failed,e.msg),t.onServerRefuseEnter(e);else if(e instanceof o.NetworkChanaged)i.warn("Network chanaged, ",e.preIp,e.nowIp),t.onNetworkChanaged(e);else if(e instanceof o.EnterFail)i.warn("Enter fail, result = ",e.failed),t.onEnterFail();else if(e instanceof o.WSClose)t.onWSClose();else if(e instanceof o.WSConnected)i.warn("Websocket connected");else if(e instanceof o.ICEConnected){var n=e.webrtc;t.onICEConnected(n)}else if(e instanceof o.ICEConnectFail){n=e.webrtc;t.onICEConnectFail(n)}else if(e instanceof o.ICEDisconnected){n=e.webrtc;t.onICEDisconnected(n)}else if(e instanceof o.ICEClosed){n=e.webrtc;t.onICEClosed(n)}else if(e instanceof o.ICERemoteMediaStream)t.onICERemoteMediaStream(e.webrtc);else if(e instanceof o.PushSuccess){t._cacheStreams[e.stream.id]=t._linkedStreams[e.stream.id]=e.stream;var s=t.newStream(e.stream);if(e.hidden&&!t._maybeNotExistStreams[e.stream.id]&&!s.isRepublished)return void t._onAddStream(s);emedia._yetGetUserMedia=!0;try{!0!==e.hidden&&s&&t.onUpdateStream(s,new s.Update({voff:s.voff,aoff:s.aoff,mediaStream:s.getMediaStream()}))}finally{emedia.isSafari&&r.forEach(t._cacheStreams,function(e,n){!0===n._autoSubWhenPushStream&&(r.removeAttribute(n,"_autoSubWhenPushStream"),t.createWebrtcAndSubscribeStream(n.id))})}}else if(e instanceof o.SubSuccess)console.log("__event.SubSuccess",e),t._linkedStreams[e.stream.id]=e.stream,e.stream.updateAttributes({_zoom:1});else if(e instanceof o.PushFail){if(!0!==e.hidden){var a=r.removeAttribute(t._linkedStreams,e.stream.id);if(i.warn("PushFail remove from _linkedStreams",e.stream.id,a),a){s=t.newStream(e.stream);t.onRemoveStream(s)}}}else if(e instanceof o.SubFail){if(!0!==e.hidden)r.removeAttribute(t._linkedStreams,e.stream.id),i.warn("SubFail remove from _linkedStreams",e.stream.id),(s=t.newStream(e.stream)).updateAttributes({rtcId:void 0,_webrtc:void 0,mediaStream:void 0}),t.onUpdateStream(s,new s.Update(s))}else if(e instanceof o.SubFailNotSupportVCodes){var c=e.stream;i.warn("Rtc donot support pub VCodes. close. sub fail.",c.rtcId," -> ",c.id);try{t.onNotSupportPublishVideoCodecs&&t.onNotSupportPublishVideoCodecs(c)}catch(e){i.warn(e)}}else if(e instanceof o.EnterSuccess)console.log("__event.EnterSuccess",e),t.onEnterSuccess();else if(e instanceof o.SwitchVCodes){c=e.stream;var u,d=e.useVCodes;n=c._webrtc;if(i.warn("Rtc switch VCodes. ",c.id,d),d&&0!=d.length||i.warn("Rtc switch VCodes. error! useVCodes is empty ",c.id,d),emedia.config&&emedia.config.forceUseVideoCodecs&&emedia.config.forceUseVideoCodecs.length>0&&(u=emedia.config.forceUseVideoCodecs,r.isArray(u)||(u=[]).push(emedia.config.forceUseVideoCodecs)),u){if("string"==typeof u&&u!==d[0])return void i.warn("Rtc switch VCodes. igrone . useVCodes !== forceUseVideoCodecs ",c.id,n._rtcId,d,u);if(r.isArray(u)&&u[0]!==d[0])return void i.warn("Rtc switch VCodes. igrone ddd . useVCodes == forceUseVideoCodecs ",c.id,n._rtcId,d,u)}if(n&&n.optimalVideoCodecs){if("string"==typeof n.optimalVideoCodecs&&n.optimalVideoCodecs==d[0])return void i.warn("Rtc switch VCodes. igrone . useVCodes == optimalVideoCodecs ",c.id,n._rtcId,d);if(r.isArray(n.optimalVideoCodecs)&&n.optimalVideoCodecs.length>0&&n.optimalVideoCodecs[0]==d[0])return void i.warn("Rtc switch VCodes. igrone ddd . useVCodes == optimalVideoCodecs ",c.id,n._rtcId,d)}c.updateAttributes({optimalVideoCodecs:d}),n&&t.closeWebrtc(n.getRtcId(),!0),setTimeout(function(){c.updateAttributes({iceRebuildCount:1}),t.iceRebuild(c),i.warn("Rtc switch VCodes. iceRebuild end.",c.id,d)},300)}},_onRecvResponse:function(e){var t=e.request,n=e.response;if(t&&n&&200!==t.op&&1002!==t.op&&0!==n.result){i.warn("Server refuse. when request = ",t);var r=e.failed;switch(r){case-9527:case-95270:break;case-500:case-502:case-504:case-508:case-510:this.close(4,r);break;case-506:this.close(11,r);break;case-501:this.close(11,r)}}},onServerRefuseEnter:function(e){var t=e.failed;switch(t){case-9527:case-95270:this.close(4,-9527);break;case-500:case-502:case-504:case-508:case-510:this.close(4,t);break;case-506:this.close(11,t);break;default:this.close(2)}},onEnterFail:function(){this.__getCopyInterval&&clearInterval(this.__getCopyInterval)},onNetworkChanaged:function(e){var t=this,n=e.nowIp;emedia.config.rebuildPeerConnectionWhenNetworkChanaged&&setTimeout(function(){var e={};r.forEach(t._cacheStreams,function(r,o){if(!t._maybeNotExistStreams[r]&&o._webrtc){var s=o._webrtc;e[o.rtcId]||(s.closed||"string"!=typeof s.useIp||s.useIp===n||(i.warn("network chanage. webrtc will rebuild.",s._rtcId,s.__id),t.onICEClosed(s)),e[o.rtcId]=!0)}})},100)},onEnterSuccess:function(){var e=this;setTimeout(function(){e._failIcesRebuild()},50),e.getCopyIntervalMillis&&e.getCopyIntervalMillis>0&&(i.warn("Run interval get copy. interval = ",e.getCopyIntervalMillis),e.__getCopyInterval&&clearInterval(e.__getCopyInterval),e.__getCopyInterval=setInterval(function(){e._session.connected()?e._sysCopy.apply(e):(i.warn("Warn! cannot get copy. cause offline."),e.__getCopyInterval&&clearInterval(e.__getCopyInterval))},e.getCopyIntervalMillis)),e.getMediaMeterIntervalMillis&&e.getMediaMeterIntervalMillis>0&&e._intervalGetMediaMeters()},_intervalGetMediaMeters:function(){var e=this;!function t(){e.__getMediaMetersIntervalFlag&&emedia.cancelAnimationFrame(e.__getMediaMetersIntervalFlag),e.getMediaMeterIntervalMillis?e.__getMediaMetersIntervalFlag=emedia.requestAnimationFrame(function(n){"function"==typeof emedia.AudioContext&&e._flushMediaMetersByAudioContext.apply(e),!1===e.closed&&t()},e.getMediaMeterIntervalMillis):i.warn("Ontalking closed. please use getMediaMeterIntervalMillis")}()},_flushMediaMetersByAudioContext:function(){var e=this;r.forEach(e._cacheStreams,function(t,n){e._monitSoundChanagedStreams&&!e._monitSoundChanagedStreams[t]||"0"!=n.id&&e._updateMetersOrNewOne.call(e,t,n)});var t=[];r.forEach(e._mediaMeters,function(n,r){var i=e._cacheStreams[n];i&&e._updateMetersOrNewOne.call(e,n,i),i||t.push(n)}),r.forEach(t,function(t,n){r.removeAttribute(e._mediaMeters,n)})},_updateMetersOrNewOne:function(e,t){var n=this,i=n._mediaMeters[e];if(!(2!==t.type||t.located()||t.subArgs&&t.subArgs.subSAudio)){var o=n._oneAudioMixers();if(!o||i&&i._webrtc&&o._webrtc.__id!=i._webrtc.__id)return i&&i._finally(),r.removeAttribute(n._mediaMeters,e),void n._onSoundChanage.call(n,t.owner,t)}return i&&i._streamCreateId===t.__create_id&&i.__mediaSoundMeter.__worked?(i.onSoundMeters(function(e){n._onSoundChanage.call(n,t.owner,t,e)}),i):(i&&(i._streamCreateId!==t.__create_id||i.__mediaSoundMeter.__worked)&&(i&&i._finally(),r.removeAttribute(n._mediaMeters,e),n._onSoundChanage.call(n,t.owner,t)),t.aoff?void 0:((i=n._newMediaMeters(t))&&(n._mediaMeters[e]&&n._mediaMeters[e]._finally(),n._mediaMeters[e]=i),i))},_newAudioContext:function(){if(emedia.__usingWebAudio)return emedia.__audioContext},_newMediaMeters:function(e){var t;if(2===e.type&&e.subArgs&&e.subArgs.subSAudio&&e._webrtc&&e._webrtc.getRemoteStream())return new e.StreamSoundMeter({_stream:e,_mediaStream:e._webrtc.getRemoteStream(),_webrtc:e._webrtc,__audioContext:this._newAudioContext()});if(2===e.type&&e.located())return new e.StreamSoundMeter({_stream:e,_mediaStream:e._localMediaStream,__audioContext:this._newAudioContext()});if(2===e.type&&!e.located()){var n=this._oneAudioMixers();if(!n||!n._webrtc||n._webrtc.closed)return;if(n&&(void 0===n._remoteMediaSoundMeters||!n._remoteMediaSoundMeters.__worked)&&n._webrtc&&n._webrtc.getRemoteStream()&&(n._remoteMediaSoundMeters=new n.MediaSoundMeter({_mediaStream:n._webrtc.getRemoteStream(),__audioContext:this._newAudioContext()})),!n._remoteMediaSoundMeters)return;return new e.StreamSoundMeter({_stream:e,_webrtc:n._webrtc,__mediaSoundMeter:n._remoteMediaSoundMeters})}return!e.aoff&&(t=e.getMediaStream())?new e.StreamSoundMeter({_stream:e,_mediaStream:t,__audioContext:this._newAudioContext()}):void 0},_oneAudioMixers:function(){var e=this._cacheStreams[0];if(e&&e._webrtc&&!e._webrtc.closed)return e;for(var t in this.audioMixers){var n=this.audioMixers[t];if(n.located())return n}},onWSClose:function(){this.__getCopyInterval&&clearInterval(this.__getCopyInterval),i.info("Websocket closed.")},onICEDisconnected:function(e){var t=this;t.__networkWeakInterval&&clearTimeout(t.__networkWeakInterval),t.__networkWeakInterval=setTimeout(function(){t.onNetworkWeak&&t.onNetworkWeak()},1e3),r.forEach(t._linkedStreams,function(n,o){o.rtcId==e.getRtcId()&&(t._maybeNotExistStreams[n]||(t._maybeNotExistStreams[n]=r.extend({},o)).updateAttributes({iceRebuildCount:1}),i.info("Stream maybe not exist. caused by disconnected",o.id))})},onICEConnectFail:function(e){var t=this;for(var n in t._linkedStreams){var s=t._linkedStreams[n];if(s.rtcId==e.getRtcId()){if(s._webrtc&&s._webrtc.__id!==e.__id){i.warn("Stream use other webrtc rtcId = ",s.rtcId,", id: ",s._webrtc.__id,e.__id);continue}var a;if((a=t._maybeNotExistStreams[n])||(a=t._maybeNotExistStreams[n]=r.extend({},s)).updateAttributes({iceRebuildCount:1}),a){var c=new o.StreamState({stream:a});c.iceFail(),t.onEvent(c)}if(i.info("ice fail. webrtc = ",e.getRtcId()," problem stream is ",a.iceRebuildCount,a.id),a.iceRebuildCount>emedia.config.iceRebuildCount)i.info("ice fail. webrtc = ",e.getRtcId()," rebuild fail. problem stream is ",a.id),a.located()?t.onEvent(new o.PushFail({stream:s,cause:"pub ice rebuild failed."})):t.onEvent(new o.SubFail({stream:s,cause:"sub ice rebuild failed."})),t.closeWebrtc(e.getRtcId(),!1);else{var u=t._records[a.id];a._localMediaStream?i.info("ice fail. webrtc = ",e.getRtcId()," will rebuild. remain local stream. ",a.id):i.info("ice fail. webrtc = ",e.getRtcId()," will rebuild.",a.id),t.closeWebrtc(e.getRtcId(),!0),u&&(t._records[a.id]=u),function(e){setTimeout(function(){t.iceRebuild(e)},emedia.config.iceRebuildIntervalMillis)}(a),i.info("ice fail. webrtc = ",e.getRtcId()," will rebuilding. problem stream is ",a.id)}2===s.type&&r.removeAttribute(t.audioMixers,s.id)}}},onICEClosed:function(e){if(e.closed){i.warn("Webrtc will be removed. by __id = ",e.__id,", rtcId = ",e.getRtcId());var t=r.removeAttribute(this._ices,e.__id);t?i.warn("Webrtc removed. by id = ",t.__id,", rtcId = ",t.getRtcId()):i.warn("Webrtc removed. by id = ",e.__id,", rtcId = ",e.getRtcId());var n=this._ices[e.getRtcId()];n&&n.__id===t.__id&&(t=r.removeAttribute(this._ices,e.getRtcId()),i.warn("Webrtc removed. by rtcId = ",t.getRtcId(),", __id = ",t.__id))}else i.info("ICE self closed. not allow. will rebuild",e.getRtcId()),this.onICEConnectFail(e)},onICEConnected:function(e){var t=this;r.forEach(t._cacheStreams,function(n,s){if(s.rtcId==e.getRtcId()){if(s.updateAttributes({finalVCodeChoices:e.finalVCodeChoices}),t._maybeNotExistStreams[n]){r.removeAttribute(t._maybeNotExistStreams,s.id),t._linkedStreams[n]=s,i.info("ice reconnected. webrtc = ",e.getRtcId(),"will update stream = ",s.id);var a=t._records[s.id];a&&a.rtcId!==s.rtcId&&(t.startRecord(s),i.warn("Re record. for ",s.id,", after rebuild ice.",a.rtcId,"->",s.rtcId))}else i.info("ice connected. webrtc = ",e.getRtcId(),s.id),s.located()&&t.onEvent(new o.PushSuccess({stream:s})),s.located()||t.onEvent(new o.SubSuccess({stream:s}));2===s.type&&(t.audioMixers[s.id]=s)}})},onICERemoteMediaStream:function(e){var t=this;r.forEach(t._cacheStreams,function(n,r){if(r.rtcId==e.getRtcId()&&(!r.located()||2===r.type)){var i=e.getRemoteStream();if(t._updateRemoteStream(r,i),r.onGotRemoteMediaStream)r.onGotRemoteMediaStream.call(r,i);else(r=t.newStream(r)).updateAttributes({mediaStream:e.getRemoteStream()}),t.onUpdateStream(r,new r.Update({mediaStream:r.mediaStream}))}})},_failIcesRebuild:function(){var e=this;r.forEach(e._maybeNotExistStreams,function(t,n){setTimeout(function(){e.iceRebuild(n)},100)})},iceRebuild:function(e){return this.connected()?this._linkedStreams[e.id]&&this._cacheStreams[e.id]?void(e.iceRebuildCount>emedia.config.iceRebuildCount?(i.info("ice rebuild fail. count too many. stream is ",e.id),e.located()?this.onEvent(new o.PushFail({stream:e,cause:"pub ice rebuild failed."})):this.onEvent(new o.SubFail({stream:e,cause:"sub ice rebuild failed."}))):this.connected()?(i.info("ice try rebuild. count",e.iceRebuildCount,". stream is ",e.id),this.rebuildIce(e),e.iceRebuildCount++):i.warn("ice rebuild. stop. cause by not websocket disconnect",e.id)):(i.info("ice rebuild fail. it yet closed. stream is ",e.id,e.rtcId),r.removeAttribute(this._maybeNotExistStreams,e.id),r.removeAttribute(this._linkedStreams,e.id),void i.warn("iceRebuild, remvoe from _linkedStreams",e.id)):(e.updateAttributes({iceRebuildCount:1}),void i.warn("Websocket disconnect. waiting. rebuild count reset",e.iceRebuildCount,e.id))},rebuildIce:function(e){this._cacheStreams[e.id]?(i.warn("Begin rebuild ice ",e.iceRebuildCount,e.id),e.located()?(e.updateAttributes({isRepublished:!0}),this.push(e,void 0,void 0,!0)):this.createWebrtcAndSubscribeStream(e.id),i.warn("Finish rebuild ice ",e.iceRebuildCount,e.id,this._cacheStreams[e.id].rtcId)):i.warn("Begin rebuild ice. not found stream at local",e.iceRebuildCount,e.id)},_sysCopy:function(){var e=this,t=e.newMessage().setOp(1e3).setCver(e._cver||0);e.postMessage(t,function(t){0==t.result?(e._cver||0)<t.cver&&(e._cver=t.cver,e.onMembers(t.cver,t.mems||{}),e.onStreams(t.cver,t.streams||{}),i.info("Got copy success.")):i.warn("Get copy fail. result = ",t.result)})}});e.exports=s},function(e,t,n){var r=n(72),i=r.tagLogger("Desktop"),o=n(208);window.__shareDesktopMessageCount__=0,e.exports=r.prototypeExtend({__RTC_PAGE_MSG_TYPE__:"RTC-SD-PAGE",__RTC_EXT_MSG_TYPE__:"RTC-SD-EXT",__init__:function(){var e=this;e.__extLoaded=e.rsdExtLoaded(),e.__extLoaded&&e.__onRsdExtLoad(),window.addEventListener("load",function(t){if(!e.__extLoaded){var n=e.rsdExtLoaded();e.__extLoaded=n}}),window.addEventListener("message",function(t){if(t.data){var n=t.data;n.type&&n.type===e.__RTC_EXT_MSG_TYPE__&&n.evname&&(i.info("got ext-msg: ",n),"extLoaded"!==n.evname?e.__onMessage(n):e.__extLoaded||(e.__extLoaded=!0,setTimeout(e.__onRsdExtLoad(),50)))}})},rsdExtLoaded:function(){var e=document.getElementById("RTC-Share-Deskto-installed-ele-rat1abrr");return!(!emedia.isElectron&&!e)},__sendMessage:function(e,t){var n=this,o="tsx_"+__shareDesktopMessageCount__+++"_"+Math.random().toString(36).substr(2,4);if(!n.__extLoaded)throw i.error("Rtc share desktop not loaded"),"Rtc share desktop not loaded";e.tsxId=o,n["on_"+o]=function(){t&&t.apply(n,arguments),r.removeAttribute(n,"on_"+o)},window.postMessage&&window.postMessage(e,"*")},__onMessage:function(e){var t=e.tsxId;this["on_"+t]&&this["on_"+t](e)},__onRsdExtLoad:function(){this.onExtLoaded&&this.onExtLoaded()},openDesktopMedia:function(e,t){if(emedia.isElectron)this.openDesktopMediaInElectron(e,t);else if(this.__extLoaded&&this.rsdExtLoaded()){var n={type:this.__RTC_PAGE_MSG_TYPE__,evname:"chooseDesktopMedia",screenOptions:e};this.__sendMessage(n,function(e){"onAccessApproved"===e.evname&&e.streamId?t(new o.OpenDesktopMedia({desktopStreamId:e.streamId})):t(new o.OpenDesktopMediaAccessDenied)})}else t(new o.ShareDesktopExtensionNotFound)},openDesktopMediaInElectron:function(e,t){e||(e=["screen","window"]);var n={types:e,thumbnailSize:{width:230,height:230}};emedia.electron.desktopCapturer.getSources(n).then(function(e){if("function"==typeof emedia.chooseElectronDesktopMedia){for(var n=0;n<e.length;n++){var r=e[n];r.hxThumbDataURL=r.thumbnail.toDataURL()}emedia.chooseElectronDesktopMedia(e,function(e){var n;n=e&&e.id?e.id:e,t(new o.OpenDesktopMedia({desktopStreamId:n}))},function(){t(new o.OpenDesktopMediaAccessDenied({message:function(){return"User denied access"}}))})}else t(new o.OpenDesktopMedia({desktopStreamId:e[0].id}))}).catch(function(e){return t(new o.OpenDesktopMediaAccessDenied({error:e}))})}})},function(e,t,n){var r,i=n(72),o=i.tagLogger("PCStats");e.exports=r=i.prototypeExtend({__init__:function(){this._webrtc||this._stream&&(this._webrtc=this._stream._webrtc),this.samplesDatas={},this.gatherResults={},this._bysamples={},!1!==this._inbound_&&(this._bysamples["inbound-rtp"]=["bytesRateReceived","packageLossRate","bytesReceived","packetsLost","packetsReceived","pliCount","framesDecoded"]),!1!==this._outbound_&&(this._bysamples["outbound-rtp"]=["bytesRateSent","bytesSent","packetsSent","qpSum","pliCount"])},_onGatherResult:function(e,t,n,r){if(this._service&&this._service.current&&emedia.config.remainLastStatsCount){var i=this._service.current._trackStats;i||(i=this._service.current._trackStats={});var o=(i[e]||(i[e]={}))[t];o||(o=i[e][t]={});var s=o[n];s||(s=o[n]=new Array(emedia.config.remainLastStatsCount)),void 0===s.curIndex&&(s.curIndex=0),s[s.curIndex]={data:r,timestamp:new Date},s.curIndex=(s.curIndex+1)%emedia.config.remainLastStatsCount}"function"==typeof this.onGatherResult&&this.onGatherResult(e,t,n,r)},stats:function(e){if(this._webrtc&&this._webrtc._rtcPeerConnection)return this._webrtc._rtcPeerConnection.getStats(e);o.warn("not found webrtc or peer connection")},statsOfTrack:function(e){if(!e instanceof window.MediaStreamTrack)throw o.error("selector not a MediaStreamTrack"),"selector not a MediaStreamTrack";return this.stats(e)},audioTrack:function(e){var t=e&&e.getAudioTracks();return t&&t.length?t[0]:void 0},videoTrack:function(e){var t=e&&e.getVideoTracks();return t&&t.length?t[0]:void 0},gatherTrack:function(e,t){var n=this;t=(t=e.kind||t)&&t.toLowerCase();var r=e.id;this.statsOfTrack(e).then(function(i){n.samplesDatas[r]||(n.samplesDatas[r]={});var s=n.samplesDatas[r];i.forEach(function(r,i){var a=n._bysamples[r.type],c=r.mediaType||i.indexOf("ideo")>=0&&"video"||i.indexOf("udio")>=0&&"audio"||void 0;if(a&&a.length&&(!0===emedia.config._printDebugStats&&o.debug(i,r,e,c,t),!c||c===t)){var u=s[r.type]||(s[r.type]={});a.forEach(function(n){var i=u[n]||(u[n]=[]),o={timestamp:r.timestamp,kind:r.mediaType||e.kind||t};o[n]="packageLossRate"===n?{packetsLost:r.packetsLost,packetsReceived:r.packetsReceived}:"bytesRateReceived"===n?r.bytesReceived:"bytesRateSent"===n?r.bytesSent:r[n],i.push(o)})}})})},gatherWebrtcMediaStream:function(e,t){var n=this;t?"audio"!==t.toLowerCase()?"video"!==t.toLowerCase()||e.getVideoTracks().forEach(function(e){n.gatherTrack(e,e.kind||t.toLowerCase())}):e.getAudioTracks().forEach(function(e){n.gatherTrack(e,e.kind||t.toLowerCase())}):e.getTracks().forEach(function(e){n.gatherTrack(e)})},gatherWebrtc:function(){this._webrtc._localStream&&this.gatherWebrtcMediaStream(this._webrtc._localStream),this._webrtc._remoteStream&&this.gatherWebrtcMediaStream(this._webrtc._remoteStream)},_gather_inbound_rtp_packageLossRate:function(e){if(!e||0===e.length)return 0;var t=0,n=0;if(e.length>1)for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];i.packageLossRate.packetsReceived!=o.packageLossRate.packetsReceived?(t+=(i.packageLossRate.packetsLost-o.packageLossRate.packetsLost)/(i.packageLossRate.packetsReceived-o.packageLossRate.packetsReceived),n++):(t=0,n=0)}return e.length>=emedia.config.statsSeconds&&e.shift(),0==n?0:t/n},_gatherBytesRate:function(e,t,n){if(!n||0===n.length)return 0;var r=n[n.length-1][t]-n[0][t],i=n[n.length-1].timestamp-n[0].timestamp;return n.length>=emedia.config.statsSeconds&&n.shift(),0===i?0:parseFloat(1e3*r/i).toFixed(2)},_gather:function(e,t,n){e=e.replace(/[^\w]/g,"_"),t=t.replace(/[^\w]/g,"_");var r=i.list("_gather",e,t).join("_");if("function"==typeof this[r])return this[r](n);if(t.startsWith("bytesRate"))return this._gatherBytesRate(e,t,n);var o=n.shift();return o&&o[t]||0},_statsCount:function(){var e=this;i.forEach(e.samplesDatas,function(t,n){!function(t,n,r){i.forEach(r,function(r,o){var s=n[r]||(n[r]={});!function(t,n,r,o){i.forEach(o,function(i,o){var s=n[i]=e._gather(r,i,o);e._onGatherResult(t,r,i,s)})}(t,s,r,o)})}(t,e.gatherResults[t]=e.gatherResults[t]||{},n)})},gather:function(){this.gatherWebrtc(),this._statsCount()},intervalGather:function(e){this._intervalId&&clearInterval(this._intervalId),this._intervalId=setInterval(this.gather.bind(this),e||1e3)},stopIntervalGather:function(){this._intervalId&&clearInterval(this._intervalId)}});var s={},a=r.echo=function(e){i.forEach(e,function(e,t){var n;!s[t.id]&&t._webrtc&&!t._webrtc.closed&&t.getMediaStream()?(s[t.id]=n=new r({_webrtc:t._webrtc}),n._mediaStream=t.getMediaStream()):!s[t.id]||t._webrtc&&!t._webrtc.closed&&t.getMediaStream()||i.removeAttribute(s,t.id)});var t=[];i.forEach(s,function(n,r){e&&e[n]?(r.gatherWebrtcMediaStream(r._mediaStream),r._statsCount()):t.push(n)}),i.forEach(t,function(e,t){i.removeAttribute(s,t)})};r.intervalEcho=function(e,t){return setInterval(function(){a(e)},t)},i.forEach(["inbound","outbound"],function(e,t){i.forEach(["Audio","Video"],function(e,n){!function(e,t){var n;r[e+t]=n=function(o,s,a){var c;n.__intervalIds||(n.__intervalIds={}),c=this instanceof emedia.XService?this:emedia.useCurrentXService;var u=o.id+"___"+c.namespace,d=n.__intervalIds&&n.__intervalIds[u];return d&&clearInterval(d),d=setInterval(function(){var a,l=n[u];(!l&&o&&o._webrtc&&!o._webrtc.closed&&o.getMediaStream()?(n[u]=l=new r({_webrtc:o._webrtc,_inbound_:"inbound"===e,_outbound_:"outbound"===e}),l._service=c,s&&(l.onGatherResult=s),l._mediaStream=o.getMediaStream()):!l||o&&o._webrtc&&!o._webrtc.closed&&o._webrtc.__id===l._webrtc.__id&&o.getMediaStream()&&l._mediaStream&&l._mediaStream.id===o.getMediaStream().id||(i.removeAttribute(n,u),l=null),l)?(l.gatherWebrtcMediaStream(l._mediaStream,t),l._statsCount()):o&&c&&(a=c.getStreamById(o.id))?o=a:d&&clearInterval(d)},a),n.__intervalIds[u]=d,d}}(t,n)})})},function(e,t,n){var r,i=n(72).tagLogger("DefaultTrack"),o=n(221);e.exports=r=o.extend({__init__:function(){var e,t;this._canvas||(this._canvas=(e=this._target,t=document.createElement("canvas"),e.appendChild(t),t.style.cssText="position: absolute; background: transparent; width: 100%; height: 100%",t.width=e.offsetWidth,t.height=e.offsetHeight,i.warn("Canvas",t.width,t.height),t)),this._canvasContext||(this._canvasContext=this._canvas.getContext("2d"))},resizeCanvas:function(){},_calPosition:function(){var e=o.prototype._calPosition.apply(this,arguments);return e.x=Math.floor(e.x*this._canvas.width/e.width),e.y=Math.floor(e.y*this._canvas.height/e.height),e},_draw:function(e,t,n,r,i,o){var s=this._canvasContext;(!t||t<=1)&&(t=2);var a=s.getImageData(e.x-t/2,e.y-t/2,t,t);a&&function(e,t,n,r,i){for(var o=0,s=e.data;o<s.length;o+=4){var a={r:void 0===t?s[o]:t,g:void 0===n?s[o+1]:n,b:void 0===r?s[o+2]:r,alpha:void 0===i?s[o+3]:i};s[o]=a.r,s[o+1]=a.g,s[o+2]=a.b,s[o+3]=a.alpha}}(a,n,r,i,o),s.putImageData(a,e.x,e.y)},redraw:function(e,t,n,i,o,s){r.prototype._draw.bind(this)({x:e,y:t},2)},onMouseTrigger:function(e,t){e.isLeftKey()&&this._draw(e.xy,8,189,56,51,255),e.isRightKey()&&this._draw(e.xy,8,45,23,189,255),e.isWheelKey()&&this._draw(e.xy,8,58,189,76,255)},onMouseTrack:function(e,t,n){this._draw(e,2,227,18,247,255)}})},function(e,t,n){var r=n(72),i=(r.tagLogger("MouseTrack"),n(222));e.exports=r.prototypeExtend({_scale:1,__init__:function(){},getTargetPageXY:function(){return this._target&&r.extend({},r.getDomPageRect(this._target))},onMouseTrack:function(e,t,n){},onMouseTrigger:function(e,t){},_onMouseTrack:function(e,t,n){this.onMouseTrack&&this.onMouseTrack(e,t,n)},_onMouseTrigger:function(e,t){this.onMouseTrigger&&this.onMouseTrigger(e,t)},track:function(e){var t=e=r.extend({},e),n=this.getTargetPageXY();n&&(t={x:(e=this._calPosition(e)).x,y:e.y,pageX:n.x+e.x,pageY:n.y+e.y}),this._onMouseTrack(t,this._lastPageXY,this._lastTrigger),this._lastPageXY=t},trigger:function(e){e=new i(e);var t,n=this.getTargetPageXY();n&&(t=this._calPosition(e.xy),e.xy={x:t.x,y:t.y,pageX:n.x+t.x,pageY:n.y+t.y}),e._time||(e._time=(new Date).getTime()),this._onMouseTrigger(e,this._lastTrigger),this._lastTrigger=e},releaseTrigger:function(){this._lastTrigger=void 0,this._lastPageXY=void 0,this.onReleaseTrigger&&this.onReleaseTrigger(this._lastTrigger)},_calPosition:function(e){this._referenceVideo&&(e=emedia.Service.prototype.eventXYAtVideo.call(null,e,this._referenceVideo));var t=this.getTargetPageXY();if(!t)return e;r.isFloat(e.x)&&void 0!==e.width&&(e.x=e.x*e.width*this._scale*(t.width/e.width)),r.isFloat(e.y)&&void 0!==e.height&&(e.y=e.y*e.height*this._scale*(t.height/e.height)),r.isFloat(e.x)&&void 0===e.width&&(e.x=e.x*this._scale*t.width),r.isFloat(e.y)&&void 0===e.height&&(e.y=e.y*this._scale*t.height),r.isInt(e.x)&&void 0!==e.width&&(e.x=e.x*this._scale*(t.width/e.width)),r.isInt(e.y)&&void 0!==e.height&&(e.y=e.y*this._scale*(t.height/e.height)),r.isInt(e.x)&&void 0===e.width&&(e.x=e.x*this._scale),r.isInt(e.y)&&void 0===e.height&&(e.y=e.y*this._scale);var n=Math.floor(e.x),i=Math.floor(e.y);return n<0&&(n=t.width+n),i<0&&(i=t.width+i),{x:n,y:i,width:t.width,height:t.height}}})},function(e,t,n){var r=n(72),i=(r.tagLogger("MouseTrigger"),{LEFT:1,WHEEL:2,RIGHT:4,WHEEL_ROLL_UP:8,WHEEL_ROLL_DOWN:16,KEY_UP:0,KEY_DOWN:1,MOVE:2,KEYBOARD_DOWN:3,KEYBOARD_UP:4});e.exports=r.prototypeExtend({_timeoutMillis:500,_time:(new Date).getTime(),isKeyup:function(){return i.KEY_UP==this.oper},isKeydown:function(){return i.KEY_DOWN==this.oper},isWheelup:function(){return i.WHEEL_ROLL_UP==this.btn},isWheeldown:function(){return i.WHEEL_ROLL_DOWN==this.btn},isLeftKey:function(){return i.LEFT==this.btn},isRightKey:function(){return i.RIGHT==this.btn},isWheelKey:function(){return i.WHEEL==this.btn},isWheelRoll:function(){return this.isWheeldown()||this.isWheelup()},timeout:function(){return(new Date).getTime()-this._time>=this._timeoutMillis},_toString:function(){return r.list("btn:",this.btn,", oper:",this.oper,", timeout:",this.timeout(),", at (",this.xy.x,", ",this.xy.y,")").join("")}}),e.exports.BTN=i},function(e,t,n){var r,i=n(144),o=(r=i)&&r.__esModule?r:{default:r};var s=n(72),a=s.tagLogger("AddonsP2P"),c=n(208);e.exports=function(e){return function(e,t,n){return e.extend({Session:t,Attendee:n,__init__:function(){e.prototype.__init__.call(this),void 0!==this.useRTCCfg&&!1!==this.useRTCCfg&&null!==this.useRTCCfg||(this.useRTCCfg=emedia.config.forceUseRTCCfgIfServerReturnWhenP2P)},push:function(t,n,r){if(this.current&&this.current.isP2P()){if(2===t.type)throw a.error("P2P do not allow audio_mixer"),"P2P do not allow audio_mixer";t instanceof this.AVPubstream&&!t.rtcId&&(this.current._cacheStreams["rtc-"+this.current.ticket.confrId+"__Caller"]||this.current._cacheStreams["rtc-"+this.current.ticket.confrId+"__Callee"]||(t.rtcId="rtc-"+this.current.ticket.confrId))}e.prototype.push.call(this,t,n,r)},newSession:function(t,n){var r=this,i=e.prototype.newSession.call(r,t,n),o=i.onTermC,u=i.onAnsC;return s.extend(i,{onInitC:function(e){if(t.isP2P()){if(e.rtcId==="rtc-"+t.ticket.confrId){var n=e.rtcId+(t.isCaller()?"__Callee":"__Caller");if((r=t._cacheStreams[n])&&r.owner&&r.owner.id!==e.memId)return t.rejectAnswer(e.memId,e.rtcId,10),void t.postMessage(t.newMessage({op:1001,memId:e.memId,tsxId:e.tsxId,result:-554,msg:"Other device call it. you no."}))}var r;e.pubS.sdp=e.sdp,e.pubS.cands=e.cands,e.pubS.id=e.rtcId+(t.isCaller()?"__Callee":"__Caller"),e.pubS._located=!1,e.pubS.memId=e.memId,e.pubS.rtcId=e.rtcId,e.pubS.sver=0,(r=t._cacheStreams[e.pubS.id])&&(e.pubS.sver=r.sver+1,s.removeAttribute(t._maybeNotExistStreams,e.pubS.id)),t.onPub.call(t,++t._cver,e.memId,e.pubS)}},onTermC:function(e){if(t.isP2P()){if(-20===e.endReason){var n=t._cacheStreams[e.rtcId+"__Caller"];return a.warn("Begin re-publish. 20",n),void(n&&r._republish(n))}if(e.memId&&e.memId!==t.getMemberId()){var i=[];return s.forEach(t._cacheStreams,function(e,t){i.push(t)}),i=i.sort(function(e,n){var r=-1;return e.id>n.id&&(r=1),t.isCallee()?0-r:r}),void s.forEach(i,function(n,r){r&&r.owner&&r.owner.id===e.memId&&e.rtcId===r.rtcId&&(-10!==e.endReason&&o.call(t,e),e.rtcId==="rtc-"+t.ticket.confrId&&t.onUnpub(++t._cver,e.memId,r.id),10===e.endReason&&t.onEvent(new c.OtherDeviceAnswer({rtcId:e.rtcId,stream:r}))),r&&r.owner&&r.owner.id===t.getMemberId()&&e.rtcId===r.rtcId&&(t.closeWebrtc(e.rtcId),t.onUnpub(++t._cver,r.owner.id,r.id))})}-10!==e.endReason&&o.call(t,e),10===e.endReason&&t.onEvent(new c.OtherDeviceAnswer({rtcId:e.rtcId}))}else o.call(t,e)},onAnsC:function(e){if(t.isP2P())if(t.__cache_[e.rtcId]){if(!0===t.__cache_[e.rtcId].answered)return a.warn("Webrtc ",e.rtcId,"had been ansC"),t.rejectAnswer(e.memId,e.rtcId,10),void t.postMessage(t.newMessage({op:1001,memId:e.memId,tsxId:e.tsxId,result:-554,msg:"Other device sub it. you no."}));try{if(e.pubS){var n=t.newStream(e.pubS);n.updateAttributes({_webrtc:t._ices[e.rtcId],rtcId:e.rtcId,id:e.rtcId+(t.isCaller()?"__Callee":"__Caller"),owner:t._cacheMembers[e.memId]}),t._cacheStreams[n.id]?t._cacheStreams[n.id]=n:t.onPub.call(t,++t._cver,e.memId,n),t.onEvent(new c.SubSuccess({stream:n,hidden:!0}))}var r=t._cacheMembers[e.memId];u.call(t,e),s.forEach(t._cacheMembers,function(n,i){n!==e.memId&&r.memName===i.memName&&t.rejectAnswer(n,e.rtcId,10)})}finally{t.__cache_[e.rtcId].answered=!0}}else a.warn("Webrtc ",e.rtcId,"not created. drop the answer");else u.call(t,e)}})}})}(e,function(e){var t=e.extend({postMessage:function(t,n){var r=this,i=t.tsxId;t.tsxId||(i=t.tsxId="MSG"+Date.now()+"-"+emedia.__session_globalCount++),e.prototype.postMessage.call(r,t,n),function(e){r.owner.isP2P()&&r._callbacks[e]&&setTimeout(function(){var t=r._callbacks[e];if(t&&1004===t.op){var n=r.newMessage({op:1001,tsxId:t.tsxId,memId:t.memId,result:0,msg:"3000ms not recv response. will success callback. "+t.tsxId});r.onMessage(n)}},3e3)}(i)},__modifyMessageForPost:function(t){var n=this;t=e.prototype.__modifyMessageForPost.call(n,t);var r=n.owner;if(r.isP2P()){if(102===t.op||105===t.op){var i=n.newMessage({op:1001,tsxId:t.tsxId,memId:t.memId,result:0,streamId:t.rtcId+(r.isCaller()?"__Caller":"__Callee"),sver:1});if(setTimeout(function(){n.onMessage(i)},100),!t._cached_){var a=s.extend({_cached_:!0},t);s.removeAttribute(a,"tsxId"),102===t.op&&(r.__cache_[t.rtcId]=[]).push(a),105===t.op&&r.__cache_[t.rtcId]&&r.__cache_[t.rtcId].push(a),r.__cache_[t.rtcId]&&(r.__cache_[t.rtcId].selfId=r.getMemberId())}}switch(s.removeAttribute(t,"_cached_"),t.memId&&(t=n.newMessage({op:1004,sessId:s.removeAttribute(t,"sessId"),memId:s.removeAttribute(t,"memId"),tsxId:s.removeAttribute(t,"tsxId"),arg:(0,o.default)(t)})),t.op){case 205:return i=n.newMessage({op:1001,tsxId:t.tsxId,result:0}),void setTimeout(function(){n.onMessage(i)},50);case 102:case 104:case 105:case 106:case 107:if(-10===t.endReason)return;case 1001:case 400:t=n.newMessage({op:1004,sessId:s.removeAttribute(t,"sessId"),tsxId:s.removeAttribute(t,"tsxId"),arg:(0,o.default)(t)});break;case 303:case 206:return}}return t},onP2PMessage:function(e){var t=this,n=t.owner;if(t.owner.isConfr())a.warn("Recv p2p ctrl message. when CONFR. ignore");else{var r=JSON.parse(e.arg);if(r.memId=e.memId,r.tsxId=e.tsxId,r.sessId=e.sessId,400===r.op&&(r.streamId=r.rtcId+(t.owner.isCaller()?"__Callee":"__Caller")),1001!==r.op){var i=t.newMessage({op:1001,tsxId:e.tsxId,memId:e.memId,sessId:e.sessId,result:0,msg:"Web sdk success recv"});102!==r.op&&105!==r.op||s.extend(i,{streamId:r.rtcId+(n.isCaller()?"__Callee":"__Caller"),sver:1}),t.postMessage(i)}!function(e){setTimeout(function(){t.onMessage(e)},10)}(r)}}});return s.extend(t.prototype._events,{1004:"onP2PMessage"}),t}((e.prototype.Session||n(207)).extend({})),function(e){return e.extend({__init__:function(){e.prototype.__init__.call(this),this.__cache_={};var t=this.iceRebuild;this.iceRebuild=function(e){this.isP2P()&&e.rtcId?e._webrtc&&!0===e._webrtc.answerWebrtc?a.warn("Stream not auto iceRebuild. caused by answer webrtc. it = ",e.id,e):e.located()?t.call(this,e):a.warn("Stream not auto iceRebuild. caused by not located. it = ",e.id,e):t.call(this,e)}},onEnter:function(t,n){var r=this;try{e.prototype.onEnter.call(r,t,n)}finally{if(!r.isP2P()||!(n=r._cacheMembers[n.id]))return;s.forEach(r.__cache_,function(e,t){!0!==t.answered&&s.forEach(t,function(e,t){!function(e){e.memId=n.id,r.postMessage(e)}(t)})})}},rejectAnswer:function(e,t,n,r){var i=this,o=i.newMessage().setOp(107).setRtcId(t).setMemId(e).setEndReason(n);i.postMessage(o,function(e){if(0!=e.result)return i.onEvent(new c.RspFail({request:o,response:e})),void(r&&r(new c.RspFail({request:o,response:e})))})},closeWebrtc:function(t,n,r){var i=this,o=!1;if(i.isP2P()){var c=i._ices[t];c&&(o=(o="failed"===c.iceConnectionState())&&c._rebuildCount<emedia.config.iceRebuildCount,a.warn("Webrtc state failed. it is ",t,c._rebuildCount,emedia.config.iceRebuildCount,c.__id))}if(e.prototype.closeWebrtc.call(i,t,n,r||o),i.isP2P()&&!r&&o&&s.forEach(i._cacheStreams,function(e,n){n.rtcId===t&&(i._linkedStreams[e]=n,a.warn("Reput stream to _linkedStreams",e))}),i.isP2P()&&!n){s.removeAttribute(i.__cache_,t);var u=s.extend({},i._cacheStreams);s.forEach(u,function(e,n){if(t===n.rtcId){s.removeAttribute(i._linkedStreams,n.id);var r=s.removeAttribute(i._cacheStreams,n.id);i._streamAutomators&&s.removeAttribute(i._streamAutomators,n.id),a.warn("P2P close webrtc. remove stream from _cacheStreams. it = ",n.id,n),r._localMediaStream&&i._service._stopTracks(r._localMediaStream),i.onRemoveStream&&(n=i.newStream(n),i.onRemoveStream(n))}})}},subscribeStream:function(t,n,r,i){if(this.isP2P()){var o=this._ices[t],s=this._cacheStreams[n];if(s.updateAttributes({_webrtc:o,rtcId:t}),i=i||{subSVideo:!0,subSAudio:!0},s.updateAttributes({subArgs:s.subArgs||{subSVideo:!0,subSAudio:!0}}),s._webrtc&&s._webrtc.setSubArgs(s._webrtc.subArgs||{subSVideo:!0,subSAudio:!0}),!s.subArgs.subSVideo&&i.subSVideo&&s.voff)throw a.error("Sub not allow. stream voff"),"Sub not allow. stream voff";if(!s.subArgs.subSAudio&&i.subSAudio&&s.aoff)throw a.error("Sub not allow. stream aoff"),"Sub not allow. stream aoff";if(s.subArgs.subSVideo&&!i.subSVideo&&!s.voff&&emedia.isSafari)throw a.error("Sub not allow. safari close sub video. will error"),"Sub not allow. safari close sub video. will error";i&&s._webrtc&&s._webrtc.setSubArgs(i),i&&s.updateAttributes({subArgs:i});var u=new c.SubSuccess({stream:s,hidden:!0});this._updateRemoteStream(s,s._webrtc.getRemoteStream()),this.onEvent(u)}else e.prototype.subscribeStream.call(this,t,n,r,i)},unsubscribeStream:function(t){this.isP2P()||e.prototype.unsubscribeStream.call(this,t)},onPub:function(t,n,r){if(this.isP2P())return e.prototype.onPub.call(this,t,n,r);e.prototype.onPub.call(this,t,n,r)},onStreams:function(t,n){this.isP2P()?a.warn("P2P ingrone the onStreams"):e.prototype.onStreams.call(this,t,n)},_howDoWebrtcWhenCrtExsitsWebrtc:function(t){this.isP2P()?this.closeWebrtc(t.getRtcId(),!0,!0):e.prototype._howDoWebrtcWhenCrtExsitsWebrtc.call(this,t)},createWebrtcAndSubscribeStream:function(t,n,r,i){if((o=this).isP2P()){var o=this;n||(n={});var u=o._cacheStreams[t],d=o._cacheMembers[u.owner.id],l=u;i=i||l.subArgs||{subSVideo:!0,subSAudio:!0};var f=u.vcodes,p=d.vcodes,h=o.supportVCodes,m=o._getOptimalVideoCodecsSubset(f,p,h);i=i||l.subArgs;var v=l.subArgs,_=!(l.vcodes&&l.vcodes.length>0),g={offerToReceiveAudio:!0,offerToReceiveVideo:i.subSVideo&&_};g.offerToReceiveAudio||g.offerToReceiveVideo||a.warn("offerToReceiveAudio == false and offerToReceiveVideo == false");var b=o.createWebrtc({_rtcId:l.rtcId,iceServerConfig:r,optimalVideoCodecs:m,offerOptions:g,onGotMediaStream:function(e){var t=new c.SubSuccess({stream:l,hidden:!0});n.onGotRemote&&n.onGotRemote(l),o.onEvent&&o.onEvent(t)}},l.iceRebuildCount),y=b.getRtcId();a.warn(y," sub stream ",t,m);var A=l._webrtc;if(l.updateAttributes({_webrtc:b,rtcId:y,owner:s.extend({},d)}),o._ices[y]=b,b.answerWebrtc=!0,i&&l._webrtc&&l._webrtc.setSubArgs(i),i&&l.updateAttributes({subArgs:i}),y==="rtc-"+o.ticket.confrId){o.__lastCalleePub;var w=o._cacheStreams[y+(o.isCaller()?"__Caller":"__Callee")];w=new o._service.AVPubstream(w||{constaints:{audio:!l.aoff,video:!l.voff}}),A&&A.getLocalStream()&&o._service._stopTracks(A.getLocalStream()),o._service.openUserMedia(w).then(function(){var e=o.newStream(w);e.updateAttributes({_localMediaStream:w.localStream,_webrtc:b,rtcId:b.getRtcId(),id:y+(o.isCaller()?"__Caller":"__Callee"),owner:{id:o.getMemberId(),nickName:o.nickName,name:o.sysUserId,ext:o.extObj}}),o.onEvent(new c.PushSuccess({stream:e,hidden:!0})),C(w.localStream),o.answerCall(y,w,S)},S)}else C(),o.answer(y,S)}else e.prototype.createWebrtcAndSubscribeStream.call(o,t,n,r,i);function S(e){a.warn("sub stream error",t,e),v&&l._webrtc&&l._webrtc.setSubArgs(v),v&&l.updateAttributes({subArgs:v}),e=new c.SubFail({stream:l,hidden:!0===e.hidden,cause:e}),n&&n.onEvent&&n.onEvent(e),o.onEvent&&o.onEvent(e)}function C(e){e&&b.setLocalStream(e),b.setRemoteDescription(l.sdp),l.cands&&l.cands.length>0&&b.addIceCandidate(l.cands)}}})}((e.prototype.Attendee||n(211)).extend({})))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.outer=void 0;var r=p(n(201)),i=p(n(149)),o=p(n(204)),s=p(n(178)),a=p(n(210)),c=p(n(156)),u=p(n(144)),d=n(225),l=p(n(205)),f=p(n(146));function p(e){return e&&e.__esModule?e:{default:e}}var h,m={};function v(e){if(e&&0!=(0,s.default)(e).length)if(e.key){var t=e.key,n=e.val,r=e.success,i=e.error,o=e.type;if(this.__current_confrId){var a=this._confrs[this.__current_confrId].roleToken;if(a){var c={roleToken:a,cattrs:[{key:t,val:n,op:o}]};$.ajax({type:"POST",url:emedia.config.restPrefix+"/easemob/rtc/confr/attrs/update",data:(0,u.default)(c),contentType:"application/json",success:function(e){r&&"function"==typeof r&&r(e)},error:function(e){i&&"function"==typeof i&&i(e)}})}else console.warn("roleToken is not have")}else console.warn("please set_confr_attrs after joined")}else console.warn("options.key is not have");else console.warn("options is not have")}function _(e,t){var n={type:"POST",url:emedia.config.restPrefix+"/easemob/rtc/confr/attrs/update",data:(0,u.default)({roleToken:e,cstate:{muteAll:t}}),contentType:"application/json"};return new c.default(function(e,t){$.ajax((0,a.default)({},n,{success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}}))})}d.single.onMemberJoin=function(e,t){emedia.decodeMemeberName(e),this.onMemberJoined(e,d.single._confr(t))},d.single.onMemberLeave=function(e,t,n){emedia.decodeMemeberName(e),this.onMemberExited(e,t,d.single._confr(n))},d.single._onRoleUpdated=function(e,t){this.onRoleChanged(e,d.single._confr(t))},d.single._onAddMemberStream=function(e,t){e&&emedia.decodeMemeberName(e.owner),this.onStreamAdded(e.owner,e,d.single._confr(t))},d.single._onRemoveMemberStream=function(e,t){e&&emedia.decodeMemeberName(e.owner),this.onStreamRemoved(e.owner,e,d.single._confr(t))},d.single._onUpdateMemberStream=function(e,t,n){e&&emedia.decodeMemeberName(e.owner),this.onStreamUpdated&&this.onStreamUpdated(e.owner,e,t,d.single._confr(n))},d.single.onExit=function(e,t,n){this.onConferenceExit(e,t,d.single._confr(n))},m.onMemberJoined=function(e){},m.onMemberExited=function(e,t){},m.onRoleChanged=function(e){},m.onStreamAdded=function(e,t){},m.onStreamRemoved=function(e,t){},m.onConferenceExit=function(e,t){},m.joinConferenceWithTicket=d.single.joinUseTicket,m.joinConference=d.single.joinUsePassword,m.getConferenceTkt=d.single.reqTkt,m.publish=function(e,t,n){return d.single.shareVideoWithAudio(e.video,e.audio,t,n)},m.unpublish=function(e){return d.single.hungup(e)},m.unsubscribe=function(e){return d.single.hungup(e)},m.exitConference=function(e){return d.single.exit(e||!1)},m.getConferenceInfo=function(e,t){return d.single.selectConfr(e,t)},m.createConference=d.single.createConfrSptMnPrg,m.grantRole=function(e,t,n){return d.single.chanageRoles(n,t,e.id)},m.degradeRole=function(e,t,n){if(e)if(t&&t instanceof Array!=0&&0!=t.length){if(n){var r=this._confrs[e];if(r){var i=r.role,o=r.roleToken;if(!(Number(n)>=Number(i))){var s={type:"POST",url:emedia.config.restPrefix+"/easemob/rtc/role/degrade",data:(0,u.default)({roleToken:o,uids:t,role:n}),contentType:"application/json"};return new c.default(function(e,t){$.ajax((0,a.default)({},s,{success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}}))})}console.warn("only degradeRole,oldRole: "+i+" >>> toRole: "+n)}else console.warn("confr is not exist")}}else console.warn("members is must Array also length > 0")},m.kickMembersById=function(e,t){return d.single.kickMember(t,e.id)},m.destroyConference=function(e){return d.single.disbandConfr(e,e.roleToken)},m.setConferenceAttrs=function(e){e.type="UPDATE",v.call(this,e)},m.deleteConferenceAttrs=function(e){e.type="DEL",v.call(this,e)},m.onConfrStateUpdated=function(e){var t=this,n=this.__current_confrId;if(n){var r=this._services[n];if(r){var i=r.current;i&&i.role&&i.role!=this.Role.ADMIN&&function(){var n=e.muteAll;if(void 0!==n){if(void 0===t._temp_muteAll)t._temp_muteAll=n;else{if(n===t._temp_muteAll)return;t._temp_muteAll=n}n?t.onMuteAll&&"function"==typeof t.onMuteAll&&t.onMuteAll():t.onUnMuteAll&&"function"==typeof t.onUnMuteAll&&t.onUnMuteAll()}}()}}},m.joinRoom=(h=(0,o.default)(r.default.mark(function e(t){var n,o,s,d,l,f,p,h,m,v,_,g,b,y,A,w,S,C,I,x;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){var t=emedia.config,n=t.restPrefix,r=t.appkey;if(!r)throw new Error("in joinRoom appkey is not defined");var i=n+"/"+r.split("#")[0]+"/"+r.split("#")[1]+"/conferences/room";return new c.default(function(t,n){var r={url:i,data:(0,u.default)(e),type:"POST",contentType:"application/json",success:function(e){e.error?n(e):t(e)},error:function(e){n(e)}};$.ajax(r)})},o=this,s=function(e){var t=emedia.config.restPrefix+"/easemob/rtc/req/ticket?_ct="+(new Date).getTime();e.region&&(t+="&REGION="+e.region),e.confrId&&(t+="&CONFRID="+e.confrId);var n={type:"POST",url:t,data:(0,u.default)(e),contentType:"application/json",dataType:"json"};return new c.default(function(e,t){$.ajax((0,a.default)({},n,{success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}}))})},d=t.roomName,l=t.password,f=t.role,p=t.config,h=this.identityName,m=this.identityToken,d){e.next=7;break}throw new Error("the roomName is required at joinRoom");case 7:if(l){e.next=9;break}throw new Error("the password is required at joinRoom");case 9:if(h){e.next=11;break}throw new Error("the memName is required at joinRoom");case 11:if(m){e.next=13;break}throw new Error("the token is required at joinRoom");case 13:if(f){e.next=15;break}throw new Error("the role is required at joinRoom");case 15:return v=(0,a.default)({roomName:d,password:l,memName:h,token:m},p),p&&p.supportWechatMiniProgram&&(v.useVCodes=["H264","VP8"]),e.next=19,n(v);case 19:return _=e.sent,g=_.confrId,b={uid:h,token:m,confrId:g,password:l,role:f,terminal:this._terminalInfo},e.next=24,s(b);case 24:return(y=e.sent).mixed=11===y.type||12===y.type,y.id=y.serverConfrId=y.confrId=g,this._confrs[g]=(0,i.default)(this._confrs[g]||{},y),A=y.ticket,S=(w=p||{}).nickName,C=w.ext,I=_.isCreator,e.next=33,o.joinConferenceWithTicket(g,A,(0,a.default)({nickName:S},C));case 33:return x=e.sent,I&&(x.isCreator=I),e.abrupt("return",x);case 36:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)}),m.requestToTalker=function(e){e?this._services[e].requestToTalker():console.warn("requestToTalker confrId is required")},m.requestToAdmin=function(e){e?this._services[e].requestToAdmin():console.warn("requestToTalker confrId is required")},m.muteBymemberId=function(e,t){e&&t?this._services[e].muteBymemberId(t):console.warn("muteBymemberId confrId and memberId is required")},m.unmuteBymemberId=function(e,t){e&&t?this._services[e].unmuteBymemberId(t):console.warn("muteBymemberId confrId and memberId is required")},m.muteAll=function(e){if(!e)throw new Error("muteAll confrId is required");var t=this._confrs[e];if(!t)throw new Error("confr is not exist");var n=t.role,r=t.roleToken;if(7!=n)throw new Error("only admin can action");if(!r)throw new Error("roleToken is not exist");return _.call(this,r,!0)},m.unmuteAll=function(e){if(!e)throw new Error("unmuteAll confrId is required");var t=this._confrs[e];if(!t)throw new Error("confr is not exist");var n=t.role,r=t.roleToken;if(7!=n)throw new Error("only admin can action");if(!r)throw new Error("roleToken is not exist");return _.call(this,r,!1)},m.addLive=function(e,t){if(!e)throw new Error("addLive confrId is required");if(!t)throw new Error("addLive liveCfg is required");var n=this._confrs[e];if(!n)throw new Error("confr is not exist");var r=n.role,i=n.roleToken;if(7!=r)throw new Error("only admin can addLive");if(!i)throw new Error("addLive roleToken is required");var o=emedia.config.restPrefix+"/easemob/rtc/livecfg",s={confrId:e,roleToken:i,liveCfg:t};return new c.default(function(e,t){$.ajax({url:o,type:"POST",data:(0,u.default)(s),contentType:"application/json",dataType:"json",success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}})})},m.updateLiveLayout=function(e,t,n){if(!e)throw new Error("updateLiveLayout confrId is required");if(!t)throw new Error("updateLiveLayout liveId is required");if(!n)throw new Error("updateLiveLayout regions is required");var r=this._confrs[e];if(!r)throw new Error("confr is not exist");var i=r.role,o=r.roleToken;if(7!=i)throw new Error("only admin can updateLiveLayout");if(!o)throw new Error("updateLiveLayout roleToken is required");var s=emedia.config.restPrefix+"/easemob/rtc/live/layout",a={confrId:e,liveId:t,regions:n,roleToken:o};return new c.default(function(e,t){$.ajax({url:s,type:"POST",data:(0,u.default)(a),contentType:"application/json",dataType:"json",success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}})})},m.deleteLive=function(e,t){if(!e)throw new Error("deleteLive confrId is required");if(!t)throw new Error("deleteLive liveId is required");var n=this._confrs[e];if(!n)throw new Error("confr is not exist");var r=n.role,i=n.roleToken;if(7==r){if(i){var o=emedia.config.restPrefix+"/easemob/rtc/delete/live",s={confrId:e,liveId:t,roleToken:i};return new c.default(function(e,t){$.ajax({url:o,type:"DELETE",data:(0,u.default)(s),contentType:"application/json",dataType:"json",success:function(n){0==n.error?e(n):t(n)},error:function(e){t(e)}})})}console.error("updateLiveLayout roleToken is required")}else console.warn("only admin can deleteLive")},emedia.decodeMemeberName=function(e){if("function"!=typeof emedia.decodeMemeberNameString)return e;if("string"==typeof e)return emedia.decodeMemeberNameString(e);if(l.default.isArray(e)){for(var t=0;t<e.length;t++)e[t]=emedia.decodeMemeberName(e[t]);return e}return e.name?(e.globalName=e.name,void(e.memName=e.name=emedia.decodeMemeberName(e.name))):e.memName?(e.globalName=e.memName,void(e.memName=e.name=emedia.decodeMemeberName(e.memName))):void 0},emedia.ConfrType=d.single.ConfrType,emedia.Role=d.single.Role,emedia.StreamType=d.single.StreamType,(0,f.default)(function(){var e=window.WebIM;if(e&&e.conn&&"function"==typeof e.conn.onOpened){var t=function(){emedia.decodeMemeberNameString=function(t){if("string"==typeof t){if(t.indexOf(e.conn.orgName)<0)return t;var n=t.indexOf("_");n<0?n=0:n++;var r=t.indexOf("@");return r<0&&(r=t.length),t.substring(n,r)}return t},d.single.setIdentity(e.conn.orgName+"#"+e.conn.appName+"_"+e.conn.user,e.conn.token),emedia.config({appkey:e.conn.appKey,restPrefix:e.conn.apiUrl})},n=e.conn.onOpened;e.conn.onOpened=function(){n.apply(e.conn,arguments),t()},e.conn.token&&t()}});t.outer=l.default.extend(d.single,m)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var r=m(n(201)),i=m(n(204)),o=m(n(210)),s=m(n(73)),a=m(n(144)),c=(m(n(156)),m(n(72))),u=m(n(146)),d=m(n(205)),l=m(n(226)),f=n(230),p=n(332),h=m(n(215));function m(e){return e&&e.__esModule?e:{default:e}}var v=c.default.tagLogger("mgr");window.emedia=window.emedia||{};function _(){this._confrs={},this._services={},this._events={},this._videos={},this.dns_current=0,this.dns_urls=["https://rs.easemob.com","http://182.92.174.78","http://112.126.66.111"],this.restPrefixArr=[],this.restIndex=0}_.prototype.ConfrType={COMMUNICATION:10,COMMUNICATION_MIX:11,LIVE:12,P2P:13,INTERCOMM:14},_.prototype.Role={ADMIN:7,TALKER:3,AUDIENCE:1},_.prototype.StreamType={VIDEO:0,DESKTOP:1,MIXVIDEO:2};var g;g={createConfr:"/easemob/rtc/req/ticket",reqTkt:"/easemob/rtc/req/ticket",chanageRoles:"/easemob/rtc/chanage/roles",disbandConfr:"/easemob/rtc/disband/conference",kickMember:"/easemob/rtc/kick/member",selectConfr:"/easemob/rtc/select/confr"},c.default.forEach(g,function(e,t){_.prototype[e]=function(n){var r=t;r=r+"?_ct="+(new Date).getTime(),n.region&&(r=r+"&REGION="+n.region),n.confrId&&(r=r+"&CONFRID="+n.confrId);var i,o,s=this.createUrl(r,e);return i=s,o=n,function(e){u.default.ajax({type:"POST",url:i,data:(0,a.default)(o),contentType:"application/json",dataType:"json",success:function(t,n,r){v.debug("REST: ",t," -> ",o,i),0===t.error?(c.default.removeAttribute(t,"error"),e.next(t),e.complete()):(c.default.extend(t,{errorType:"server_refuse"}),e.error(t))},error:function(t,n,r){var s={errorType:"http_error",error:t.status,errorMessage:r};v.debug("REST: ",s," -> ",o,i),e.error({errorType:"http_error",error:t.status,errorMessage:r})}})}}}),_.prototype.get_dns_config=function(){var e=this,t={url:this.dns_urls[this.dns_current]+"/easemob/server.json",dataType:"json",type:"GET",data:{app_key:encodeURIComponent(emedia.config.appkey)},success:function(t,n){var r=t.rest.hosts;r&&(e.restPrefixArr=r.filter(function(e){return"https"==e.protocol}),e.update_rest_prefix(),e.check_rest_prefix())},error:function(t,n,r){console.log("getHttpDNS error",t,r),e.dns_current++,e.dns_current<=e.dns_urls.length-1&&e.get_dns_config()}};v.info("get_dns_config options",t),$.ajax(t)},_.prototype.check_rest_prefix=function(){var e={grant_type:"password",password:"123456",timestamp:(new Date).getTime(),username:"e432598ea3a34ba8ba196df046efdf90"},t=this,n=emedia.config.appkey.split("#")[0],r=emedia.config.appkey.split("#")[1],i={url:emedia.config.restPrefix+"/"+n+"/"+r+"/token",data:(0,a.default)(e),type:"POST",contentType:"application/json",success:function(){v.info("check_rest_prefix success")},error:function(){v.error("check_rest_prefix error rest",emedia.config.restPrefix),t.restIndex++,t.restIndex<t.restPrefixArr.length&&(t.update_rest_prefix(),t.check_rest_prefix())}};$.ajax(i)},_.prototype.update_rest_prefix=function(){var e=this.restPrefixArr[this.restIndex],t=e.protocol+"://"+e.domain;emedia.config({restPrefix:t})},_.prototype.createUrl=function(e,t){return(emedia.config&&emedia.config.restPrefix||"")+e},_.prototype.setUrlCreator=function(e){this.createUrl=e.bind(this)},_.prototype.destroy=function(){},_.prototype.ZeroStream=h.default.extend({__init__:function(){this.type=2,this.id="0",this._located=!1,this.mutedMuted=!1},onGotRemoteMediaStream:function(e){if(!this.remotePlayAudioObject){this.id;var t=document.createElement("audio");t.style.display="none",t.id="__o_remote_play_audio_"+this.id,t.autoplay=!0,t.playsinline=!0,this.remotePlayAudioObject=t,document.body.appendChild(t)}this.remotePlayAudioObject.srcObject=e}}),_.prototype.setIdentity=function(e,t,n){emedia.config.isHttpDNS&&!window.WebIM&&this.get_dns_config(),this.identityName=e,this.identityToken=t,this.ext=n,this._terminalInfo={browser:emedia.browser,browserVersion:emedia.browserVersion,version:window._emediaVersion||emedia.config.version,userAgent:emedia.config.userAgent},v.info("set identity: ",e,t),this.destroy(),emedia.config({autoSub:!1,onlyEnter:!0})},_.prototype.EventsObservable=n(430).default;var b=(0,p.catchError)(function(e,t){throw v.error(e),e});function y(e,t){var n,r=this;if(arguments.length>=0&&"object"===(0,s.default)(arguments[0])){var i=arguments[0];e=i.confrId,t=i.password,n=i.role}var o=r._confr(e),a={uid:r.identityName,token:r.identityToken,confrId:o&&o.id||e,password:t,role:n,terminal:r._terminalInfo};return r._confrs[e]&&(a.roleToken=r._confrs[e].roleToken),f.Observable.create(_.prototype.reqTkt.call(r,a)).pipe((0,p.map)(function(t){return t.mixed=11===t.type||12===t.type,t.id=t.serverConfrId=t.confrId=e,r._confrs[e]=c.default.extend(r._confrs[e]||{},t),c.default.removeAttribute(t,"rtcCfg"),t}),b)}function A(e,t){var n=this._confr(e),r={uid:this.identityName,token:this.identityToken,confrId:n&&n.id||e,password:t};return n&&(r.password=t||n.password,r.roleToken=n.roleToken),f.Observable.create(_.prototype.selectConfr.call(this,r)).pipe(b)}function w(e,t,n){var r=this;if(r.joined(e))return(0,f.throwError)("had joined confr "+e+", if you want join again, please call exitConference");var i=r._events[e]=new r.EventsObservable(r,e,function(t){(function(e,t){}).call(r,e,t)});r.confrEventsObserver&&i.subscribe(r.confrEventsObserver);var o=r._service(e);return(o=r._services[e]=new emedia.XService({listeners:i,nickName:n&&n.nickName})).setup(t,n),f.Observable.create(function(t){if(emedia.config.uploadStats){r.upload_stats=new l.default(emedia);try{r.upload_stats.connect_ws()}catch(e){console.error("upload_stats.connect_ws error",e)}}o.join(function(n){if(r.upload_stats){var i=o.current._session._sessionId;r.upload_stats.join_success(i)}r.__current_confrId=e,r._confrs[e].joinId=n,r._confrs[e].role=o.current&&o.current.role,t.next(r._confrs[e]),t.complete()},function(e){r.upload_stats&&r.upload_stats.join_fail(),o.exit(),t.error({errorType:"join_fail",error:-200,errorMessage:e.message()})})}).pipe((0,p.concatMap)(function(t,n){return function(e,t,n){var r=this;return emedia.ctrl.support(n,function(t,n,i){r.onHasRemoteControl(t,n,i,e)},function(t,n,i){r.onRemoteFreeControl(t,n,i,e)}),v.info("support remote control. ",e,t),(0,f.of)(c.default.extend({},r._confrs[e]))}.call(r,e,t,o)}),(0,p.concatMap)(function(t,n){return function(e,t){var n=this,r=n._confr(e),i=n._service(e);switch(r.type){case 0:case 10:case 11:break;case 12:var o=new n.ZeroStream;if(i.current._cacheStreams[o.id]=o,i.current.role==O.Role.AUDIENCE)return R.call(n,e,o,!1,!0).pipe((0,p.concatMap)(function(){return(0,f.of)(c.default.extend({},n._confrs[e]))}));break;case 13:case 14:default:return(0,f.throwError)("not support conf type: "+r.type)}return(0,f.of)(c.default.extend({},n._confrs[e]))}.call(r,e,t)}),b)}function S(e,t,n){var r=this;return A.call(r,e,t,n).pipe((0,p.concatMap)(function(i,o){return function(e,t,n){var r=this;return y.call(r,e,t,n).pipe((0,p.concatMap)(function(t,i){return w.call(r,e,t.ticket,n)}))}.call(r,e,t,n)}))}function C(e,t){var n=this._service(e);return f.Observable.create(function(e){n.openUserMedia(t).then(function(){e.next(t),e.complete()},function(t){e.error({errorType:"open_user_media_fail",error:-201,errorMessage:t.message()})})}).pipe(b)}function I(e,t){var n=this._service(e);return f.Observable.create(function(e){n.push(t,function(t){e.next(t),e.complete()},function(t){e.error({errorType:"push_fail",error:-203,errorMessage:t.message()})})}).pipe(b)}function x(e,t,n){this._confr(n);var r=this._service(n);return(e="string"==typeof e?r.getStreamById(e):r.getStreamById(e.id))?t?d.default.isEqual(t,e.constaints.video)?E.call(this,n,e,0):function(e,t,n){var r=this._service(e);return f.Observable.create(function(e){var i={};d.default.isObject(t.constaints)&&(i=c.default.extend(!0,{},t.constaints)),i.video=n,r.chanageConstraints(t,i,function(t){e.error({errorType:"ChanageVideoConstraints_fail",error:-203,errorMessage:t.message()})},function(){e.next(r.getStreamById(t.id)),e.complete()})}).pipe(b)}.call(this,n,e,t):E.call(this,n,e,1):(0,f.throwError)("pub stream not exsits. it is "+e)}function M(e,t){if(this.upload_stats&&e&&t){var n=this._services[this.__current_confrId].current;if(n){var r={event:e,rtcId:t.rtcId,sId:t.id,sessionId:n._session._sessionId,streamType:t.type,voff:t.voff,aoff:t.aoff};this.upload_stats.upload_event(r)}}}function E(e,t,n){var r=this,i=r._service(e);return f.Observable.create(function(e){i.voff(t,n,function(t){e.error({errorType:"voff_fail",error:-203,errorMessage:t.message()})},function(){var o=i.getStreamById(t.id);e.next(o),e.complete();var s=1==n?8:6;M.bind(r)(s,o)})}).pipe(b)}function T(e,t,n){var r=this._confr(n),i=this._service(n);return(e="string"==typeof e?i.getStreamById(e):i.getStreamById(e.id))?r.type!==this.ConfrType.COMMUNICATION_MIX&&r.type!==this.ConfrType.LIVE||1!==e.type||t?function(e,t,n){var r=this,i=r._service(e);return f.Observable.create(function(e){i.aoff(t,n,function(t){e.error({errorType:"aoff_fail",error:-203,errorMessage:t.message()})},function(){var o=i.getStreamById(t.id);e.next(o),e.complete();var s=1==n?7:5;M.bind(r)(s,o)})}).pipe(b)}.call(this,n,e,t):(v.warn("confr mix. not allow desktop with audio."),(0,f.throwError)("confr mix. not allow desktop with audio.")):(0,f.throwError)("pub stream not exsits. it is "+e)}function R(e,t,n,r,i){var o=this,s="string"==typeof t?t:t.id,a=o._confr(e),u=o._service(e);return 2===t.type&&1==r&&0!=t.id&&(r=!1,v.warn("Mixed audio stream. not allow repeat sub audio. force reset subSAudio = false")),i&&c.default.targetDOM(i)&&o.streamBindVideo(s,i),f.Observable.create(function(e){u.subscribe(s,function(t){try{if("0"!=s){var n=u.getStreamById(s),r={video:n.subArgs?n.subArgs.subSVideo:!n.voff,audio:n.subArgs?n.subArgs.subSAudio:!n.aoff};2===n.type&&(r.audio=!0),o._onMemberMediaChanaged(n.owner,n,r,a.confrId)}}finally{e.next(t),e.complete()}},function(t){e.error({errorType:"sub_fail",error:-203,errorMessage:t.message()})},{subSVideo:n,subSAudio:r})}).pipe(b)}var k=c.default.extend(new _,{_confr:function(e){return e||(e=this.__current_confrId),this._confrs[e]},_service:function(e){return e||(e=this.__current_confrId),this._services[e]},getStreamById:function(e,t){var n=this._service(t);return n&&n.getStreamById(e)},getMemberById:function(e,t){var n=this._service(t);return n&&n.getMemberById(e)},streamBindVideo:function(e,t,n){(function(e,t,n){var r=this,i=r._service(n);e=i.current._cacheStreams["string"==typeof e?e:e.id];var o=t||r.crtAndReturnVideo(e.owner,e);if(o){r._videos[e.id]=o,o.setAttribute("autoplay","autoplay"),o.setAttribute("playsinline","playsinline"),o.setAttribute("hx_stream",e.id),e.aoff?o.setAttribute("aoff","aoff"):o.removeAttribute("aoff"),e.voff?o.setAttribute("voff","voff"):o.removeAttribute("voff"),e.ifMediaStream(function(e){o&&attachMediaStream(o,e),o.hasAttribute("flow")&&r.onMediaTransmission(o,function(e,t,n,r){(0,u.default)(o).trigger("onMediaTransmission",[e,t,n,r])})});var s=(0,u.default)(o);s.off("hungup"),s.on("hungup",function(t,i,o){r.hungup(e,n),o&&o()}),s.off("subscribe"),s.on("subscribe",function(t,i,o,s,a){e.located()?s&&s("local stream not allow sub"):(i=e.subArgs&&e.subArgs.subSVideo||!0,o=e.subArgs&&e.subArgs.subSAudio||!0,r.subscribe(e.owner,e,i,o,n).then(a).catch(s))}),s.off("pauseVideo"),s.on("pauseVideo",function(t,o,a){(e=i.current._cacheStreams["string"==typeof e?e:e.id]).located()?(s[0].__constaints_video=e.constaints&&e.constaints.video,r.pauseVideo(e,n).then(a).catch(o)):r.subscribe(e.owner,e,!1,e.subArgs&&e.subArgs.subSAudio||!e.aoff,n).then(a).catch(o)}),s.off("resumeVideo"),s.on("resumeVideo",function(t,o,a,c){(e=i.current._cacheStreams["string"==typeof e?e:e.id]).located()?(void 0===c&&(void 0!==(c=s[0].__constaints_video)&&null!=c||(c=!0)),s[0].__constaints_video=void 0,r.resumeVideo(e,c,n).then(a).catch(o)):r.subscribe(e.owner,e,!0,e.subArgs&&e.subArgs.subSVideo||!e.voff,n).then(a).catch(o)}),s.off("pauseAudio"),s.on("pauseAudio",function(t,i,o){e.located()?r.pauseAudio(e,n).then(o).catch(i):r.subscribe(e.owner,e,e.subArgs.subSVideo,!1,n).then(o).catch(i)}),s.off("resumeAudio"),s.on("resumeAudio",function(t,i,o){e.located()?r.resumeAudio(e,n).then(o).catch(i):r.subscribe(e.owner,e,e.subArgs.subSVideo,!0,n).then(o).catch(i)}),s.off("remoteControl"),s.on("remoteControl",function(t,i,s,a,c,u,d,l){if(e.located())throw v.error("not allow remote control at local"),"not allow remote control at local";r.remoteControl(e,o,o,i,s,a,c,u,d,l,n)}),s.off("chanageCamera"),s.on("chanageCamera",function(e,t,i){r.chanageCamera(n).then(i).catch(t)}),s.off("captureVideo"),s.on("captureVideo",function(e,t,i,s){var a=r.captureVideo(o,i,s,n);t&&t(a)}),s.off("capturePictureRemote"),s.on("capturePictureRemote",function(t,i,o){r.capturePictureRemote(e,!1,n).then(o).catch(i)}),s.off("freezeFrameRemote"),s.on("freezeFrameRemote",function(t,i,o){r.freezeFrameRemote(e,n).then(o).catch(i)}),s.off("zoomRemote"),s.on("zoomRemote",function(t,i,o,s){r.zoomRemote(e,i,n).then(s).catch(o)}),s.off("torchRemote"),s.on("torchRemote",function(t,i,o,s){r.torchRemote(e,i,n).then(s).catch(o)}),s.off("freeRemoteControl"),s.on("freeRemoteControl",function(t,i,o){try{r.freeRemoteControl(e,n)}finally{o&&o()}});var a={video:!e.voff,audio:!e.aoff,voff:e.voff,aoff:e.aoff};e.located()||(a={video:e.subArgs?e.subArgs.subSVideo:!e.voff,audio:e.subArgs?e.subArgs.subSAudio:!e.aoff,voff:e.voff,aoff:e.aoff}),s.trigger("onMediaChanaged",[a,e,e.owner,n]),o.getAttribute("sound")&&(i.current._monitSoundChanagedStreams=i.current._monitSoundChanagedStreams||{},i.current._monitSoundChanagedStreams[e.id]=e.id)}}).call(this,e,t,n)},getBindVideoBy:function(e){if("string"!=typeof e&&e&&e.id&&(e=e.id),"string"!=typeof e)throw v.error("Bad stream ",e),"Bad stream "+e;return this._videos[e]},createConfr:function(e,t,n,r){return function(e,t,n,r){var i=this,o=void 0,a=void 0;if(arguments.length>=0&&"object"===(0,s.default)(arguments[0])){var u=arguments[0];o=u.region,e=u.confrType,t=u.password,n=u.rec,r=u.recMerge,a=u.liveCfg}return"string"==typeof e&&(e=parseInt(e)),f.Observable.create(_.prototype.createConfr.call(i,{region:o,uid:i.identityName,token:i.identityToken,confrType:e,password:t,terminal:i._terminalInfo,rec:n,recMerge:r,liveCfg:a})).pipe((0,p.map)(function(e){return e.mixed=11===e.type||12===e.type,e.id=e.serverConfrId=e.confrId,i._confrs[e.confrId]=d.default.extend({},e),c.default.removeAttribute(e,"rtcCfg"),e}),b)}.apply(this,arguments).toPromise()},createConfrSptMnPrg:function(e,t,n,r){return function(e,t,n,r,i){var a=this,u={};if(arguments.length>=0&&"object"===(0,s.default)(arguments[0])){var l=arguments[0];u=(0,o.default)({uid:a.identityName,token:a.identityToken,terminal:a._terminalInfo},l)}else u={uid:a.identityName,token:a.identityToken,terminal:a._terminalInfo,confrType:e,password:t,rec:n,recMerge:r,supportWechatMiniProgram:i};return u.confrType&&(u.confrType=parseInt(u.confrType)),i&&(u.useVCodes=["VP8","H264"]),f.Observable.create(_.prototype.createConfr.call(a,u)).pipe((0,p.map)(function(e){return e.mixed=11===e.type||12===e.type,e.id=e.serverConfrId=e.confrId,a._confrs[e.confrId]=d.default.extend({},e),c.default.removeAttribute(e,"rtcCfg"),e}),b)}.apply(this,arguments).toPromise()},reqTkt:function(e,t){return y.apply(this,arguments).toPromise()},chanageRoles:function(e,t,n){return function(e,t,n){var r=this._confr(n),i=this._service(n),o={confrId:r&&r.id||n,uids:t,role:e,roleToken:r.roleToken};return f.Observable.create(_.prototype.chanageRoles.call(this,o)).pipe((0,p.map)(function(e){return i&&i.current&&i.current._sysCopy(),r.id}),b)}.apply(this,arguments).toPromise()},disbandConfr:function(e,t){return function(e,t){var n=this,r=n._confr(e),i={confrId:r&&r.id||e,roleToken:r&&r.roleToken||t};return f.Observable.create(_.prototype.disbandConfr.call(n,i)).pipe((0,p.map)(function(t){return setTimeout(function(){n.upload_stats&&(n.upload_stats.stop(),delete n.upload_stats)},3e3),c.default.removeAttribute(n._confrs,e),r.id}),b)}.apply(this,arguments).toPromise()},kickMember:function(e,t){return function(e,t){var n=this._confr(t),r={confrId:n&&n.id||t,uids:e,roleToken:n.roleToken};return f.Observable.create(_.prototype.kickMember.call(this,r)).pipe((0,p.map)(function(e){return n.id}),b)}.apply(this,arguments).toPromise()},selectConfr:function(e,t){return A.apply(this,arguments).toPromise()},joinUsePassword:function(e,t,n){return S.call(this,e,t,n).toPromise()},joinUseTicket:function(e,t,n){return w.call(this,e,t,n).toPromise()},joined:function(e){return e&&this._confrs[e]&&this._confrs[e].joinId},shareDesktopWithAudio:function(e){if(navigator.mediaDevices.getDisplayMedia&&!emedia.isElectron)return this.shareDesktopWithAudioNew(e);var t=e.videoConstaints,n=e.withAudio,r=e.videoTag,i=e.ext,o=e.confrId,s=e.sharedCallback,a=e.stopSharedCallback;return c.default.targetDOM(r)||(o=i,i=r,r=void 0),function(e){var t=e.confrId,n=e.constaints,r=e.videoTag,i=e.ext,o=e.stopSharedCallback,s=this,a=s._confr(t),u=s._service(t);if(u.current.role==s.Role.AUDIENCE)return(0,f.throwError)("Audience not allow publish");if(a.desktop)return(0,f.throwError)("desktop stream has been published. not allow repeat publish.");if((a.type===s.ConfrType.COMMUNICATION_MIX||a.type===s.ConfrType.LIVE)&&n.audio)return v.warn("confr mix. not allow desktop with audio."),(0,f.throwError)("confr mix. not allow desktop with audio.");n.audio||!a.av||a.av.aoff||v.warn("repeat audio. desktop and av");var d=a.desktop=new u.ShareDesktopPubstream({screenOptions:n.video&&n.video.screenOptions||["screen","window","tab"],mandatory:n.video&&n.video.mandatory||{},vbitrate:n.video&&n.video.bitrate,abitrate:n.audio&&n.audio.bitrate,aoff:n.audio?0:1,ext:i,onMediaInactive:function(){"function"==typeof o&&o()}});return C.call(s,a.id,d).pipe((0,p.concatMap)(function(e){return r&&c.default.targetDOM(r)&&attachMediaStream(r,e.localStream),I.call(s,a.id,e,i)}),(0,p.map)(function(e){return a.desktop=e,r&&c.default.targetDOM(r)&&s.streamBindVideo(a.desktop,r),c.default.extend({},e)}),(0,p.catchError)(function(e,t){throw a.desktop=void 0,v.error(e),e}))}.call(this,{confrId:o,constaints:{video:t,audio:n},videoTag:r,ext:i,sharedCallback:s,stopSharedCallback:a}).toPromise()},shareDesktopWithAudioNew:function(){var e=(0,i.default)(r.default.mark(function e(t){var n,i,o,s,a,c,u,d,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.confrId,i=t.withAudio,o=t.ext,s=t.video,a=t.stopSharedCallback,n){e.next=3;break}throw new Error("shareDesktop confrId is required");case 3:return c={video:s||!0,audio:i},e.next=6,navigator.mediaDevices.getDisplayMedia(c);case 6:return(u=e.sent)._located=!0,d={localStream:u,type:1,aoff:i?0:1,voff:0,constaints:c,_located:!0},e.prev=9,e.next=12,I.call(this,n,d,o).toPromise();case 12:return l=e.sent,u.getVideoTracks()[0].addEventListener("ended",function(){"function"==typeof a&&a(l.id)}),e.abrupt("return",l);case 17:e.prev=17,e.t0=e.catch(9);case 19:case"end":return e.stop()}},e,this,[[9,17]])}));return function(t){return e.apply(this,arguments)}}(),changeCamera:function(e){return function(e){var t=this._confr(e),n=this._service(e);return n.current.role==this.Role.AUDIENCE?(0,f.throwError)("Audience not allow publish"):f.Observable.create(function(e){n.chanageCamera(t.av,function(t){e.error({errorType:"switch_camera_fail",error:-203,errorMessage:t.message()})},function(){e.complete()})}).pipe(b)}.call(this,e).toPromise()},switchMobileCamera:function(e){return function(e){var t=this._confr(e),n=this._service(e);return n.current.role==this.Role.AUDIENCE?(0,f.throwError)("Audience not allow publish"):f.Observable.create(function(e){n.switchMobileCamera(t.av,function(t){e.error({errorType:"switch_camera_fail",error:-203,errorMessage:t.message()})},function(){e.complete()})}).pipe(b)}.call(this,e).toPromise()},shareVideoWithAudio:function(e,t,n,r,i){return c.default.targetDOM(n)||(i=r,r=n,n=void 0),function(e,t,n,r){var i=this,o=i._confr(e),s=i._service(e);if(s.current.role==i.Role.AUDIENCE)return(0,f.throwError)("Audience not allow publish");if(o.av)return(0,f.throwError)("Audio and video stream has been published. not allow repeat publish.");var a=o.mixed?s.AudioMixerPubstream:s.AVPubstream,u=o.av=new a({constaints:t,aoff:0,voff:0,ext:r});return C.call(i,o.id,u).pipe((0,p.concatMap)(function(e){return n&&c.default.targetDOM(n)&&attachMediaStream(n,e.localStream),I.call(i,o.id,e,r)}),(0,p.map)(function(e){return o.av=e,n&&i.streamBindVideo(o.av,n),o.type==i.ConfrType.LIVE&&i.hungup(0),c.default.extend({},e)}),(0,p.catchError)(function(e,t){throw o.av&&i.hungup(o.av),o.av=void 0,v.error(e),e}))}.call(this,i,{video:e,audio:t},n,r).toPromise()},captureVideo:function(e,t,n,r){return this._service(r).captureVideo(e,t,n)},openUserMedia:function(e,t){var n=this._service(t);return f.Observable.create(function(t){n.__getUserMedia(e,function(e,n){t.next(n),t.complete()},function(e){t.error(e)})}).pipe(b).toPromise()},mediaDevices:function(e){return"function"==typeof e&&(e=void 0),f.Observable.create(function(t){navigator.mediaDevices.enumerateDevices().then(function(n){for(var r=[],i=0;i!==n.length;++i){var o=n[i];o.deviceId;e||r.push(o),e&&e===o.kind?r.push(o):"audioinput"===o.kind||"audiooutput"===o.kind||"videoinput"===o.kind||v.info("Some other kind of source/device: ",o)}t.next(r),t.complete()}).catch(function(e){v.warn("navigator.getUserMedia error: ",e),t.error(e)})}).pipe(b).toPromise()},resumeVideo:function(e,t,n){return x.call(this,e,t||!0,n).toPromise()},pauseVideo:function(e,t){return x.call(this,e,!1,t).toPromise()},resumeAudio:function(e,t){return T.call(this,e,!1,t).toPromise()},pauseAudio:function(e,t){return T.call(this,e,!0,t).toPromise()},freezeFrameRemote:function(e,t){return function(e,t){"string"!=typeof t&&(t=t.id),this._confr(e);var n=this._service(e);return f.Observable.create(function(e){n.freezeFrameRemote(t,function(t){e.next(t),e.complete()},function(t){e.error({errorType:"freeze_remote_fail",error:-203,errorMessage:t.message()})})}).pipe(b)}.call(this,t,e).toPromise()},torchRemote:function(e,t,n){return function(e,t,n){"string"!=typeof t&&(t=t.id),this._confr(e);var r=this._service(e);return f.Observable.create(function(e){r.torchRemote(t,n,function(t){e.next(t),e.complete()},function(t){e.error({errorType:"torch_remote_fail",error:-203,errorMessage:t.message()})})}).pipe(b)}.call(this,n,e,t).toPromise()},zoomRemote:function(e,t,n){return function(e,t,n){"string"!=typeof t&&(t=t.id),this._confr(e);var r=this._service(e);return f.Observable.create(function(e){r.zoomRemote(t,n,function(t){e.error({errorType:"capture_remote_fail",error:-203,errorMessage:t.message()})},function(){e.complete()})}).pipe(b)}.call(this,n,e,t).toPromise()},capturePictureRemote:function(e,t){return function(e,t,n){"string"!=typeof t&&(t=t.id),this._confr(e);var r=this._service(e);return f.Observable.create(function(e){r.capturePictureRemote(t,n,function(t){e.next(t),e.complete()},function(t){e.error({errorType:"capture_remote_fail",error:-203,errorMessage:t.message()})})}).pipe(b)}.call(this,t,e,!1).toPromise()},focusExpoRemote:function(e,t,n,r){return function(e,t,n,r){"string"!=typeof t&&(t=t.id),this._confr(e);var i=this._service(e);return f.Observable.create(function(e){i.focusExpoRemote(t,n,r,function(t){e.error({errorType:"focusexpo_remote_fail",error:-203,errorMessage:t.message()})},function(){e.complete()})}).pipe(b)}.call(this,r,e,t,n).toPromise()},onFocusExpoRemoteWhenClickVideo:function(e,t,n,r){var i=this;return"function"==typeof t&&(r=n,n=t,t=void 0),(0,u.default)(e).off(t||"click"),(0,u.default)(e).on(t||"click",function(t){var o=e.getAttribute("hx_stream");i.focusExpoRemote(o,e,t).then(r).catch(n)}),t},offEventAtTag:function(e,t){t&&(0,u.default)(e).off(t)},hungup:function(e,t){var n;n="string"==typeof e?e:e.id||e+"";var r=this._service(t),i=this._confr(t);if(i&&r){r.hungup(n);var o=!1;if(i.av&&(o=i.av.id===n)&&(i.av=void 0),i.desktop&&i.desktop.id===n&&(i.desktop=void 0),o&&i.type==this.ConfrType.LIVE&&r.current.role==O.Role.AUDIENCE){var s=r.current&&r.current._cacheStreams[0];this.subscribe(r.current,s,!1,!0,t)}}else v.warn("when hungup stream. not found confr and service.",e)},subscribe:function(e,t,n,r,i,o){return c.default.targetDOM(i)||(o=i,i=void 0),R.call(this,o,t,n,r,i).toPromise()},exit:function(e,t){var n=this,r=n._service(t);r?(r.exit(e),setTimeout(function(){n.upload_stats&&(n.upload_stats.stop(),delete n.upload_stats)},3e3)):v.warn("when exit. not found service.",t)},_onExit:function(e,t,n){var r=this;try{r.__current_confrId=void 0,r.onExit(t,n,e)}finally{c.default.removeAttribute(r._confrs,e),c.default.removeAttribute(r._services,e),c.default.removeAttribute(r._videos,e),c.default.removeAttribute(r._events,e),r.cattrs=void 0,setTimeout(function(){r.upload_stats&&(r.upload_stats.stop(),delete r.upload_stats)},3e3)}},onExit:function(e,t,n){},_onRoleUpdated:function(e,t){},onMemberJoin:function(e,t){},onMemberLeave:function(e,t,n){},_onRecvRemoteMessage:function(e,t,n){},crtAndReturnVideo:function(e,t,n){},unloadVideo:function(e,t,n,r){},remoteControl:function(e,t,n,r,i,o,s,a,c,u,d){var l=this._service(d);r=!!r;var f="string"==typeof e?e:e.id;r?emedia.ctrl.mirrorControlled(l,f,t,n,i,o,s,a,c,u):emedia.ctrl.controlled(l,f,t,n,i,o,s,a,c,u)},freeRemoteControl:function(e,t){var n=this._service(t),r="string"==typeof e?e:e.id;emedia.ctrl.disControlled(n,r)},zeptoTrigger:function(e,t){var n=[];return Array.prototype.push.apply(n,Array.prototype.slice.call(arguments,2)),f.Observable.create(function(r){var i=[function(){r.error.apply(r,arguments)},function(){r.next.apply(r,arguments),r.complete()}];Array.prototype.push.apply(i,n),(0,u.default)(e).trigger(t,i)}).pipe(b).toPromise()},_onAddMemberStream:function(e,t){},_onRemoveMemberStream:function(e,t){},_onUpdateMemberStream:function(e,t,n){},_onMemberMediaChanaged:function(e,t,n,r){var i=this._videos[t.id];n&&(n.voff=t.voff,n.aoff=t.aoff),i&&(0,u.default)(i).trigger("onMediaChanaged",[n,t,e,r])},onMediaChanaged:function(e,t){this.addVideoEventListener(e,"onMediaChanaged",t)},_onMemberSoundChanaged:function(e,t,n,r){var i=this._videos[t.id];i&&(0,u.default)(i).trigger("onSoundChanaged",[n,t,e,r])},onSoundChanaged:function(e,t){if(!emedia.config.getMediaMeterIntervalMillis||emedia.config.getMediaMeterIntervalMillis<=0)throw v.error("monit sound chanaged not config. please config getMediaMeterIntervalMillis"),"monit sound chanaged not config. please config getMediaMeterIntervalMillis";e.setAttribute("sound","sound"),this.addVideoEventListener(e,"onSoundChanaged",t)},onMediaTransmission:function(e,t){if(emedia.helper&&"function"==typeof emedia.helper.inboundVideo){var n=this._service(),r=e.getAttribute("hx_stream"),i=r&&n.getStreamById(r),o=e.getAttribute("flowWebrtc");i&&i._webrtc&&o==i._webrtc.__id||(e.hasAttribute("flow")&&i&&i._webrtc?(i.located()?emedia.helper.outboundVideo(i,t,1e3):emedia.helper.inboundVideo(i,t,1e3),e.setAttribute("flowWebrtc",i._webrtc.__id)):(this.addVideoEventListener(e,"onMediaTransmission",t),e.setAttribute("flow","flow")))}else v.warn("please import helper. <script>")},_onTalking:function(e,t,n,r){},_onNotSupportMemberPublishVideoCodecs:function(e,t,n){var r=this._videos[t.id];r&&(0,u.default)(r).trigger("onNotSupportVideoCodecs",[t,e,n])},onNotSupportVideoCodecs:function(e,t){this.addVideoEventListener(e,"onNotSupportVideoCodecs",t)},_onStreamIceStateChanged:function(e,t,n,r){var i=this._videos[t.id];i&&(0,u.default)(i).trigger("onIceStateChanged",[n,t,e,r])},onIceStateChanged:function(e,t){this.addVideoEventListener(e,"onIceStateChanged",t)},onHasRemoteControl:function(e,t,n,r){var i=this._videos[e.id];i&&(0,u.default)(i).trigger("onRemoteControl",[t,n,e,r])},onRemoteControl:function(e,t){this.addVideoEventListener(e,"onRemoteControl",t)},onRemoteFreeControl:function(e,t,n,r){var i=this._videos[e.id];i&&(0,u.default)(i).trigger("onFreeControl",[t,n,e,r])},onFreeControl:function(e,t){this.addVideoEventListener(e,"onFreeControl",t)},addVideoEventListener:function(e,t,n){(0,u.default)(e).off(t),(0,u.default)(e).on(t,function(){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);n&&n.apply(e,t)})}});d.default.each(["hungup","subscribe","pauseVideo","resumeVideo","pauseAudio","resumeAudio","chanageCamera","freeRemoteControl","capturePictureRemote","freezeFrameRemote"],function(e,t){var n=e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()});k["trigger"+n]=function(t){var n=[];return n.push(t),n.push(e),Array.prototype.push.apply(n,Array.prototype.slice.call(arguments,1)),k.zeptoTrigger.apply(k,n)}}),k.triggerTorchRemote=function(e,t){return f.Observable.create(function(n){(0,u.default)(e).trigger("torchRemote",[t,function(){n.error.apply(n,arguments)},function(){n.next.apply(n,arguments),n.complete()}])}).pipe(b).toPromise()},k.triggerZoomRemote=function(e,t){return f.Observable.create(function(n){(0,u.default)(e).trigger("zoomRemote",[t,function(){n.error.apply(n,arguments)},function(){n.next.apply(n,arguments),n.complete()}])}).pipe(b).toPromise()},k.triggerSubscribe=function(e,t,n){return f.Observable.create(function(r){(0,u.default)(e).trigger("subscribe",[t,n,function(){r.error.apply(r,arguments)},function(){r.next.apply(r,arguments),r.complete()}])}).pipe(b).toPromise()},k.triggerRemoteControl=function(e,t,n,r,i,o,s,a){(0,u.default)(e).trigger("remoteControl",[t,n,r,i,o,s,a])},k.triggerCaptureVideo=function(e,t,n){return f.Observable.create(function(r){(0,u.default)(e).trigger("captureVideo",[function(){r.next.apply(r,arguments),r.complete()},t,n])}).pipe(b).toPromise()};var O=t.single=k},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(227)),i=p(n(201)),o=p(n(204)),s=p(n(149)),a=p(n(73)),c=p(n(144)),u=p(n(178)),d=p(n(228)),l=p(n(229)),f=p(n(208));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){(0,d.default)(this,e),this.emedia=t,this.streams=[],this._intervals_get=null,this._intervals_upload=null,this.data=[],this.counterId=1,this.prev_obj={},this.sessionId=null,this.network_quality_obj={},this.network_quality_threshold={RTT:{time:8e3,value:500},aPLR:{time:8e3,value:18},vPLR:{time:8e3,value:23},disconnect:{time:5e3}},this.re_timer_count=0}return(0,l.default)(e,[{key:"_get_url",value:function(){var e="",t=this.emedia.useCurrentXService.current;if(!t)return e;var n=t.ticket,r=n.qoeUpUrl,i=n.memName;i=i.split("_")[1];var o=emedia.config.appkey;return e=r+"?orgName="+o.split("#")[0]+"&appName="+o.split("#")[1]+"&memName="+i+"&ts="+(new Date).getTime()+"&access_token="+emedia.mgr.identityToken}},{key:"connect_ws",value:function(){var e=this._get_url();if(e){var t=new WebSocket(e),n=this;t.onopen=function(){console.log("upload stats ws connected"),n.ws_connected=!0,n.socket=t,n.re_connect&&(console.log("has Reconnectioned"),console.log("before joinS"),n.sessionId&&(console.log("have sessID"),n.join_success(n.sessionId)))},t.onclose=function(e){n._stop_timer(),n.ws_connected=!1,console.error("upload stats ws close",e),!n.exited_meeting&&navigator.onLine&&n.reconnection()},t.message=function(e){console.log("upload stats ws recv msg",e)},t.onerror=function(e){console.error("upload stats ws error",e)},window.addEventListener("online",function(){n.re_timer_count=0,n.reconnection()})}else console.error("upload stats not have ws url")}},{key:"reconnection",value:function(){if(!this.ws_connected){var e=this;this.reconnection_timer=setInterval(function(){e.ws_connected||e.re_timer_count>=10?clearInterval(e.reconnection_timer):(console.log("reconnection..."),e.re_connect=!0,e.connect_ws(),e.re_timer_count++)},5e3)}}},{key:"start",value:function(){this._intervals_get=setInterval(this.get.bind(this),2e3),this._intervals_upload=setInterval(this.upload.bind(this),500)}},{key:"join_success",value:function(e){e&&(this.sessionId=e,this.data.unshift(this._get_init_data()),this.start())}},{key:"join_fail",value:function(){this.socket&&this.socket.send({type:0,result:1,errorInfo:"join fail"})}},{key:"get",value:function(){if(this.emedia.useCurrentXService&&this.emedia.useCurrentXService.current&&this.emedia.useCurrentXService.current._cacheStreams){var e=this.emedia.useCurrentXService.current._cacheStreams,t=this;(0,u.default)(e).map(function(n){t.push_stats_to_data(e[n])})}}},{key:"upload",value:function(){if(0!=this.data.length){if(this.socket){var e=this.data.shift();void 0==e.counterId&&(e.counterId=this.counterId,this.counterId=this.counterId+1),this.socket.send((0,c.default)(e))}}else console.warn("upload_stats upload fun -- this.data.length == 0")}},{key:"upload_event",value:function(e){if(e){var t=this._get_format_event_obj(e);t&&this.data.splice(1,0,t)}}},{key:"_get_format_event_obj",value:function(e){var t={type:2,time:(new Date).getTime()};if("object"!=(0,a.default)(e.event)&&void 0!=e.event)return(0,s.default)(t,e);var n=this.sessionId;if(e instanceof f.default.ICEConnected){var r=this._get_ice_connect_state_obj(e.webrtc,2);t=(0,s.default)(t,r)}else if(e instanceof f.default.ICEConnectFail){var i=this._get_ice_connect_state_obj(e.webrtc,4);t=(0,s.default)(t,i)}else if(e instanceof f.default.ICEDisconnected){var o=this._get_ice_connect_state_obj(e.webrtc,5);t=(0,s.default)(t,o)}else if(e instanceof f.default.PushSuccess){if(!e.hidden)return;var c=e.stream,u={event:14,sessionId:n,rtcId:c.rtcId,voff:c.voff,aoff:c.aoff,streamType:c.type,result:0};t=(0,s.default)(t,u)}else if(e instanceof f.default.SubSuccess){var d=e.stream,l=d.rtcId,p=d.id,h=d.type,m=d.memId,v={event:16,rtcId:l,sId:p,sessionId:n,result:0,streamType:h,subMemName:d.memName,subMemId:m};t=(0,s.default)(t,v)}else if(e instanceof f.default.EnterSuccess){var _={event:0,ip:e.ip};t=(0,s.default)(t,_)}return void 0!=t.event?t:void 0}},{key:"_get_ice_connect_state_obj",value:function(e,t){var n=this.emedia.useCurrentXService.current,r=null;for(var i in n._linkedStreams)n._linkedStreams[i].rtcId==e.getRtcId()&&(r=n._linkedStreams[i]);if(!r)return{};var o={event:20,rtcId:r.rtcId,connState:t,isPub:r.located(),sId:r.id,rtcCfg:r.rtcCfg,voff:r.voff,aoff:r.aoff};if(!r.located()){var a={subSId:r.id,subMemName:r.memName,subMemId:r.memId,subVideo:r.subSVideo,subAudio:r.subSAudio};o=(0,s.default)(o,a)}return o}},{key:"stop",value:function(){this.exited_meeting=!0,this.socket.close(),this._stop_timer()}},{key:"_stop_timer",value:function(){clearInterval(this._intervals_get),clearInterval(this._intervals_upload)}},{key:"push_stats_to_data",value:function(){var e=(0,o.default)(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._webrtc){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t._webrtc._rtcPeerConnection.getStats();case 4:n=e.sent,r=this._get_format_upload_obj(n,t),this.data.push(r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_get_init_data",value:function(){var e=this.emedia.useCurrentXService.current;if(e){var t=this.emedia.config,n=t.appkey,r=t.version,i=e.confrId,o=e._memberId,s=e.memName,a=this.sessionId,c=this.emedia,u=c.browser,d=c.browserVersion;c.isWifi;return{type:0,counterId:0,appkey:n,confrId:i,memId:o,memName:s,time:(new Date).getTime(),joinConfrTime:e.ticket.timestamp,sessionId:a,networkType:"WIFI",sdkOS:"Web",sdkVersion:r,deviceInfo:u,osVersion:d,result:0}}}},{key:"_get_format_upload_obj",value:function(e,t){var n={type:1,time:(new Date).getTime(),streamType:t.type,sId:t.id,rtcId:t.rtcId};if(t.located()){n.isPub=!0;var r=this._get_outbound_stats(e);n=(0,s.default)(n,r)}else{n.isPub=!1,n.subMemName=t.memName,n.subMemId=t.memId;var i=this._get_inbound_stats(e);n=(0,s.default)(n,i)}return n=this._calc_KBps_and_PLR(n),n=this._set_stats_int(n)}},{key:"_get_outbound_stats",value:function(e){var t={};return e.forEach(function(e){"outbound-rtp"==e.type&&("audio"==e.mediaType&&(t.aP=e.packetsSent,t.aB=e.bytesSent),"video"==e.mediaType&&(t.vW=e.frameWidth,t.vH=e.frameHeight,t.vP=e.packetsSent,t.vB=e.bytesSent)),"remote-inbound-rtp"==e.type&&("audio"==e.kind&&(t.aPL=e.packetsLost),"video"==e.kind&&(t.vPL=e.packetsLost)),"media-source"==e.type&&("audio"==e.kind&&(t.audioInputLevel=1e3*e.audioLevel),"video"==e.kind&&(t.vFps=e.framesPerSecond)),"candidate-pair"==e.type&&(t.RTT=1e3*e.totalRoundTripTime/e.responsesReceived)}),t}},{key:"_get_inbound_stats",value:function(e){var t={};return e.forEach(function(e){"inbound-rtp"==e.type&&(("audio"==e.kind||e.id.indexOf("AudioStream")>-1)&&(t.aP=e.packetsReceived,t.aPL=e.packetsLost,t.aB=e.bytesReceived),("video"==e.kind||e.id.indexOf("VideoStream")>-1)&&(t.vP=e.packetsReceived,t.vPL=e.packetsLost,t.vB=e.bytesReceived)),"track"==e.type&&("video"==e.kind&&(t.vW=e.frameWidth,t.vH=e.frameHeight,t.vFR=e.framesReceived),"audio"==e.kind&&(t.audioInputLevel=1e3*e.audioLevel)),"candidate-pair"==e.type&&(t.RTT=1e3*e.totalRoundTripTime/e.responsesReceived)}),t}},{key:"_calc_KBps_and_PLR",value:function(e){var t=e.sId,n=e.aB,r=e.vB,i=e.time;e.aKBps=this._get_KBps_by_sId(t,"audio",n,i)||0,e.vKBps=this._get_KBps_by_sId(t,"video",r,i)||0;var o=e.aP,s=e.aPL,a=e.vP,c=e.vPL,u=this._get_PLR_by_sId(t,"audio",o,s),d=this._get_PLR_by_sId(t,"video",a,c);if((u||0==u)&&(e.aPLR=u),(d||0==d)&&(e.vPLR=d),!e.isPub){var l=e.vFR;if(this.prev_obj[t]&&this.prev_obj[t].video&&this.prev_obj[t].video.framesReceived){var f=this.prev_obj[t].time,p=(l-this.prev_obj[t].video.framesReceived)/((i-f)/1e3);p<0&&(p=0),e.vFps=p}}var h=this._get_w_quality(e);if(2!=h){var m={time:(new Date).getTime(),event:4,type:2,counterId:this.counterId,sessionId:this.sessionId,rtcId:e.rtcId,sId:e.sId,isPub:e.isPub,streamType:e.sId,aoff:e.aoff,voff:e.voff,subMemName:e.subMemName,subMemId:e.subMemId};this.data.push(m)}if(this.emedia.mgr&&this.emedia.mgr.onNetworkQuality){var v=this.emedia.mgr.onNetworkQuality;"function"==typeof v&&v(e.sId,h)}return this._set_prev_obj(e),delete e.aB,delete e.vB,delete e.vFR,delete e.RTT,e}},{key:"_set_stats_int",value:function(e){var t=["audioInputLevel","vKBps","vFps","vW","vH","vP","vPL","vPLR","aKBps","aP","aPL","aPLR"];for(var n in e)t.indexOf(n)>-1&&(e[n]=Math.round(e[n]));return e}},{key:"_get_KBps_by_sId",value:function(e,t,n,r){if(!e||!t||!n)return null;var i=this.prev_obj[e];if(!i||!i[t]||!i[t].bytes)return null;var o=i.time,s=i[t].bytes,a=parseInt(r-o),c=n-s;return c<0&&(c=0),c/(a/1e3).toFixed(2)/1e3}},{key:"_get_PLR_by_sId",value:function(e,t,n,r){if(!e)return null;if(!t||!n||!r)return 0;var i=this.prev_obj[e];if(!(i&&i[t]&&i[t].packets&&i[t].packets_lost))return 0;var o=i[t],s=o.packets,a=r-o.packets_lost,c=a/(n-s+a);return c=Math.round(100*c)}},{key:"_set_prev_obj",value:function(e){var t=e.sId;if(t){var n=e.aB,r=e.vB,i=e.time,o=e.aP,s=e.aPL,a=e.vP,c=e.vPL,d=e.vFR,l={},f={};n&&(l.bytes=n),o&&(l.packets=o),(s||0==s)&&(l.packets_lost=s),r&&(f.bytes=r),a&&(f.packets=a),(c||0==c)&&(f.packets_lost=c),d&&(f.framesReceived=d),0==(0,u.default)(l).length&&0==(0,u.default)(f).length||(this.prev_obj[t]||(this.prev_obj[t]={}),this.prev_obj[t].time=i,(0,u.default)(l).length>0&&(this.prev_obj[t].audio=l),(0,u.default)(f).length>0&&(this.prev_obj[t].video=f))}}},{key:"_get_w_quality",value:function(e){e.RTT,e.aPLR,e.vPLR;var t=e.time,n=e.vKBps,i=e.aKBps,o=e.sId;if(!o)return 2;var s,a=this,c=function(e){if(!e||!t)return!1;var n=a.network_quality_obj[o];if(!n)return a.network_quality_obj[o]=(0,r.default)({},e,{time:t}),!1;if(!n[e])return a.network_quality_obj[o][e]={time:t},!1;var i=n[e].time,s=a.network_quality_threshold[e].time;return t-i>=s},u=function(e){var t=a.network_quality_obj[o];t&&t[e]&&(a.network_quality_obj[o][e]=void 0)};if(n||i){(s=a.network_quality_obj[o])&&s.disconnect&&(a.network_quality_obj[o].disconnect=void 0);for(var d=["RTT","aPLR","vPLR"],l=2,f=0;f<d.length;f++){var p=d[f],h=this.network_quality_threshold[p].value;e[p]>=h?c(p)&&(l=1):u(p)}return l}return function(){var e=a.network_quality_obj[o];if(!e)return a.network_quality_obj[o]={disconnect:{time:t}},!1;if(!e.disconnect)return a.network_quality_obj[o]={disconnect:{time:t}},!1;var n=e.disconnect.time,r=a.network_quality_threshold.disconnect.time;return t-n>=r}()?0:2}}]),e}();t.default=h},function(e,t,n){t.__esModule=!0;var r,i=n(197),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){t.__esModule=!0;var r,i=n(197),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){n.r(t);var r=n(231);n.d(t,"Observable",function(){return r.Observable});var i=n(248);n.d(t,"ConnectableObservable",function(){return i.ConnectableObservable});var o=n(253);n.d(t,"GroupedObservable",function(){return o.GroupedObservable});var s=n(245);n.d(t,"observable",function(){return s.observable});var a=n(249);n.d(t,"Subject",function(){return a.Subject});var c=n(254);n.d(t,"BehaviorSubject",function(){return c.BehaviorSubject});var u=n(255);n.d(t,"ReplaySubject",function(){return u.ReplaySubject});var d=n(272);n.d(t,"AsyncSubject",function(){return d.AsyncSubject});var l=n(273);n.d(t,"asapScheduler",function(){return l.asap});var f=n(277);n.d(t,"asyncScheduler",function(){return f.async});var p=n(256);n.d(t,"queueScheduler",function(){return p.queue});var h=n(278);n.d(t,"animationFrameScheduler",function(){return h.animationFrame});var m=n(281);n.d(t,"VirtualTimeScheduler",function(){return m.VirtualTimeScheduler}),n.d(t,"VirtualAction",function(){return m.VirtualAction});var v=n(262);n.d(t,"Scheduler",function(){return v.Scheduler});var _=n(239);n.d(t,"Subscription",function(){return _.Subscription});var g=n(233);n.d(t,"Subscriber",function(){return g.Subscriber});var b=n(264);n.d(t,"Notification",function(){return b.Notification}),n.d(t,"NotificationKind",function(){return b.NotificationKind});var y=n(246);n.d(t,"pipe",function(){return y.pipe});var A=n(247);n.d(t,"noop",function(){return A.noop});var w=n(282);n.d(t,"identity",function(){return w.identity});var S=n(283);n.d(t,"isObservable",function(){return S.isObservable});var C=n(284);n.d(t,"ArgumentOutOfRangeError",function(){return C.ArgumentOutOfRangeError});var I=n(285);n.d(t,"EmptyError",function(){return I.EmptyError});var x=n(250);n.d(t,"ObjectUnsubscribedError",function(){return x.ObjectUnsubscribedError});var M=n(242);n.d(t,"UnsubscriptionError",function(){return M.UnsubscriptionError});var E=n(286);n.d(t,"TimeoutError",function(){return E.TimeoutError});var T=n(287);n.d(t,"bindCallback",function(){return T.bindCallback});var R=n(289);n.d(t,"bindNodeCallback",function(){return R.bindNodeCallback});var k=n(290);n.d(t,"combineLatest",function(){return k.combineLatest});var O=n(301);n.d(t,"concat",function(){return O.concat});var P=n(312);n.d(t,"defer",function(){return P.defer});var j=n(265);n.d(t,"empty",function(){return j.empty});var D=n(313);n.d(t,"forkJoin",function(){return D.forkJoin});var L=n(305);n.d(t,"from",function(){return L.from});var B=n(314);n.d(t,"fromEvent",function(){return B.fromEvent});var U=n(315);n.d(t,"fromEventPattern",function(){return U.fromEventPattern});var N=n(316);n.d(t,"generate",function(){return N.generate});var V=n(317);n.d(t,"iif",function(){return V.iif});var F=n(318);n.d(t,"interval",function(){return F.interval});var W=n(320);n.d(t,"merge",function(){return W.merge});var G=n(321);n.d(t,"never",function(){return G.never});var K=n(266);n.d(t,"of",function(){return K.of});var z=n(322);n.d(t,"onErrorResumeNext",function(){return z.onErrorResumeNext});var q=n(323);n.d(t,"pairs",function(){return q.pairs});var H=n(324);n.d(t,"partition",function(){return H.partition});var Q=n(327);n.d(t,"race",function(){return Q.race});var Y=n(328);n.d(t,"range",function(){return Y.range});var J=n(271);n.d(t,"throwError",function(){return J.throwError});var X=n(329);n.d(t,"timer",function(){return X.timer});var Z=n(330);n.d(t,"using",function(){return Z.using});var $=n(331);n.d(t,"zip",function(){return $.zip});var ee=n(306);n.d(t,"scheduled",function(){return ee.scheduled}),n.d(t,"EMPTY",function(){return j.EMPTY}),n.d(t,"NEVER",function(){return G.NEVER});var te=n(237);n.d(t,"config",function(){return te.config})},function(e,t,n){n.r(t),n.d(t,"Observable",function(){return c});var r=n(232),i=n(244),o=n(245),s=n(246),a=n(237),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=Object(i.toSubscriber)(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.canReportError)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=u(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(s.pipeFromArray)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=u(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function u(e){if(e||(e=a.config.Promise||__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){n.r(t),n.d(t,"canReportError",function(){return i});var r=n(233);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.Subscriber?i:null}return!0}},function(e,t,n){n.r(t),n.d(t,"Subscriber",function(){return d}),n.d(t,"SafeSubscriber",function(){return l});var r=n(234),i=n(235),o=n(236),s=n(239),a=n(243),c=n(237),u=n(238),d=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.empty;break;case 1:if(!n){s.destination=o.empty;break}if("object"===(void 0===n?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(n))){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new l(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new l(s,n,r,i)}return s}return r.__extends(t,e),t.prototype[a.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.Subscription),l=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return Object(i.isFunction)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.empty&&(u=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(n),Object(i.isFunction)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r.__extends(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.hostReportError)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.hostReportError)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw e;Object(u.hostReportError)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(u.hostReportError)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(d)},function(e,t,n){n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return s}),n.d(t,"__decorate",function(){return a}),n.d(t,"__param",function(){return c}),n.d(t,"__metadata",function(){return u}),n.d(t,"__awaiter",function(){return d}),n.d(t,"__generator",function(){return l}),n.d(t,"__exportStar",function(){return f}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return h}),n.d(t,"__spread",function(){return m}),n.d(t,"__spreadArrays",function(){return v}),n.d(t,"__await",function(){return _}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return b}),n.d(t,"__asyncValues",function(){return y}),n.d(t,"__makeTemplateObject",function(){return A}),n.d(t,"__importStar",function(){return w}),n.d(t,"__importDefault",function(){return S});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var r=function(e,t){return(r=__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_set_prototype_of___default.a||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=__WEBPACK_IMPORTED_MODULE_8_babel_runtime_core_js_object_assign___default.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof __WEBPACK_IMPORTED_MODULE_12_babel_runtime_core_js_object_get_own_property_symbols___default.a){var i=0;for(r=__WEBPACK_IMPORTED_MODULE_12_babel_runtime_core_js_object_get_own_property_symbols___default()(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=__WEBPACK_IMPORTED_MODULE_10_babel_runtime_core_js_object_get_own_property_descriptor___default()(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&__WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property___default()(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===("undefined"==typeof Reflect?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(Reflect))&&"function"==typeof __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_reflect_metadata___default.a)return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_reflect_metadata___default()(e,t)}function d(e,t,n,r){return new(n||(n=__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})}function l(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof __WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a&&(o[__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol_iterator___default.a]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof __WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a&&e[__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol_iterator___default.a],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"==typeof __WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a&&e[__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol_iterator___default.a];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function g(e,t,n){if(!__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(n,r){o.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof _?__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(n.value.v).then(c,u):d(o[0][2],n)}catch(e){d(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol_iterator___default.a]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function y(e){if(!__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(r,i){(function(e,t,n,r){__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function A(e,t){return __WEBPACK_IMPORTED_MODULE_21_babel_runtime_core_js_object_define_property___default.a?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){function r(e){return"function"==typeof e}n.r(t),n.d(t,"isFunction",function(){return r})},function(e,t,n){n.r(t),n.d(t,"empty",function(){return o});var r=n(237),i=n(238),o={closed:!0,next:function(e){},error:function(e){if(r.config.useDeprecatedSynchronousErrorHandling)throw e;Object(i.hostReportError)(e)},complete:function(){}}},function(e,t,n){n.r(t),n.d(t,"config",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){function r(e){setTimeout(function(){throw e},0)}n.r(t),n.d(t,"hostReportError",function(){return r})},function(e,t,n){n.r(t),n.d(t,"Subscription",function(){return a});var r=n(240),i=n(241),o=n(235),s=n(242),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var d=0;d<n.length;++d){n[d].remove(this)}if(Object(o.isFunction)(a))try{a.call(this)}catch(e){t=e instanceof s.UnsubscriptionError?c(e.errors):[e]}if(Object(r.isArray)(u)){d=-1;for(var l=u.length;++d<l;){var f=u[d];if(Object(i.isObject)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof s.UnsubscriptionError?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new s.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(void 0===t?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)},[])}},function(e,t,n){n.r(t),n.d(t,"isArray",function(){return r});var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},function(e,t,n){function r(e){return null!==e&&"object"===(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))}n.r(t),n.d(t,"isObject",function(){return r})},function(e,t,n){n.r(t),n.d(t,"UnsubscriptionError",function(){return r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(Error.prototype),e}()},function(e,t,n){n.r(t),n.d(t,"rxSubscriber",function(){return r}),n.d(t,"$$rxSubscriber",function(){return i});var r=function(){return"function"==typeof __WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a?__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default()("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),i=r},function(e,t,n){n.r(t),n.d(t,"toSubscriber",function(){return s});var r=n(233),i=n(243),o=n(236);function s(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(o.empty)}},function(e,t,n){n.r(t),n.d(t,"observable",function(){return r});var r=function(){return"function"==typeof __WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a&&__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a.observable||"@@observable"}()},function(e,t,n){n.r(t),n.d(t,"pipe",function(){return i}),n.d(t,"pipeFromArray",function(){return o});var r=n(247);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:r.noop}},function(e,t,n){function r(){}n.r(t),n.d(t,"noop",function(){return r})},function(e,t,n){n.r(t),n.d(t,"ConnectableObservable",function(){return u}),n.d(t,"connectableObservableDescriptor",function(){return d});var r=n(234),i=n(249),o=n(231),s=n(233),a=n(239),c=n(252),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.Subscription).add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.Subscription.EMPTY)),e},t.prototype.refCount=function(){return Object(c.refCount)()(this)},t}(o.Observable),d=function(){var e=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.__extends(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.SubjectSubscriber);s.Subscriber},function(e,t,n){n.r(t),n.d(t,"SubjectSubscriber",function(){return d}),n.d(t,"Subject",function(){return l}),n.d(t,"AnonymousSubject",function(){return f});var r=n(234),i=n(231),o=n(233),s=n(239),a=n(250),c=n(251),u=n(243),d=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.__extends(t,e),t}(o.Subscriber),l=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.__extends(t,e),t.prototype[u.rxSubscriber]=function(){return new d(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new c.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(i.Observable),f=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.__extends(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.Subscription.EMPTY},t}(l)},function(e,t,n){n.r(t),n.d(t,"ObjectUnsubscribedError",function(){return r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(Error.prototype),e}()},function(e,t,n){n.r(t),n.d(t,"SubjectSubscription",function(){return i});var r=n(234),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.__extends(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(239).Subscription)},function(e,t,n){n.r(t),n.d(t,"refCount",function(){return o});var r=n(234),i=n(233);function o(){return function(e){return e.lift(new s(e))}}var s=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.__extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"groupBy",function(){return c}),n.d(t,"GroupedObservable",function(){return f});var r=n(234),i=n(233),o=n(239),s=n(231),a=n(249);function c(e,t,n,r){return function(i){return i.lift(new u(e,t,n,r))}}var u=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),d=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_map___default.a);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a.Subject,n.set(t,i);var o=new f(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new f(t,i))}catch(e){return void this.error(e)}this.add(s.subscribe(new l(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,n){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.Subscriber),l=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.__extends(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.Subscriber),f=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.__extends(t,e),t.prototype._subscribe=function(e){var t=new o.Subscription,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new p(n)),t.add(r.subscribe(e)),t},t}(s.Observable),p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.__extends(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.Subscription)},function(e,t,n){n.r(t),n.d(t,"BehaviorSubject",function(){return s});var r=n(234),i=n(249),o=n(250),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.__extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject)},function(e,t,n){n.r(t),n.d(t,"ReplaySubject",function(){return d});var r=n(234),i=n(249),o=n(256),s=n(239),a=n(263),c=n(250),u=n(251),d=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.__extends(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new c.ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=s.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),i&&e.add(e=new a.ObserveOnSubscriber(e,i)),n)for(var d=0;d<o&&!e.closed;d++)e.next(r[d]);else for(d=0;d<o&&!e.closed;d++)e.next(r[d].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.Subject),l=function(){return function(e,t){this.time=e,this.value=t}}()},function(e,t,n){n.r(t),n.d(t,"queue",function(){return i});var r=n(257),i=new(n(260).QueueScheduler)(r.QueueAction)},function(e,t,n){n.r(t),n.d(t,"QueueAction",function(){return i});var r=n(234),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.__extends(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(258).AsyncAction)},function(e,t,n){n.r(t),n.d(t,"AsyncAction",function(){return i});var r=n(234),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.__extends(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(259).Action)},function(e,t,n){n.r(t),n.d(t,"Action",function(){return i});var r=n(234),i=function(e){function t(t,n){return e.call(this)||this}return r.__extends(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(239).Subscription)},function(e,t,n){n.r(t),n.d(t,"QueueScheduler",function(){return i});var r=n(234),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(n(261).AsyncScheduler)},function(e,t,n){n.r(t),n.d(t,"AsyncScheduler",function(){return o});var r=n(234),i=n(262),o=function(e){function t(n,r){void 0===r&&(r=i.Scheduler.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.__extends(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler)},function(e,t,n){n.r(t),n.d(t,"Scheduler",function(){return r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){n.r(t),n.d(t,"observeOn",function(){return s}),n.d(t,"ObserveOnOperator",function(){return a}),n.d(t,"ObserveOnSubscriber",function(){return c}),n.d(t,"ObserveOnMessage",function(){return u});var r=n(234),i=n(233),o=n(264);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}(),c=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.__extends(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new u(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete()),this.unsubscribe()},t}(i.Subscriber),u=function(){return function(e,t){this.notification=e,this.destination=t}}()},function(e,t,n){n.r(t),n.d(t,"NotificationKind",function(){return r}),n.d(t,"Notification",function(){return a});var r,i=n(265),o=n(266),s=n(271);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.of)(this.value);case"E":return Object(s.throwError)(this.error);case"C":return Object(i.empty)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){n.r(t),n.d(t,"EMPTY",function(){return i}),n.d(t,"empty",function(){return o});var r=n(231),i=new r.Observable(function(e){return e.complete()});function o(e){return e?function(e){return new r.Observable(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},function(e,t,n){n.r(t),n.d(t,"of",function(){return s});var r=n(267),i=n(268),o=n(270);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r.isScheduler)(n)?(e.pop(),Object(o.scheduleArray)(e,n)):Object(i.fromArray)(e)}},function(e,t,n){function r(e){return e&&"function"==typeof e.schedule}n.r(t),n.d(t,"isScheduler",function(){return r})},function(e,t,n){n.r(t),n.d(t,"fromArray",function(){return s});var r=n(231),i=n(269),o=n(270);function s(e,t){return t?Object(o.scheduleArray)(e,t):new r.Observable(Object(i.subscribeToArray)(e))}},function(e,t,n){n.r(t),n.d(t,"subscribeToArray",function(){return r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){n.r(t),n.d(t,"scheduleArray",function(){return o});var r=n(231),i=n(239);function o(e,t){return new r.Observable(function(n){var r=new i.Subscription,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},function(e,t,n){n.r(t),n.d(t,"throwError",function(){return i});var r=n(231);function i(e,t){return t?new r.Observable(function(n){return t.schedule(o,0,{error:e,subscriber:n})}):new r.Observable(function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){n.r(t),n.d(t,"AsyncSubject",function(){return s});var r=n(234),i=n(249),o=n(239),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.__extends(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.Subject)},function(e,t,n){n.r(t),n.d(t,"asap",function(){return i});var r=n(274),i=new(n(276).AsapScheduler)(r.AsapAction)},function(e,t,n){n.r(t),n.d(t,"AsapAction",function(){return o});var r=n(234),i=n(275),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.__extends(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.Immediate.clearImmediate(n),t.scheduled=void 0)},t}(n(258).AsyncAction)},function(e,t,n){n.r(t),n.d(t,"Immediate",function(){return o});var r=1,i={};var o={setImmediate:function(e){var t=r++;return i[t]=e,__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve().then(function(){return function(e){var t=i[e];t&&t()}(t)}),t},clearImmediate:function(e){delete i[e]}}},function(e,t,n){n.r(t),n.d(t,"AsapScheduler",function(){return i});var r=n(234),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(261).AsyncScheduler)},function(e,t,n){n.r(t),n.d(t,"async",function(){return i});var r=n(258),i=new(n(261).AsyncScheduler)(r.AsyncAction)},function(e,t,n){n.r(t),n.d(t,"animationFrame",function(){return i});var r=n(279),i=new(n(280).AnimationFrameScheduler)(r.AnimationFrameAction)},function(e,t,n){n.r(t),n.d(t,"AnimationFrameAction",function(){return i});var r=n(234),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.__extends(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(n(258).AsyncAction)},function(e,t,n){n.r(t),n.d(t,"AnimationFrameScheduler",function(){return i});var r=n(234),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(261).AsyncScheduler)},function(e,t,n){n.r(t),n.d(t,"VirtualTimeScheduler",function(){return o}),n.d(t,"VirtualAction",function(){return s});var r=n(234),i=n(258),o=function(e){function t(t,n){void 0===t&&(t=s),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r.__extends(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(n(261).AsyncScheduler),s=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return r.__extends(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i.AsyncAction)},function(e,t,n){function r(e){return e}n.r(t),n.d(t,"identity",function(){return r})},function(e,t,n){n.r(t),n.d(t,"isObservable",function(){return i});var r=n(231);function i(e){return!!e&&(e instanceof r.Observable||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},function(e,t,n){n.r(t),n.d(t,"ArgumentOutOfRangeError",function(){return r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(Error.prototype),e}()},function(e,t,n){n.r(t),n.d(t,"EmptyError",function(){return r});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(Error.prototype),e}()},function(e,t,n){n.r(t),n.d(t,"TimeoutError",function(){return r});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(Error.prototype),e}()},function(e,t,n){n.r(t),n.d(t,"bindCallback",function(){return u});var r=n(231),i=n(272),o=n(288),s=n(232),a=n(240),c=n(267);function u(e,t,n){if(t){if(!Object(c.isScheduler)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return u(e,n).apply(void 0,r).pipe(Object(o.map)(function(e){return Object(a.isArray)(e)?t.apply(void 0,e):t(e)}))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a,c=this,u={context:c,subject:a,callbackFunc:e,scheduler:n};return new r.Observable(function(r){if(n){var o={args:t,subscriber:r,params:u};return n.schedule(d,0,o)}if(!a){a=new i.AsyncSubject;try{e.apply(c,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];a.next(e.length<=1?e[0]:e),a.complete()}]))}catch(e){Object(s.canReportError)(a)?a.error(e):console.warn(e)}}return a.subscribe(r)})}}function d(e){var t=this,n=e.args,r=e.subscriber,o=e.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new i.AsyncSubject;try{s.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(c.schedule(l,0,{value:r,subject:u}))}]))}catch(e){u.error(e)}}this.add(u.subscribe(r))}function l(e){var t=e.value,n=e.subject;n.next(t),n.complete()}},function(e,t,n){n.r(t),n.d(t,"map",function(){return o}),n.d(t,"MapOperator",function(){return s});var r=n(234),i=n(233);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"bindNodeCallback",function(){return u});var r=n(231),i=n(272),o=n(288),s=n(232),a=n(267),c=n(240);function u(e,t,n){if(t){if(!Object(a.isScheduler)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return u(e,n).apply(void 0,r).pipe(Object(o.map)(function(e){return Object(c.isArray)(e)?t.apply(void 0,e):t(e)}))};n=t}return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.Observable(function(r){var o=a.context,c=a.subject;if(n)return n.schedule(d,0,{params:a,subscriber:r,context:o});if(!c){c=a.subject=new i.AsyncSubject;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?c.error(n):(c.next(e.length<=1?e[0]:e),c.complete())}]))}catch(e){Object(s.canReportError)(c)?c.error(e):console.warn(e)}}return c.subscribe(r)})}}function d(e){var t=this,n=e.params,r=e.subscriber,o=e.context,s=n.callbackFunc,a=n.args,c=n.scheduler,u=n.subject;if(!u){u=n.subject=new i.AsyncSubject;try{s.apply(o,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(c.schedule(f,0,{err:r,subject:u}));else{var i=e.length<=1?e[0]:e;t.add(c.schedule(l,0,{value:i,subject:u}))}}]))}catch(e){this.add(c.schedule(f,0,{err:e,subject:u}))}}this.add(u.subscribe(r))}function l(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function f(e){var t=e.err;e.subject.error(t)}},function(e,t,n){n.r(t),n.d(t,"combineLatest",function(){return d}),n.d(t,"CombineLatestOperator",function(){return l}),n.d(t,"CombineLatestSubscriber",function(){return f});var r=n(234),i=n(267),o=n(240),s=n(291),a=n(292),c=n(268),u={};function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Object(i.isScheduler)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o.isArray)(e[0])&&(e=e[0]),Object(c.fromArray)(e,r).lift(new l(n))}var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.__extends(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(a.subscribeToResult)(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===u?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"OuterSubscriber",function(){return i});var r=n(234),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(233).Subscriber)},function(e,t,n){n.r(t),n.d(t,"subscribeToResult",function(){return s});var r=n(293),i=n(294),o=n(231);function s(e,t,n,s,a){if(void 0===a&&(a=new r.InnerSubscriber(e,n,s)),!a.closed)return t instanceof o.Observable?t.subscribe(a):Object(i.subscribeTo)(t)(a)}},function(e,t,n){n.r(t),n.d(t,"InnerSubscriber",function(){return i});var r=n(234),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.__extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(233).Subscriber)},function(e,t,n){n.r(t),n.d(t,"subscribeTo",function(){return f});var r=n(269),i=n(295),o=n(296),s=n(298),a=n(299),c=n(300),u=n(241),d=n(297),l=n(245),f=function(e){if(e&&"function"==typeof e[l.observable])return Object(s.subscribeToObservable)(e);if(Object(a.isArrayLike)(e))return Object(r.subscribeToArray)(e);if(Object(c.isPromise)(e))return Object(i.subscribeToPromise)(e);if(e&&"function"==typeof e[d.iterator])return Object(o.subscribeToIterable)(e);var t=Object(u.isObject)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t,n){n.r(t),n.d(t,"subscribeToPromise",function(){return i});var r=n(238),i=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,r.hostReportError),t}}},function(e,t,n){n.r(t),n.d(t,"subscribeToIterable",function(){return i});var r=n(297),i=function(e){return function(t){for(var n=e[r.iterator]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}},function(e,t,n){function r(){return"function"==typeof __WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a&&__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol_iterator___default.a?__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol_iterator___default.a:"@@iterator"}n.r(t),n.d(t,"getSymbolIterator",function(){return r}),n.d(t,"iterator",function(){return i}),n.d(t,"$$iterator",function(){return o});var i=r(),o=i},function(e,t,n){n.r(t),n.d(t,"subscribeToObservable",function(){return i});var r=n(245),i=function(e){return function(t){var n=e[r.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},function(e,t,n){n.r(t),n.d(t,"isArrayLike",function(){return r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.r(t),n.d(t,"isPromise",function(){return r})},function(e,t,n){n.r(t),n.d(t,"concat",function(){return o});var r=n(266),i=n(302);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.concatAll)()(r.of.apply(void 0,e))}},function(e,t,n){n.r(t),n.d(t,"concatAll",function(){return i});var r=n(303);function i(){return Object(r.mergeAll)(1)}},function(e,t,n){n.r(t),n.d(t,"mergeAll",function(){return o});var r=n(304),i=n(282);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r.mergeMap)(i.identity,e)}},function(e,t,n){n.r(t),n.d(t,"mergeMap",function(){return u}),n.d(t,"MergeMapOperator",function(){return d}),n.d(t,"MergeMapSubscriber",function(){return l});var r=n(234),i=n(292),o=n(291),s=n(293),a=n(288),c=n(305);function u(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(u(function(n,r){return Object(c.from)(e(n,r)).pipe(Object(a.map)(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new d(e,n))})}var d=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))},e}(),l=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.__extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new s.InnerSubscriber(this,void 0,void 0);this.destination.add(r),Object(i.subscribeToResult)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"from",function(){return s});var r=n(231),i=n(294),o=n(306);function s(e,t){return t?Object(o.scheduled)(e,t):e instanceof r.Observable?e:new r.Observable(Object(i.subscribeTo)(e))}},function(e,t,n){n.r(t),n.d(t,"scheduled",function(){return l});var r=n(307),i=n(308),o=n(270),s=n(309),a=n(310),c=n(300),u=n(299),d=n(311);function l(e,t){if(null!=e){if(Object(a.isInteropObservable)(e))return Object(r.scheduleObservable)(e,t);if(Object(c.isPromise)(e))return Object(i.schedulePromise)(e,t);if(Object(u.isArrayLike)(e))return Object(o.scheduleArray)(e,t);if(Object(d.isIterable)(e)||"string"==typeof e)return Object(s.scheduleIterable)(e,t)}throw new TypeError((null!==e&&(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))||e)+" is not observable")}},function(e,t,n){n.r(t),n.d(t,"scheduleObservable",function(){return s});var r=n(231),i=n(239),o=n(245);function s(e,t){return new r.Observable(function(n){var r=new i.Subscription;return r.add(t.schedule(function(){var i=e[o.observable]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}},function(e,t,n){n.r(t),n.d(t,"schedulePromise",function(){return o});var r=n(231),i=n(239);function o(e,t){return new r.Observable(function(n){var r=new i.Subscription;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}},function(e,t,n){n.r(t),n.d(t,"scheduleIterable",function(){return s});var r=n(231),i=n(239),o=n(297);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.Observable(function(n){var r,s=new i.Subscription;return s.add(function(){r&&"function"==typeof r.return&&r.return()}),s.add(t.schedule(function(){r=e[o.iterator](),s.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}}))})),s})}},function(e,t,n){n.r(t),n.d(t,"isInteropObservable",function(){return i});var r=n(245);function i(e){return e&&"function"==typeof e[r.observable]}},function(e,t,n){n.r(t),n.d(t,"isIterable",function(){return i});var r=n(297);function i(e){return e&&"function"==typeof e[r.iterator]}},function(e,t,n){n.r(t),n.d(t,"defer",function(){return s});var r=n(231),i=n(305),o=n(265);function s(e){return new r.Observable(function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?Object(i.from)(n):Object(o.empty)()).subscribe(t)})}},function(e,t,n){n.r(t),n.d(t,"forkJoin",function(){return c});var r=n(231),i=n(240),o=n(288),s=n(241),a=n(305);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(i.isArray)(n))return u(n,null);if(Object(s.isObject)(n)&&__WEBPACK_IMPORTED_MODULE_15_babel_runtime_core_js_object_get_prototype_of___default()(n)===Object.prototype){var r=__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default()(n);return u(r.map(function(e){return n[e]}),r)}}if("function"==typeof e[e.length-1]){var a=e.pop();return u(e=1===e.length&&Object(i.isArray)(e[0])?e[0]:e,null).pipe(Object(o.map)(function(e){return a.apply(void 0,e)}))}return u(e,null)}function u(e,t){return new r.Observable(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,c=function(c){var u=Object(a.from)(e[c]),d=!1;n.add(u.subscribe({next:function(e){d||(d=!0,s++),i[c]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&d||(s===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},u=0;u<r;u++)c(u);else n.complete()})}},function(e,t,n){n.r(t),n.d(t,"fromEvent",function(){return a});var r=n(231),i=n(240),o=n(235),s=n(288);function a(e,t,n,c){return Object(o.isFunction)(n)&&(c=n,n=void 0),c?a(e,t,n).pipe(Object(s.map)(function(e){return Object(i.isArray)(e)?c.apply(void 0,e):c(e)})):new r.Observable(function(r){!function e(t,n,r,i,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var c=t;t.on(n,r),s=function(){return c.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,r),s=function(){return u.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var d=0,l=t.length;d<l;d++)e(t[d],n,r,i,o)}i.add(s)}(e,t,function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)},r,n)})}},function(e,t,n){n.r(t),n.d(t,"fromEventPattern",function(){return a});var r=n(231),i=n(240),o=n(235),s=n(288);function a(e,t,n){return n?a(e,t).pipe(Object(s.map)(function(e){return Object(i.isArray)(e)?n.apply(void 0,e):n(e)})):new r.Observable(function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(e){return void n.error(e)}if(Object(o.isFunction)(t))return function(){return t(i,r)}})}},function(e,t,n){n.r(t),n.d(t,"generate",function(){return s});var r=n(231),i=n(282),o=n(267);function s(e,t,n,s,c){var u,d;if(1==arguments.length){var l=e;d=l.initialState,t=l.condition,n=l.iterate,u=l.resultSelector||i.identity,c=l.scheduler}else void 0===s||Object(o.isScheduler)(s)?(d=e,u=i.identity,c=s):(d=e,u=s);return new r.Observable(function(e){var r=d;if(c)return c.schedule(a,0,{subscriber:e,iterate:n,condition:t,resultSelector:u,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var o=void 0;try{o=u(r)}catch(t){return void e.error(t)}if(e.next(o),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}})}function a(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}},function(e,t,n){n.r(t),n.d(t,"iif",function(){return o});var r=n(312),i=n(265);function o(e,t,n){return void 0===t&&(t=i.EMPTY),void 0===n&&(n=i.EMPTY),Object(r.defer)(function(){return e()?t:n})}},function(e,t,n){n.r(t),n.d(t,"interval",function(){return s});var r=n(231),i=n(277),o=n(319);function s(e,t){return void 0===e&&(e=0),void 0===t&&(t=i.async),(!Object(o.isNumeric)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=i.async),new r.Observable(function(n){return n.add(t.schedule(a,e,{subscriber:n,counter:0,period:e})),n})}function a(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}},function(e,t,n){n.r(t),n.d(t,"isNumeric",function(){return i});var r=n(240);function i(e){return!Object(r.isArray)(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){n.r(t),n.d(t,"merge",function(){return a});var r=n(231),i=n(267),o=n(303),s=n(268);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return Object(i.isScheduler)(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof c&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r.Observable?e[0]:Object(o.mergeAll)(n)(Object(s.fromArray)(e,a))}},function(e,t,n){n.r(t),n.d(t,"NEVER",function(){return o}),n.d(t,"never",function(){return s});var r=n(231),i=n(247),o=new r.Observable(i.noop);function s(){return o}},function(e,t,n){n.r(t),n.d(t,"onErrorResumeNext",function(){return a});var r=n(231),i=n(305),o=n(240),s=n(265);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return s.EMPTY;var n=e[0],c=e.slice(1);return 1===e.length&&Object(o.isArray)(n)?a.apply(void 0,n):new r.Observable(function(e){var t=function(){return e.add(a.apply(void 0,c).subscribe(e))};return Object(i.from)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})})}},function(e,t,n){n.r(t),n.d(t,"pairs",function(){return o}),n.d(t,"dispatch",function(){return s});var r=n(231),i=n(239);function o(e,t){return t?new r.Observable(function(n){var r=__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default()(e),o=new i.Subscription;return o.add(t.schedule(s,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o}):new r.Observable(function(t){for(var n=__WEBPACK_IMPORTED_MODULE_16_babel_runtime_core_js_object_keys___default()(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})}function s(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}},function(e,t,n){n.r(t),n.d(t,"partition",function(){return a});var r=n(325),i=n(294),o=n(326),s=n(231);function a(e,t,n){return[Object(o.filter)(t,n)(new s.Observable(Object(i.subscribeTo)(e))),Object(o.filter)(Object(r.not)(t,n))(new s.Observable(Object(i.subscribeTo)(e)))]}},function(e,t,n){function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.r(t),n.d(t,"not",function(){return r})},function(e,t,n){n.r(t),n.d(t,"filter",function(){return o});var r=n(234),i=n(233);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.__extends(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"race",function(){return c}),n.d(t,"RaceOperator",function(){return u}),n.d(t,"RaceSubscriber",function(){return d});var r=n(234),i=n(240),o=n(268),s=n(291),a=n(292);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(i.isArray)(e[0]))return e[0];e=e[0]}return Object(o.fromArray)(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new d(e))},e}(),d=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.__extends(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(a.subscribeToResult)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"range",function(){return i}),n.d(t,"dispatch",function(){return o});var r=n(231);function i(e,t,n){return void 0===e&&(e=0),new r.Observable(function(r){void 0===t&&(t=e,e=0);var i=0,s=e;if(n)return n.schedule(o,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(s++),r.closed)break}})}function o(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},function(e,t,n){n.r(t),n.d(t,"timer",function(){return a});var r=n(231),i=n(277),o=n(319),s=n(267);function a(e,t,n){void 0===e&&(e=0);var a=-1;return Object(o.isNumeric)(t)?a=Number(t)<1?1:Number(t):Object(s.isScheduler)(t)&&(n=t),Object(s.isScheduler)(n)||(n=i.async),new r.Observable(function(t){var r=Object(o.isNumeric)(e)?e:+e-n.now();return n.schedule(c,r,{index:0,period:a,subscriber:t})})}function c(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){n.r(t),n.d(t,"using",function(){return s});var r=n(231),i=n(305),o=n(265);function s(e,t){return new r.Observable(function(n){var r,s;try{r=e()}catch(e){return void n.error(e)}try{s=t(r)}catch(e){return void n.error(e)}var a=(s?Object(i.from)(s):o.EMPTY).subscribe(n);return function(){a.unsubscribe(),r&&r.unsubscribe()}})}},function(e,t,n){n.r(t),n.d(t,"zip",function(){return d}),n.d(t,"ZipOperator",function(){return l}),n.d(t,"ZipSubscriber",function(){return f});var r=n(234),i=n(268),o=n(240),s=n(233),a=n(291),c=n(292),u=n(297);function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(i.fromArray)(e,void 0).lift(new l(n))}var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return r.__extends(t,e),t.prototype._next=function(e){var t=this.iterators;Object(o.isArray)(e)?t.push(new h(e)):"function"==typeof e[u.iterator]?t.push(new p(e[u.iterator]())):t.push(new m(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.Subscriber),p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),h=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[u.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),m=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.__extends(t,e),t.prototype[u.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(c.subscribeToResult)(this,this.observable,this,t)},t}(a.OuterSubscriber)},function(e,t,n){n.r(t);var r=n(333);n.d(t,"audit",function(){return r.audit});var i=n(334);n.d(t,"auditTime",function(){return i.auditTime});var o=n(335);n.d(t,"buffer",function(){return o.buffer});var s=n(336);n.d(t,"bufferCount",function(){return s.bufferCount});var a=n(337);n.d(t,"bufferTime",function(){return a.bufferTime});var c=n(338);n.d(t,"bufferToggle",function(){return c.bufferToggle});var u=n(339);n.d(t,"bufferWhen",function(){return u.bufferWhen});var d=n(340);n.d(t,"catchError",function(){return d.catchError});var l=n(341);n.d(t,"combineAll",function(){return l.combineAll});var f=n(342);n.d(t,"combineLatest",function(){return f.combineLatest});var p=n(343);n.d(t,"concat",function(){return p.concat});var h=n(302);n.d(t,"concatAll",function(){return h.concatAll});var m=n(344);n.d(t,"concatMap",function(){return m.concatMap});var v=n(345);n.d(t,"concatMapTo",function(){return v.concatMapTo});var _=n(346);n.d(t,"count",function(){return _.count});var g=n(347);n.d(t,"debounce",function(){return g.debounce});var b=n(348);n.d(t,"debounceTime",function(){return b.debounceTime});var y=n(349);n.d(t,"defaultIfEmpty",function(){return y.defaultIfEmpty});var A=n(350);n.d(t,"delay",function(){return A.delay});var w=n(352);n.d(t,"delayWhen",function(){return w.delayWhen});var S=n(353);n.d(t,"dematerialize",function(){return S.dematerialize});var C=n(354);n.d(t,"distinct",function(){return C.distinct});var I=n(355);n.d(t,"distinctUntilChanged",function(){return I.distinctUntilChanged});var x=n(356);n.d(t,"distinctUntilKeyChanged",function(){return x.distinctUntilKeyChanged});var M=n(357);n.d(t,"elementAt",function(){return M.elementAt});var E=n(360);n.d(t,"endWith",function(){return E.endWith});var T=n(361);n.d(t,"every",function(){return T.every});var R=n(362);n.d(t,"exhaust",function(){return R.exhaust});var k=n(363);n.d(t,"exhaustMap",function(){return k.exhaustMap});var O=n(364);n.d(t,"expand",function(){return O.expand});var P=n(326);n.d(t,"filter",function(){return P.filter});var j=n(365);n.d(t,"finalize",function(){return j.finalize});var D=n(366);n.d(t,"find",function(){return D.find});var L=n(367);n.d(t,"findIndex",function(){return L.findIndex});var B=n(368);n.d(t,"first",function(){return B.first});var U=n(253);n.d(t,"groupBy",function(){return U.groupBy});var N=n(369);n.d(t,"ignoreElements",function(){return N.ignoreElements});var V=n(370);n.d(t,"isEmpty",function(){return V.isEmpty});var F=n(371);n.d(t,"last",function(){return F.last});var W=n(288);n.d(t,"map",function(){return W.map});var G=n(373);n.d(t,"mapTo",function(){return G.mapTo});var K=n(374);n.d(t,"materialize",function(){return K.materialize});var z=n(375);n.d(t,"max",function(){return z.max});var q=n(378);n.d(t,"merge",function(){return q.merge});var H=n(303);n.d(t,"mergeAll",function(){return H.mergeAll});var Q=n(304);n.d(t,"mergeMap",function(){return Q.mergeMap}),n.d(t,"flatMap",function(){return Q.mergeMap});var Y=n(379);n.d(t,"mergeMapTo",function(){return Y.mergeMapTo});var J=n(380);n.d(t,"mergeScan",function(){return J.mergeScan});var X=n(381);n.d(t,"min",function(){return X.min});var Z=n(382);n.d(t,"multicast",function(){return Z.multicast});var $=n(263);n.d(t,"observeOn",function(){return $.observeOn});var ee=n(383);n.d(t,"onErrorResumeNext",function(){return ee.onErrorResumeNext});var te=n(384);n.d(t,"pairwise",function(){return te.pairwise});var ne=n(385);n.d(t,"partition",function(){return ne.partition});var re=n(386);n.d(t,"pluck",function(){return re.pluck});var ie=n(387);n.d(t,"publish",function(){return ie.publish});var oe=n(388);n.d(t,"publishBehavior",function(){return oe.publishBehavior});var se=n(389);n.d(t,"publishLast",function(){return se.publishLast});var ae=n(390);n.d(t,"publishReplay",function(){return ae.publishReplay});var ce=n(391);n.d(t,"race",function(){return ce.race});var ue=n(376);n.d(t,"reduce",function(){return ue.reduce});var de=n(392);n.d(t,"repeat",function(){return de.repeat});var le=n(393);n.d(t,"repeatWhen",function(){return le.repeatWhen});var fe=n(394);n.d(t,"retry",function(){return fe.retry});var pe=n(395);n.d(t,"retryWhen",function(){return pe.retryWhen});var he=n(252);n.d(t,"refCount",function(){return he.refCount});var me=n(396);n.d(t,"sample",function(){return me.sample});var ve=n(397);n.d(t,"sampleTime",function(){return ve.sampleTime});var _e=n(377);n.d(t,"scan",function(){return _e.scan});var ge=n(398);n.d(t,"sequenceEqual",function(){return ge.sequenceEqual});var be=n(399);n.d(t,"share",function(){return be.share});var ye=n(400);n.d(t,"shareReplay",function(){return ye.shareReplay});var Ae=n(401);n.d(t,"single",function(){return Ae.single});var we=n(402);n.d(t,"skip",function(){return we.skip});var Se=n(403);n.d(t,"skipLast",function(){return Se.skipLast});var Ce=n(404);n.d(t,"skipUntil",function(){return Ce.skipUntil});var Ie=n(405);n.d(t,"skipWhile",function(){return Ie.skipWhile});var xe=n(406);n.d(t,"startWith",function(){return xe.startWith});var Me=n(407);n.d(t,"subscribeOn",function(){return Me.subscribeOn});var Ee=n(409);n.d(t,"switchAll",function(){return Ee.switchAll});var Te=n(410);n.d(t,"switchMap",function(){return Te.switchMap});var Re=n(411);n.d(t,"switchMapTo",function(){return Re.switchMapTo});var ke=n(359);n.d(t,"take",function(){return ke.take});var Oe=n(372);n.d(t,"takeLast",function(){return Oe.takeLast});var Pe=n(412);n.d(t,"takeUntil",function(){return Pe.takeUntil});var je=n(413);n.d(t,"takeWhile",function(){return je.takeWhile});var De=n(414);n.d(t,"tap",function(){return De.tap});var Le=n(415);n.d(t,"throttle",function(){return Le.throttle});var Be=n(416);n.d(t,"throttleTime",function(){return Be.throttleTime});var Ue=n(358);n.d(t,"throwIfEmpty",function(){return Ue.throwIfEmpty});var Ne=n(417);n.d(t,"timeInterval",function(){return Ne.timeInterval});var Ve=n(418);n.d(t,"timeout",function(){return Ve.timeout});var Fe=n(419);n.d(t,"timeoutWith",function(){return Fe.timeoutWith});var We=n(420);n.d(t,"timestamp",function(){return We.timestamp});var Ge=n(421);n.d(t,"toArray",function(){return Ge.toArray});var Ke=n(422);n.d(t,"window",function(){return Ke.window});var ze=n(423);n.d(t,"windowCount",function(){return ze.windowCount});var qe=n(424);n.d(t,"windowTime",function(){return qe.windowTime});var He=n(425);n.d(t,"windowToggle",function(){return He.windowToggle});var Qe=n(426);n.d(t,"windowWhen",function(){return Qe.windowWhen});var Ye=n(427);n.d(t,"withLatestFrom",function(){return Ye.withLatestFrom});var Je=n(428);n.d(t,"zip",function(){return Je.zip});var Xe=n(429);n.d(t,"zipAll",function(){return Xe.zipAll})},function(e,t,n){n.r(t),n.d(t,"audit",function(){return s});var r=n(234),i=n(291),o=n(292);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.__extends(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=Object(o.subscribeToResult)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"auditTime",function(){return s});var r=n(277),i=n(333),o=n(329);function s(e,t){return void 0===t&&(t=r.async),Object(i.audit)(function(){return Object(o.timer)(e,t)})}},function(e,t,n){n.r(t),n.d(t,"buffer",function(){return s});var r=n(234),i=n(291),o=n(292);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingNotifier))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Object(o.subscribeToResult)(r,n)),r}return r.__extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"bufferCount",function(){return o});var r=n(234),i=n(233);function o(e,t){return void 0===t&&(t=null),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?c:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.__extends(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i.Subscriber),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.__extends(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var s=r[o];s.push(e),s.length===t&&(r.splice(o,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"bufferTime",function(){return a});var r=n(234),i=n(277),o=n(233),s=n(267);function a(e){var t=arguments.length,n=i.async;Object(s.isScheduler)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new c(e,r,o,n))}}var c=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),u=function(){return function(){this.buffer=[]}}(),d=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var c={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(l,n,c))}else{var u={subscriber:s,context:a},d={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(p,n,u)),s.add(o.schedule(f,r,d))}return s}return r.__extends(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(l,n,r))}},t.prototype.openContext=function(){var e=new u;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.Subscriber);function l(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function f(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(p,n,{subscriber:r,context:o})),this.schedule(e,t))}function p(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},function(e,t,n){n.r(t),n.d(t,"bufferToggle",function(){return a});var r=n(234),i=n(239),o=n(292),s=n(291);function a(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.openings,this.closingSelector))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(Object(o.subscribeToResult)(i,n)),i}return r.__extends(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new i.Subscription,r={buffer:[],subscription:n};t.push(r);var s=Object(o.subscribeToResult)(this,e,r);!s||s.closed?this.closeBuffer(r):(s.context=r,this.add(s),n.add(s))},t}(s.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"bufferWhen",function(){return a});var r=n(234),i=n(239),o=n(291),s=n(292);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.__extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new i.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(s.subscribeToResult)(this,t)),this.subscribing=!1},t}(o.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"catchError",function(){return a});var r=n(234),i=n(291),o=n(293),s=n(292);function a(e){return function(t){var n=new c(e),r=t.lift(n);return n.caught=r}}var c=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.selector,this.caught))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.__extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new o.InnerSubscriber(this,void 0,void 0);this.add(r),Object(s.subscribeToResult)(this,n,void 0,void 0,r)}},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"combineAll",function(){return i});var r=n(290);function i(e){return function(t){return t.lift(new r.CombineLatestOperator(e))}}},function(e,t,n){n.r(t),n.d(t,"combineLatest",function(){return s});var r=n(240),i=n(290),o=n(305);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(r.isArray)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(o.from)([t].concat(e)),new i.CombineLatestOperator(n))}}},function(e,t,n){n.r(t),n.d(t,"concat",function(){return i});var r=n(301);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.concat.apply(void 0,[t].concat(e)))}}},function(e,t,n){n.r(t),n.d(t,"concatMap",function(){return i});var r=n(304);function i(e,t){return Object(r.mergeMap)(e,t,1)}},function(e,t,n){n.r(t),n.d(t,"concatMapTo",function(){return i});var r=n(344);function i(e,t){return Object(r.concatMap)(function(){return e},t)}},function(e,t,n){n.r(t),n.d(t,"count",function(){return o});var r=n(234),i=n(233);function o(e){return function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.__extends(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"debounce",function(){return s});var r=n(234),i=n(291),o=n(292);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r.__extends(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.subscribeToResult)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"debounceTime",function(){return s});var r=n(234),i=n(233),o=n(277);function s(e,t){return void 0===t&&(t=o.async),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.__extends(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.Subscriber);function u(e){e.debouncedNext()}},function(e,t,n){n.r(t),n.d(t,"defaultIfEmpty",function(){return o});var r=n(234),i=n(233);function o(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.__extends(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"delay",function(){return c});var r=n(234),i=n(277),o=n(351),s=n(233),a=n(264);function c(e,t){void 0===t&&(t=i.async);var n=Object(o.isDate)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(n,t))}}var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.delay,this.scheduler))},e}(),d=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.__extends(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new l(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete()),this.unsubscribe()},t}(s.Subscriber),l=function(){return function(e,t){this.time=e,this.notification=t}}()},function(e,t,n){function r(e){return e instanceof Date&&!isNaN(+e)}n.r(t),n.d(t,"isDate",function(){return r})},function(e,t,n){n.r(t),n.d(t,"delayWhen",function(){return c});var r=n(234),i=n(233),o=n(231),s=n(291),a=n(292);function c(e,t){return t?function(n){return new l(n,t).lift(new u(e))}:function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.delayDurationSelector))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(a.subscribeToResult)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.OuterSubscriber),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.__extends(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f(e,this.source))},t}(o.Observable),f=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.__extends(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"dematerialize",function(){return o});var r=n(234),i=n(233);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"distinct",function(){return s}),n.d(t,"DistinctSubscriber",function(){return c});var r=n(234),i=n(291),o=n(292);function s(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=n,i.values=new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a,r&&i.add(Object(o.subscribeToResult)(i,r)),i}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"distinctUntilChanged",function(){return o});var r=n(234),i=n(233);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.__extends(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"distinctUntilKeyChanged",function(){return i});var r=n(355);function i(e,t){return Object(r.distinctUntilChanged)(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}},function(e,t,n){n.r(t),n.d(t,"elementAt",function(){return c});var r=n(284),i=n(326),o=n(358),s=n(349),a=n(359);function c(e,t){if(e<0)throw new r.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(c){return c.pipe(Object(i.filter)(function(t,n){return n===e}),Object(a.take)(1),n?Object(s.defaultIfEmpty)(t):Object(o.throwIfEmpty)(function(){return new r.ArgumentOutOfRangeError}))}}},function(e,t,n){n.r(t),n.d(t,"throwIfEmpty",function(){return s});var r=n(234),i=n(285),o=n(233);function s(e){return void 0===e&&(e=u),function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.errorFactory))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.__extends(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(o.Subscriber);function u(){return new i.EmptyError}},function(e,t,n){n.r(t),n.d(t,"take",function(){return a});var r=n(234),i=n(233),o=n(284),s=n(265);function a(e){return function(t){return 0===e?Object(s.empty)():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"endWith",function(){return o});var r=n(301),i=n(266);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(r.concat)(t,i.of.apply(void 0,e))}}},function(e,t,n){n.r(t),n.d(t,"every",function(){return o});var r=n(234),i=n(233);function o(e,t){return function(n){return n.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.__extends(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"exhaust",function(){return s});var r=n(234),i=n(291),o=n(292);function s(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.__extends(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(o.subscribeToResult)(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"exhaustMap",function(){return u});var r=n(234),i=n(291),o=n(293),s=n(292),a=n(288),c=n(305);function u(e,t){return t?function(n){return n.pipe(u(function(n,r){return Object(c.from)(e(n,r)).pipe(Object(a.map)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new d(e))}}var d=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.__extends(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new o.InnerSubscriber(this,void 0,void 0);this.destination.add(r),Object(s.subscribeToResult)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"expand",function(){return s}),n.d(t,"ExpandOperator",function(){return a}),n.d(t,"ExpandSubscriber",function(){return c});var r=n(234),i=n(291),o=n(292);function s(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new a(e,t,n))}}var a=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.concurrent,this.scheduler))},e}(),c=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.__extends(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Object(o.subscribeToResult)(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"finalize",function(){return s});var r=n(234),i=n(233),o=n(239);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.callback))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new o.Subscription(n)),r}return r.__extends(t,e),t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"find",function(){return o}),n.d(t,"FindValueOperator",function(){return s}),n.d(t,"FindValueSubscriber",function(){return a});var r=n(234),i=n(233);function o(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new s(e,n,!1,t))}}var s=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),a=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r.__extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"findIndex",function(){return i});var r=n(366);function i(e,t){return function(n){return n.lift(new r.FindValueOperator(e,n,!0,t))}}},function(e,t,n){n.r(t),n.d(t,"first",function(){return u});var r=n(285),i=n(326),o=n(359),s=n(349),a=n(358),c=n(282);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i.filter)(function(t,n){return e(t,n,u)}):c.identity,Object(o.take)(1),n?Object(s.defaultIfEmpty)(t):Object(a.throwIfEmpty)(function(){return new r.EmptyError}))}}},function(e,t,n){n.r(t),n.d(t,"ignoreElements",function(){return o});var r=n(234),i=n(233);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype._next=function(e){},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"isEmpty",function(){return o});var r=n(234),i=n(233);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"last",function(){return u});var r=n(285),i=n(326),o=n(372),s=n(358),a=n(349),c=n(282);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i.filter)(function(t,n){return e(t,n,u)}):c.identity,Object(o.takeLast)(1),n?Object(a.defaultIfEmpty)(t):Object(s.throwIfEmpty)(function(){return new r.EmptyError}))}}},function(e,t,n){n.r(t),n.d(t,"takeLast",function(){return a});var r=n(234),i=n(233),o=n(284),s=n(265);function a(e){return function(t){return 0===e?Object(s.empty)():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"mapTo",function(){return o});var r=n(234),i=n(233);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.value))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.__extends(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"materialize",function(){return s});var r=n(234),i=n(233),o=n(264);function s(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new c(e))},e}(),c=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._next=function(e){this.destination.next(o.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o.Notification.createComplete()),e.complete()},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"max",function(){return i});var r=n(376);function i(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return Object(r.reduce)(t)}},function(e,t,n){n.r(t),n.d(t,"reduce",function(){return a});var r=n(377),i=n(372),o=n(349),s=n(246);function a(e,t){return arguments.length>=2?function(n){return Object(s.pipe)(Object(r.scan)(e,t),Object(i.takeLast)(1),Object(o.defaultIfEmpty)(t))(n)}:function(t){return Object(s.pipe)(Object(r.scan)(function(t,n,r){return e(t,n,r+1)}),Object(i.takeLast)(1))(t)}}},function(e,t,n){n.r(t),n.d(t,"scan",function(){return o});var r=n(234),i=n(233);function o(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.__extends(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"merge",function(){return i});var r=n(320);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.merge.apply(void 0,[t].concat(e)))}}},function(e,t,n){n.r(t),n.d(t,"mergeMapTo",function(){return i});var r=n(304);function i(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Object(r.mergeMap)(function(){return e},t,n):("number"==typeof t&&(n=t),Object(r.mergeMap)(function(){return e},n))}},function(e,t,n){n.r(t),n.d(t,"mergeScan",function(){return a}),n.d(t,"MergeScanOperator",function(){return c}),n.d(t,"MergeScanSubscriber",function(){return u});var r=n(234),i=n(292),o=n(291),s=n(293);function a(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.concurrent))},e}(),u=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.__extends(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(r,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){var r=new s.InnerSubscriber(this,void 0,void 0);this.destination.add(r),Object(i.subscribeToResult)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(o.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"min",function(){return i});var r=n(376);function i(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return Object(r.reduce)(t)}},function(e,t,n){n.r(t),n.d(t,"multicast",function(){return i}),n.d(t,"MulticastOperator",function(){return o});var r=n(248);function i(e,t){return function(n){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new o(i,t));var s=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(n,r.connectableObservableDescriptor);return s.source=n,s.subjectFactory=i,s}}var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}()},function(e,t,n){n.r(t),n.d(t,"onErrorResumeNext",function(){return u}),n.d(t,"onErrorResumeNextStatic",function(){return d});var r=n(234),i=n(305),o=n(240),s=n(291),a=n(293),c=n(292);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(o.isArray)(e[0])&&(e=e[0]),function(t){return t.lift(new l(e))}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n;return 1===e.length&&Object(o.isArray)(e[0])&&(e=e[0]),n=e.shift(),Object(i.from)(n,null).lift(new l(e))}var l=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.nextSources))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.__extends(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new a.InnerSubscriber(this,void 0,void 0);this.destination.add(t),Object(c.subscribeToResult)(this,e,void 0,void 0,t)}else this.destination.complete()},t}(s.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"pairwise",function(){return o});var r=n(234),i=n(233);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.__extends(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"partition",function(){return o});var r=n(325),i=n(326);function o(e,t){return function(n){return[Object(i.filter)(e,t)(n),Object(i.filter)(Object(r.not)(e,t))(n)]}}},function(e,t,n){n.r(t),n.d(t,"pluck",function(){return i});var r=n(288);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(r.map)(function(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if(void 0===o)return;r=o}return r}}(e,n))(t)}}},function(e,t,n){n.r(t),n.d(t,"publish",function(){return o});var r=n(249),i=n(382);function o(e){return e?Object(i.multicast)(function(){return new r.Subject},e):Object(i.multicast)(new r.Subject)}},function(e,t,n){n.r(t),n.d(t,"publishBehavior",function(){return o});var r=n(254),i=n(382);function o(e){return function(t){return Object(i.multicast)(new r.BehaviorSubject(e))(t)}}},function(e,t,n){n.r(t),n.d(t,"publishLast",function(){return o});var r=n(272),i=n(382);function o(){return function(e){return Object(i.multicast)(new r.AsyncSubject)(e)}}},function(e,t,n){n.r(t),n.d(t,"publishReplay",function(){return o});var r=n(255),i=n(382);function o(e,t,n,o){n&&"function"!=typeof n&&(o=n);var s="function"==typeof n?n:void 0,a=new r.ReplaySubject(e,t,o);return function(e){return Object(i.multicast)(function(){return a},s)(e)}}},function(e,t,n){n.r(t),n.d(t,"race",function(){return o});var r=n(240),i=n(327);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(r.isArray)(e[0])&&(e=e[0]),t.lift.call(i.race.apply(void 0,[t].concat(e)))}}},function(e,t,n){n.r(t),n.d(t,"repeat",function(){return s});var r=n(234),i=n(233),o=n(265);function s(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(o.empty)():e<0?t.lift(new a(-1,t)):t.lift(new a(e-1,t))}}var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.count,this.source))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.__extends(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"repeatWhen",function(){return a});var r=n(234),i=n(249),o=n(291),s=n(292);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier,t))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new i.Subject;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(s.subscribeToResult)(this,t)},t}(o.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"retry",function(){return o});var r=n(234),i=n(233);function o(e){return void 0===e&&(e=-1),function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.__extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"retryWhen",function(){return a});var r=n(234),i=n(249),o=n(291),s=n(292);function a(e){return function(t){return t.lift(new c(e,t))}}var c=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier,this.source))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.__extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new i.Subject;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}o=Object(s.subscribeToResult)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(o.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"sample",function(){return s});var r=n(234),i=n(291),o=n(292);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),r=t.subscribe(n);return r.add(Object(o.subscribeToResult)(n,this.notifier)),r},e}(),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.__extends(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"sampleTime",function(){return s});var r=n(234),i=n(233),o=n(277);function s(e,t){return void 0===t&&(t=o.async),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.period,this.scheduler))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(u,n,{subscriber:i,period:n})),i}return r.__extends(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(i.Subscriber);function u(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}},function(e,t,n){n.r(t),n.d(t,"sequenceEqual",function(){return o}),n.d(t,"SequenceEqualOperator",function(){return s}),n.d(t,"SequenceEqualSubscriber",function(){return a});var r=n(234),i=n(233);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compareTo,this.comparator))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new c(t,i))),i}return r.__extends(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var r=e.shift(),i=t.shift(),o=!1;try{o=n?n(r,i):r===i}catch(e){this.destination.error(e)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(i.Subscriber),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.__extends(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"share",function(){return a});var r=n(382),i=n(252),o=n(249);function s(){return new o.Subject}function a(){return function(e){return Object(i.refCount)()(Object(r.multicast)(s)(e))}}},function(e,t,n){n.r(t),n.d(t,"shareReplay",function(){return i});var r=n(255);function i(e,t,n){var i;return i=e&&"object"===(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e))?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift((s=(t=i).bufferSize,a=void 0===s?Number.POSITIVE_INFINITY:s,c=t.windowTime,u=void 0===c?Number.POSITIVE_INFINITY:c,d=t.refCount,l=t.scheduler,f=0,p=!1,h=!1,function(e){f++,n&&!p||(p=!1,n=new r.ReplaySubject(a,u,l),o=e.subscribe({next:function(e){n.next(e)},error:function(e){p=!0,n.error(e)},complete:function(){h=!0,n.complete()}}));var t=n.subscribe(this);this.add(function(){f--,t.unsubscribe(),o&&!h&&d&&0===f&&(o.unsubscribe(),o=void 0,n=void 0)})}));var t,n,o,s,a,c,u,d,l,f,p,h}}},function(e,t,n){n.r(t),n.d(t,"single",function(){return s});var r=n(234),i=n(233),o=n(285);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.predicate,this.source))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.__extends(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.EmptyError)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"skip",function(){return o});var r=n(234),i=n(233);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.__extends(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"skipLast",function(){return s});var r=n(234),i=n(233),o=n(284);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i.Subscriber(e)):t.subscribe(new c(e,this._skipCount))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.__extends(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"skipUntil",function(){return a});var r=n(234),i=n(291),o=n(293),s=n(292);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var i=new o.InnerSubscriber(r,void 0,void 0);return r.add(i),r.innerSubscription=i,Object(s.subscribeToResult)(r,n,void 0,void 0,i),r}return r.__extends(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"skipWhile",function(){return o});var r=n(234),i=n(233);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"startWith",function(){return o});var r=n(301),i=n(267);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(i.isScheduler)(n)?(e.pop(),function(t){return Object(r.concat)(e,t,n)}):function(t){return Object(r.concat)(e,t)}}},function(e,t,n){n.r(t),n.d(t,"subscribeOn",function(){return i});var r=n(408);function i(e,t){return void 0===t&&(t=0),function(n){return n.lift(new o(e,t))}}var o=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new r.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}()},function(e,t,n){n.r(t),n.d(t,"SubscribeOnObservable",function(){return a});var r=n(234),i=n(231),o=n(273),s=n(319),a=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=o.asap);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!Object(s.isNumeric)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=o.asap),i}return r.__extends(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.asap),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(i.Observable)},function(e,t,n){n.r(t),n.d(t,"switchAll",function(){return o});var r=n(410),i=n(282);function o(){return Object(r.switchMap)(i.identity)}},function(e,t,n){n.r(t),n.d(t,"switchMap",function(){return u});var r=n(234),i=n(291),o=n(293),s=n(292),a=n(288),c=n(305);function u(e,t){return"function"==typeof t?function(n){return n.pipe(u(function(n,r){return Object(c.from)(e(n,r)).pipe(Object(a.map)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new d(e))}}var d=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.InnerSubscriber(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(s.subscribeToResult)(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"switchMapTo",function(){return i});var r=n(410);function i(e,t){return t?Object(r.switchMap)(function(){return e},t):Object(r.switchMap)(function(){return e})}},function(e,t,n){n.r(t),n.d(t,"takeUntil",function(){return s});var r=n(234),i=n(291),o=n(292);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new c(e),r=Object(o.subscribeToResult)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"takeWhile",function(){return o});var r=n(234),i=n(233);function o(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.inclusive))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.__extends(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"tap",function(){return a});var r=n(234),i=n(233),o=n(247),s=n(235);function a(e,t,n){return function(r){return r.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))},e}(),u=function(e){function t(t,n,r,i){var a=e.call(this,t)||this;return a._tapNext=o.noop,a._tapError=o.noop,a._tapComplete=o.noop,a._tapError=r||o.noop,a._tapComplete=i||o.noop,Object(s.isFunction)(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o.noop,a._tapError=n.error||o.noop,a._tapComplete=n.complete||o.noop),a}return r.__extends(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"defaultThrottleConfig",function(){return s}),n.d(t,"throttle",function(){return a});var r=n(234),i=n(291),o=n(292),s={leading:!0,trailing:!1};function a(e,t){return void 0===t&&(t=s),function(n){return n.lift(new c(e,t.leading,t.trailing))}}var c=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.__extends(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(o.subscribeToResult)(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,n,r,i){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"throttleTime",function(){return a});var r=n(234),i=n(233),o=n(277),s=n(415);function a(e,t,n){return void 0===t&&(t=o.async),void 0===n&&(n=s.defaultThrottleConfig),function(r){return r.lift(new c(e,t,n.leading,n.trailing))}}var c=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r.__extends(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(d,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i.Subscriber);function d(e){e.subscriber.clearThrottle()}},function(e,t,n){n.r(t),n.d(t,"timeInterval",function(){return a}),n.d(t,"TimeInterval",function(){return c});var r=n(277),i=n(377),o=n(312),s=n(288);function a(e){return void 0===e&&(e=r.async),function(t){return Object(o.defer)(function(){return t.pipe(Object(i.scan)(function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}},{current:e.now(),value:void 0,last:void 0}),Object(s.map)(function(e){var t=e.current,n=e.last,r=e.value;return new c(r,t-n)}))})}}var c=function(){return function(e,t){this.value=e,this.interval=t}}()},function(e,t,n){n.r(t),n.d(t,"timeout",function(){return a});var r=n(277),i=n(286),o=n(419),s=n(271);function a(e,t){return void 0===t&&(t=r.async),Object(o.timeoutWith)(e,Object(s.throwError)(new i.TimeoutError),t)}},function(e,t,n){n.r(t),n.d(t,"timeoutWith",function(){return c});var r=n(234),i=n(277),o=n(351),s=n(291),a=n(292);function c(e,t,n){return void 0===n&&(n=i.async),function(r){var i=Object(o.isDate)(e),s=i?+e-n.now():Math.abs(e);return r.lift(new u(s,i,t,n))}}var u=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),d=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return r.__extends(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(a.subscribeToResult)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"timestamp",function(){return o}),n.d(t,"Timestamp",function(){return s});var r=n(277),i=n(288);function o(e){return void 0===e&&(e=r.async),Object(i.map)(function(t){return new s(t,e.now())})}var s=function(){return function(e,t){this.value=e,this.timestamp=t}}()},function(e,t,n){n.r(t),n.d(t,"toArray",function(){return o});var r=n(376);function i(e,t,n){return 0===n?[t]:(e.push(t),e)}function o(){return Object(r.reduce)(i,[])}},function(e,t,n){n.r(t),n.d(t,"window",function(){return a});var r=n(234),i=n(249),o=n(291),s=n(292);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new u(e),r=t.subscribe(n);return r.closed||n.add(Object(s.subscribeToResult)(n,this.windowBoundaries)),r},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new i.Subject,t.next(n.window),n}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new i.Subject;t.next(n)},t}(o.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"windowCount",function(){return s});var r=n(234),i=n(233),o=n(249);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.windowSize,this.startWindowEvery))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new o.Subject],i.count=0,t.next(i.windows[0]),i}return r.__extends(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(e);var c=this.count-r+1;if(c>=0&&c%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var u=new o.Subject;i.push(u),n.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(i.Subscriber)},function(e,t,n){n.r(t),n.d(t,"windowTime",function(){return u});var r=n(234),i=n(249),o=n(277),s=n(233),a=n(319),c=n(267);function u(e){var t=o.async,n=null,r=Number.POSITIVE_INFINITY;return Object(c.isScheduler)(arguments[3])&&(t=arguments[3]),Object(c.isScheduler)(arguments[2])?t=arguments[2]:Object(a.isNumeric)(arguments[2])&&(r=arguments[2]),Object(c.isScheduler)(arguments[1])?t=arguments[1]:Object(a.isNumeric)(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new d(e,n,r,t))}}var d=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.__extends(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(i.Subject),f=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==r&&r>=0){var c={subscriber:s,window:a,context:null},u={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(m,n,c)),s.add(o.schedule(h,r,u))}else{var d={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(p,n,d))}return s}return r.__extends(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new l;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.Subscriber);function p(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function h(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o={action:this,subscription:null},s={subscriber:n,window:n.openWindow(),context:o};o.subscription=r.schedule(m,t,s),this.add(o.subscription),this.schedule(e,i)}function m(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}},function(e,t,n){n.r(t),n.d(t,"windowToggle",function(){return c});var r=n(234),i=n(249),o=n(239),s=n(291),a=n(292);function c(e,t){return function(n){return n.lift(new u(e,t))}}var u=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.openings,this.closingSelector))},e}(),d=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(a.subscribeToResult)(i,n,n)),i}return r.__extends(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,s){if(e===this.openings){var c=void 0;try{c=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var u=new i.Subject,d=new o.Subscription,l={window:u,subscription:d};this.contexts.push(l);var f=Object(a.subscribeToResult)(this,c,l);f.closed?this.closeWindow(this.contexts.length-1):(f.context=l,d.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(s.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"windowWhen",function(){return a});var r=n(234),i=n(249),o=n(291),s=n(292);function a(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new i.Subject;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=Object(s.subscribeToResult)(this,n))},t}(o.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"withLatestFrom",function(){return s});var r=n(234),i=n(291),o=n(292);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new a(r,n))}}var a=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.observables,this.project))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var s=n.length;i.values=new Array(s);for(var a=0;a<s;a++)i.toRespond.push(a);for(a=0;a<s;a++){var c=n[a];i.add(Object(o.subscribeToResult)(i,c,c,a))}return i}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.OuterSubscriber)},function(e,t,n){n.r(t),n.d(t,"zip",function(){return i});var r=n(331);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.zip.apply(void 0,[t].concat(e)))}}},function(e,t,n){n.r(t),n.d(t,"zipAll",function(){return i});var r=n(331);function i(e){return function(t){return t.lift(new r.ZipOperator(e))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(72)),i=n(230),o=s(n(146));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){this.mgr=e,this.confrId=t,function(){r.default.extend(this,{subscribe:function(e,t,n){return this.subject.subscribe(e,t,n)}},{onMeExit:function(e,t){this.mgr._onExit(this.confrId,e,t),this.mgr.upload_stats&&this.mgr.upload_stats.upload_event({event:1,reason:e,sessionId:this._session._sessionId})},onAddMember:function(e){if(this.mgr.onMemberJoin(e,this.confrId),this.mgr.upload_stats){var t=e.role,n=e.memName,r=e.id;this.mgr.upload_stats.upload_event({event:10,role:t,addMemName:n,addMemId:r})}},onRemoveMember:function(e,t){if(this.mgr.onMemberLeave(e,t,this.confrId),this.mgr.upload_stats){var n=e.role,r=e.memName,i=e.id;this.mgr.upload_stats.upload_event({event:11,role:n,removeMemName:r,removeMemId:i})}},onAddStream:function(e){if(0!=e.id&&(e.located()||this.onRemoteStream&&this.onRemoteStream(e),this.mgr.streamBindVideo(e,void 0,this.confrId),this.mgr._onAddMemberStream(e,this.confrId),!e.located()&&this.mgr.upload_stats)){var t=e.id,n=e.voff,r=e.aoff,i=e.type,o=e.memId,s=e.memName;this.mgr.upload_stats.upload_event({event:12,sId:t,voff:n,aoff:r,streamType:i,addMemId:o,addMemName:s})}},onRemoveStream:function(e){if(0!=e.id){var t=this.mgr._confr(this.confrId);t&&e&&e.located()&&(t.av&&t.av.id===e.id&&(t.av=void 0),t.desktop&&t.desktop.id===e.id&&(t.desktop=void 0));var n=r.default.removeAttribute(this.mgr._videos,e.id);if(this.mgr._onRemoveMemberStream(e,this.confrId),n&&this.mgr.unloadVideo(e.owner,e,n),!e.located()&&this.mgr.upload_stats){var i=e.id,o=e.type,s=e.memId,a=e.memName;this.mgr.upload_stats.upload_event({event:13,sId:i,streamType:o,removeMemId:s,removeMemName:a})}}},onUpdateStream:function(e,t){if(0!=e.id){var n=this,r=this.mgr._videos[e.id];r&&(t&&t.ifMediaStream(function(e){r&&attachMediaStream(r,e),r&&r.hasAttribute("flow")&&n.mgr.onMediaTransmission(r,function(e,t,n,i){(0,o.default)(r).trigger("onMediaTransmission",[e,t,n,i])})}),e.aoff?r.setAttribute("aoff","aoff"):r.removeAttribute("aoff"),e.voff?r.setAttribute("voff","voff"):r.removeAttribute("voff"));var i={video:!e.voff,audio:!e.aoff};t&&t.ifVoff(function(t){i||(i={}),i.video=!t,e.located()||(i.video=e.subArgs?e.subArgs.subSVideo:!e.voff)}),t&&t.ifAoff(function(t){i||(i={}),i.audio=!t,e.located()||(i.audio=e.subArgs?e.subArgs.subSAudio:!e.aoff,2===e.type&&(i.audio=!0))}),i&&this.mgr._onMemberMediaChanaged(e.owner,e,i,this.confrId),i&&this.mgr._onUpdateMemberStream(e,i,this.confrId)}},onNetworkWeak:function(){},onNotSupportPublishVideoCodecs:function(e){this.mgr._onNotSupportMemberPublishVideoCodecs(e,this.confrId)},onRecvRemoteMessage:function(e,t){this.mgr._onRecvRemoteMessage(e,t,this.confrId)},onSoundChanage:function(e,t,n){this.mgr._onMemberSoundChanaged(e,t,n,this.confrId)},onTalking:function(e,t,n){this.mgr._onTalking(e,t,n,this.confrId)},onRoleUpdate:function(e,t){var n=this.mgr._confrs[this.confrId];t&&(n.roleToken=t),n.role=e,e==this.mgr.Role.AUDIENCE&&(n.av&&this.mgr.hungup(n.av),n.desktop&&this.mgr.hungup(n.desktop)),this.mgr._onRoleUpdated(e,this.confrId),this.mgr.upload_stats&&this.mgr.upload_stats.upload_event({event:21,role:e,sessionId:this._session._sessionId})},onNotifyEvent:function(e){var t=this;try{if(e instanceof emedia.event.ICEChanage){var n=e.webrtc,i=e.state;r.default.forEach(t._cacheStreams,function(e,o){if(o.rtcId==n.getRtcId()){var s=r.default.extend({},o),a=r.default.extend({},o.owner);t.mgr._onStreamIceStateChanged(a,s,i,t.confrId)}})}}finally{t.subject.next(e)}}})}.apply(this),this.subject=new i.Subject,this.onRemoteStream=n}},function(e,t,n){var r,i=n(144),o=(r=i)&&r.__esModule?r:{default:r};var s=n(72),a=s.tagLogger("PannelVideo"),c=n(432),u=n(433),d=(n(221),n(222)),l=n(434);function f(e){f._overrideCount++,f.overrideObj!==e&&(f.overrideObj=e,p.override=e.listeners.onRemoveMember,p.overrideService=e,e.listeners.onRemoveMember=p)}function p(e,t){try{var n=e&&e.id&&function(e,t,n){var r=[];return e.current.__remoteControls&&s.forEach(e.current.__remoteControls,function(e,i){n&&i._ctrlStream.id!==n.id||t&&i._controller.id!==t||r.push(i)}),r}(p.overrideService,e.id);n&&n.length&&s.forEach(n,function(t,n){a.warn("Remove member. free remote controller. it is ",n.id,n._ctrlStream.id,n._controller.memName,e.id),n._free(),n._callbacks&&n._callbacks.onRemoteFreeControl&&n._callbacks.onRemoteFreeControl(n._ctrlStream,n._controller,n._cId)})}finally{p.override&&p.override.apply(this,arguments)}}function h(e){h._overrideCount++,h.overrideObj!==e&&(h.overrideObj=e,m.override=e.listeners.onRemoveStream,m.overrideService=e,e.listeners.onRemoveStream=m)}function m(e){v(m.overrideService,e),m.override&&m.override.apply(this,arguments)}function v(e,t){M(e,t.id);var n=C(e,t);n&&s.forEach(n,function(e,t){t._free&&t._free()}),s.removeAttribute(e.current.__remoteControls,t.id)}function _(e){if(_._overrideCount++,_.overrideObj!==e){_.overrideObj=e;var t=e.onHungup;e.onHungup=function(n){v(e,n),t&&t.apply(this,arguments)}.bind(e)}}function g(e,t){if(g._overrideCount++,g.overrideObj!==e){g.overrideObj=e;var n=e._onRemotePannelControl;e._onRemotePannelControl=function(e){I(this,e,!1,t),n&&n.apply(this,arguments)}.bind(e)}}function b(e,t,n){var r=[];n&&s.forEach(n.actions,function(e,t){t.xy&&r.push({x:Math.round(1e4*t.xy.x),y:Math.round(1e4*t.xy.y),oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time}),t.xy||r.push({oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time})});var i={op2:30,evt:0,streamId:t.id,actions:r,cId:n.cId};return e.current.newMessage({op:1002,memId:t.owner.id,arg:(0,o.default)(i),_reqOps:[100230]})}f._overrideCount=0,h._overrideCount=0,_._overrideCount=0,g._overrideCount=0;var y=0,A=s.prototypeExtend({__init__:function(){this.id=y++},accept:function(e,t){var n=this;if(n.hasOtherControl())throw n.busy(),a.error("Other has been controled."),"Other has been controled.";var r=!1,i=C(this._service,this._ctrlStream,this._controller);(i&&s.forEach(i,function(e,t){t.id<n.id?t._free():r=!0}),r)?n._free():((this._service.current.__remoteControls||(this._service.current.__remoteControls={}))[n.id]=n,T(this,e,t),w(this._service,this._reqevt,0))},controlling:function(){var e=this,t=[],n=C(this._service,this._ctrlStream);return n&&s.forEach(n,function(n,r){r._controller.memName===e._controller.memName&&t.push(r)}),t&&t.length?t:void 0},hasOtherControl:function(){var e=this,t=!1,n=C(this._service,this._ctrlStream);return n&&s.forEach(n,function(n,r){r._controller.memName!=e._controller.memName&&(t=!0)}),t},busy:function(){w(this._service,this._reqevt,-403)},reject:function(){w(this._service,this._reqevt,-402)},_free:function(){s.removeAttribute(this._service.current.__remoteControls,this.id)},forceDisconnect:function(){var e=C(this._service,this._ctrlStream);e&&s.forEach(e,function(e,t){t._free&&t._free()}),a.info("remote control force disconnect")}});function w(e,t,n){e.current.message({op:1001,tsxId:t.tsxId,memId:t.memId,arg:(0,o.default)({cId:t.arg.cId}),result:n}).post()}function S(e,t){w(e,t,-405)}function C(e,t,n,r){var i=[];return e.current.__remoteControls&&s.forEach(e.current.__remoteControls,function(e,o){t&&o._ctrlStream.id!==t.id||n&&o._controller.memName!==n.memName||r&&o._cId!==r||i.push(o)}),i}function I(e,t,n,r){!function(e){"string"==typeof e.arg&&(e.arg=JSON.parse(e.arg));var t=e.arg,n=[],r=[];t&&t.actions&&s.forEach(t.actions,function(e,t){void 0!==t.x&&void 0!==t.y&&n.push({xy:{x:t.x/1e4,y:t.y/1e4},oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time}),(void 0===t.x||void 0===t.y)&&r.push({oper:t.oper,btn:t.btn,sn:t.sn,_time:t._time})}),t.mouse=n,t.keyboard=r}(t);var i=t.arg,c=i.cId,u=i.streamId,l=e.getMemberById(t.memId),f=e.getStreamById(u);if(n||!function(){if(!l||!f)return S(e,t),!0;if(1===i.evt){var n,o=new A({_service:e,_controller:l,_ctrlStream:f,_cId:c,_reqevt:t,_callbacks:r});return o.hasOtherControl()?(o.busy(),!0):(n=o.controlling())?(s.forEach(n,function(e,t){t._cId=c}),w(e,t,0),!0):(r&&r.onHasRemoteControl&&r.onHasRemoteControl(f,l,o),!0)}if(2===i.evt){var a=C(e,f,l,c);return a&&s.forEach(a,function(n,r){r._free&&r._free(),w(e,t,0)}),r&&r.onRemoteFreeControl&&r.onRemoteFreeControl(f,l,c),!0}}()){var p=C(e,f,l,c);if(n||p&&0!==p.length||S(e,t),p&&s.forEach(p,function(e,t){t._lastRecvTimestamp=(new Date).getTime()}),n){var h=e.current.__remoteControls[f.id];p=p||[],h&&p.push(h)}s.forEach(p,function(r,c){var u,l=0;if((u=i.mouse)&&u.length>0)try{s.forEach(u,function(e,t){t.sn>l&&(l=t.sn),t.oper===d.BTN.MOVE?c.mouseTrack&&c.mouseTrack.track(t.xy):c.mouseTrack&&c.mouseTrack.trigger(new d(t))})}catch(e){a.warn(e)}if((u=i.keyboard)&&u.length>0)try{s.forEach(u,function(e,t){t.sn>l&&(l=t.sn),c.keyboard&&(t.oper===d.BTN.KEYBOARD_DOWN?c.keyboard.onKeyDown(t.btn):t.oper===d.BTN.KEYBOARD_UP&&c.keyboard.onKeyUp(t.btn))})}catch(e){a.warn(e)}if(!0!==n)try{e.current.message({op:1001,tsxId:t.tsxId,memId:t.memId,arg:(0,o.default)({sn:l}),result:0}).post(function(e){a.debug("Send remote control response. the result = ",e.result,e.msg||"")})}catch(e){a.warn(e)}})}}function x(e,t,n){var r=t.sid,i=e.getStreamById(r);e.current.__remoteControls&&e.current.__remoteControls[r]&&I(e,b(e,i,{actions:[t]}),!0);var o=e.current.__pannelBuffers[r],c=o.getUnclearSize();if(o.put(t),c<emedia.config.allowSendWhenLessThan){!function t(){for(var c=o.getUnread(),u=0,d=0;c&&d<c.length;d++){var l=c[d];s.removeAttribute(l,"sid"),u<l.sn&&(u=l.sn)}c&&0!==c.length&&(a.debug(r,"buffer remain:",o.getUnclearSize(),", send evt:",c.length),e.current.postMessage(b(e,i,{actions:c,cId:o._cId}),function(e){if(-402!==e.result)if(-403!==e.result)if(-408!==e.result){if(-507===e.result||-405===e.result)return o.clearRead(u),void(n&&n.onNotAllowRemoteControl&&n.onNotAllowRemoteControl(i));0===e.result&&(o._lastRspTimestamp=(new Date).getTime());var c=e.arg;c&&(c=JSON.parse(c))&&!s.isInt(c.sn)?a.warn("rsp.sn not a Number.",c.sn,"for streamId",r):c&&void 0!==c.sn&&o.clearRead(c.sn),t()}else n&&n.onRemoteControlTimeout&&n.onRemoteControlTimeout(i);else n&&n.onBusy&&n.onBusy(i);else n&&n.onReject&&n.onReject(i)}))}()}}function M(e,t){var n,r=e.current.__pannelMouses&&s.removeAttribute(e.current.__pannelMouses,t),i=e.current.__pannelKeyboards&&s.removeAttribute(e.current.__pannelKeyboards,t);if(e.current.__pannelBuffers&&(n=s.removeAttribute(e.current.__pannelBuffers,t)),r&&r.ungrab(),i&&i.ungrab(),n){var c=e.getStreamById(t);if(n._callbacks&&n._callbacks.onDisControlled&&n._callbacks.onDisControlled(c),c){var u=e.current.newMessage({op:1002,memId:c.owner.id,arg:(0,o.default)({op2:30,streamId:c.id,evt:2,cId:n._cId}),_reqOps:[100230]});e.current.postMessage(u,function(e){0!==e.result&&a.warn("Unkown result：",e.result)})}}}function E(e,t,n,r,i,f){var p=Math.uuidFast();p=p.substr(p.length-6,6);var h=e.getStreamById(t);if(!h._webrtc)throw f&&f.onNotAllowRemoteControl&&f.onNotAllowRemoteControl(h),a.error("Not allow control. cause by the stream not sub"),"Not allow control. cause by the stream not sub";var m={op2:30,streamId:h.id,evt:1,cId:p},v=e.current.newMessage({op:1002,memId:h.owner.id,arg:(0,o.default)(m),_reqOps:[100230]});e.current.postMessage(v,function(o){if(-402!==o.result)if(-403!==o.result)if(-408!==o.result)if(-507!==o.result&&-405!==o.result){if(0===o.result)return function(e,t,n,r,i,o,f,p){void 0===i&&(i=n);var h=e.getStreamById(t),m=(e.current.__pannelMouses||(e.current.__pannelMouses={}))[t];m&&M(e,t);if(!h.located()&&!h.owner.acptOps[1003])throw a.error("which do not recv remote message, it is ",h.owner.memName),h.owner.memName+" do not recv remote message";m=new c({_target:i,_focused:!0,onMouseEnter:function(){(function(e,t,n,r,i){r&&r()}).call(m,e,t,n,o&&o.onMouseEnter,o),v&&v.grab()},onMouseExit:function(){(function(e,t,n,r,i){r&&r()}).call(m,e,t,n,o&&o.onMouseExit,o),v&&v.ungrab()},onMouseButton:function(i,a){!0===r&&(i.xy.x=-i.xy.x),function(e,t,n,r,i,o,a){r.xy=e.eventXYAtMedia(r.xy,n),r.xy&&(r.xy={x:r.xy.x/r.xy.width,y:r.xy.y/r.xy.height},s.extend(r,{sid:t}),x(e,r,a),o&&o(r,i))}.call(m,e,t,n,i,a,o&&o.onMouseButton,o)},onMouseMove:function(i,s){emedia.config.disableTrack||(!0===r&&(i.x=-i.x),function(e,t,n,r,i,o,s){var a=e.eventXYAtMedia(r,n);a&&(x(e,{xy:a={x:a.x/a.width,y:a.y/a.height},oper:d.BTN.MOVE,sid:t},s),o&&o(a,i))}.call(m,e,t,n,i,s,o&&o.onMouseMove,o))}});var v;(e.current.__pannelBuffers||(e.current.__pannelBuffers={}))[t]=new l({_cId:f,_callbacks:o,trackBufferSize:emedia.config.trackBufferSize||1e3});(e.current.__pannelMouses||(e.current.__pannelMouses={}))[t]=m,m.grab(),p&&(v=new u({_target:document,_focused:!0,onKeyPress:function(n,r){var i=r?d.BTN.KEYBOARD_DOWN:d.BTN.KEYBOARD_UP,s=n;(function(e,t,n,r,i,o){x(e,{oper:n,btn:r,sid:t},o),i&&i(n,r)}).call(v,e,t,i,s,o&&o.onKeyboard,o)}}),(e.current.__pannelKeyboards||(e.current.__pannelKeyboards={}))[t]=v)}(e,t,n,r,i,f,p,!0),void(f&&f.onAccept&&f.onAccept(h));a.warn("Unkown result：",o.result),f&&f.onNotAllowRemoteControl&&f.onNotAllowRemoteControl(h)}else f&&f.onNotAllowRemoteControl&&f.onNotAllowRemoteControl(h);else f&&f.onRemoteControlTimeout&&f.onRemoteControlTimeout(h);else f&&f.onBusy&&f.onBusy(h);else f&&f.onReject&&f.onReject(h)})}function T(e,t,n){var r=t;r&&(e.mouseTrack=r),e.keyboard=n}var R=function e(t){var n,r;(e.timeoutId&&clearTimeout(e.timeoutId),e.timeoutId=setTimeout(function(){e(t)},emedia.config.ctrlCheckIntervalMillis),t.current)&&((n=t.current.__remoteControls)&&s.forEach(n,function(e,t){if(void 0!==t.id&&e==t.id){var n=(new Date).getTime();t._lastRecvTimestamp&&n-t._lastRecvTimestamp>emedia.config.ctrlTimeoutMillis&&(a.warn("Timeout for remote controller. it is ",t.id,t._ctrlStream.id,t._controller.memName),t._free(),t._callbacks&&t._callbacks.onRemoteFreeControl&&t._callbacks.onRemoteFreeControl(t._ctrlStream,t._controller,t._cId))}}),(r=t.current.__pannelBuffers)&&s.forEach(r,function(e,n){var r=t.getStreamById(e);r&&!r.located()&&t.current.message({op:1002,memId:r.owner.id,arg:(0,o.default)({op2:30,streamId:r.id,evt:3,cId:n._cId}),_reqOps:[100230]}).post(function(e){})}))};e.exports={mirrorControlled:function(e,t,n,r){var i={};s.forEach(arguments,function(e,t){"function"==typeof t&&(i[t.name]=t)}),E(e,t,n,!0,r,i)},controlled:function(e,t,n,r){var i={};s.forEach(arguments,function(e,t){"function"==typeof t&&(i[t.name]=t)}),E(e,t,n,!1,r,i)},disControlled:M,controlling:T,graffiti:function(e,t,n,r){var i=new c({_target:e,_focused:!0,onMouseEnter:function(){},onMouseExit:function(){t.releaseTrigger()},onMouseButton:function(e,i){e.xy={x:e.xy.x/e.xy.width,y:e.xy.y/e.xy.height},!0===r&&(e.xy.x=-e.xy.x),n&&(e.xy=emedia.Service.prototype.eventXYAtMedia.call(null,e.xy,n)),e.xy&&t.trigger(e)},onMouseMove:function(e,i){e={x:e.x/e.width,y:e.y/e.height},!0===r&&(e.x=-e.x),n&&(e=emedia.Service.prototype.eventXYAtMedia.call(null,e,n)),e&&t.track(e)}});return i.grab(),i},echoControl:function(e,t,n,r){var i=e.getStreamById(t),o={_ctrlStream:i,_controller:i.owner,_service:e};T(o,n,r),(e.current.__remoteControls||(e.current.__remoteControls={}))[t]=o},disEchoControl:function(e,t){s.removeAttribute(e.current.__remoteControls,t)},support:function(e){var t={};s.forEach(arguments,function(e,n){0!=e&&"function"==typeof n&&(t[n.name]=n)}),_(e),h(e),f(e),g(e,t),R(e)},getController:function(e,t){var n=C(e,e.getStreamById(t));if(n&&0!==n.length)return n[0]._controller.memName}}},function(e,t,n){var r=n(72),i=(r.tagLogger("Mouse"),n(222));e.exports=r.prototypeExtend({__init__:function(){this._handlers=r.extend({mousedown:this._handleMouseDown.bind(this),mouseup:this._handleMouseUp.bind(this),mousemove:this._handleMouseMove.bind(this),mousewheel:this._handleMouseWheel.bind(this),mousedisable:this._handleMouseDisable.bind(this),mouseover:this._handleMouseOver.bind(this),mouseout:this._handleMouseOut.bind(this)},this._handlers||{})},onMouseButton:function(e,t){},onMouseMove:function(e,t){},onMouseEnter:function(){},onMouseExit:function(){},_onMouseButton:function(e,t,n){var r=(new Date).getTime(),o=new i({xy:e,oper:t,btn:n,_time:r});this.onMouseButton&&this.onMouseButton(o,this._lastTrigger),this._lastTrigger=o},_onMouseMove:function(e){this.onMouseMove&&this.onMouseMove(e,this._lastTrigger)},_captureMouse:function(){this._target.setCapture&&this._target.setCapture(),this._mouseCaptured=!0},_releaseMouse:function(){this._target.releaseCapture&&this._target.releaseCapture(),this._mouseCaptured=!1},_resetDoubleClickTimer:function(){this._doubleClickTimer=null},_handleMouseOver:function(e){!1!==this._mouseExit&&(this._mouseExit=!1,this.onMouseEnter&&this.onMouseEnter())},_handleMouseOut:function(e){!0!==this._mouseExit&&(this._mouseExit=!0,this.onMouseExit&&this.onMouseExit()),this._lastTrigger=void 0},_handleMouseDown:function(e){this._captureMouse(),this._handleMouseButton(e,i.BTN.KEY_DOWN)},_handleMouseUp:function(e){this._mouseCaptured&&(this._handleMouseButton(e,i.BTN.KEY_UP),this._releaseMouse())},_handleMouseWheel:function(e){if(this._focused){e=e||window.event;var t=r.getEventElementXY(e,this._target,this._scale),n=(e.detail?-1*e.detail:e.wheelDelta/40)>0?i.BTN.WHEEL_ROLL_UP:i.BTN.WHEEL_ROLL_DOWN;this._onMouseButton(t,i.BTN.KEY_DOWN,n),r.stopEvent(e)}},_handleMouseMove:function(e){if(this._focused){e=e||window.event;var t=r.getEventElementXY(e,this._target,this._scale);this._onMouseMove(t),r.stopEvent(e)}},_handleMouseDisable:function(e){if(this._focused){e=e||window.event;var t=r.getEventElementXY(e,this._target,this._scale);try{return!(t.realX>=0&&t.realY>=0&&t.realX<this._target.offsetWidth&&t.realY<this._target.offsetHeight)}finally{r.stopEvent(e)}}},_handleMouseButton:function(e,t){if(this._focused){e=e||window.event;var n,o=r.getEventElementXY(e,this._target,this._scale);if(e.touches||e.changedTouches){if(t==i.BTN.KEY_DOWN){if(null===this._doubleClickTimer)this._lastTouchPos=o;else{clearTimeout(this._doubleClickTimer);var s=this._lastTouchPos.x-o.x,a=this._lastTouchPos.y-o.y;Math.sqrt(s*s+a*a)<20*window.devicePixelRatio&&(o=this._lastTouchPos)}this._doubleClickTimer=setTimeout(this._resetDoubleClickTimer.bind(this),500)}n=i.BTN.LEFT}else n=e.which?1<<e.button:(1&e.button)+2*(2&e.button)+(4&e.button)/2;this._onMouseButton(o,t,n),r.stopEvent(e)}},grab:function(){var e=this._target;r.addEvent(e,"mouseover",this._handlers.mouseover),r.addEvent(e,"mouseout",this._handlers.mouseout),r.addEvent(e,"touchstart",this._handlers.mousedown),r.addEvent(e,"touchend",this._handlers.mouseup),r.addEvent(e,"touchmove",this._handlers.mousemove),r.addEvent(e,"mousedown",this._handlers.mousedown),r.addEvent(e,"mouseup",this._handlers.mouseup),r.addEvent(e,"mousemove",this._handlers.mousemove),r.addEvent(e,r.layoutEngine.gecko?"DOMMouseScroll":"mousewheel",this._handlers.mousewheel),r.addEvent(e,"contextmenu",this._handlers.mousedisable)},ungrab:function(){var e=this._target;r.removeEvent(e,"mouseover",this._handlers.mouseover),r.removeEvent(e,"mouseout",this._handlers.mouseout),r.removeEvent(e,"touchstart",this._handlers.mousedown),r.removeEvent(e,"touchend",this._handlers.mouseup),r.removeEvent(e,"touchmove",this._handlers.mousemove),r.removeEvent(e,"mousedown",this._handlers.mousedown),r.removeEvent(e,"mouseup",this._handlers.mouseup),r.removeEvent(e,"mousemove",this._handlers.mousemove),r.removeEvent(e,r.layoutEngine.gecko?"DOMMouseScroll":"mousewheel",this._handlers.mousewheel),r.removeEvent(e,"contextmenu",this._handlers.mousedisable)}})},function(e,t,n){var r=n(72),i=r.tagLogger("Keyboard");e.exports=r.prototypeExtend({__init__:function(){this._eventHandlers={keyup:this._handleKeyUp.bind(this),keydown:this._handleKeyDown.bind(this),keypress:this._handleKeyPress.bind(this),blur:this._allKeysUp.bind(this)}},getKey:function(e){return"keyCode"in e&&"key"in e?e.key+":"+e.keyCode:"keyCode"in e?e.keyCode:e.key},onKeyPress:function(e,t){},_onKeyPress:function(e,t){this.onKeyPress&&this.onKeyPress(e,t)},_handleRfbEvent:function(e,t){e.shiftKey,e.ctrlKey,e.altKey;var n=e.keyCode||e.which;this._onKeyPress(n,"keydown"==t)},_handleKeyDown:function(e){return!this._focused||!this._handleRfbEvent(e,"keydown")||(r.stopEvent(e),!1)},_handleKeyPress:function(e){return!this._focused||(r.stopEvent(e),!1)},_handleKeyUp:function(e){return!this._focused||!this._handleRfbEvent(e,"keyup")||(r.stopEvent(e),!1)},_allKeysUp:function(){},sync:function(e){},grab:function(){var e=this._target;r.addEvent(e,"keydown",this._eventHandlers.keydown),r.addEvent(e,"keyup",this._eventHandlers.keyup),r.addEvent(e,"keypress",this._eventHandlers.keypress),r.addEvent(e,"blur",this._eventHandlers.blur),i.info("keyboard grab at element")},ungrab:function(){var e=this._target;r.removeEvent(e,"keydown",this._eventHandlers.keydown),r.removeEvent(e,"keyup",this._eventHandlers.keyup),r.removeEvent(e,"keypress",this._eventHandlers.keypress),r.removeEvent(e,"blur",this._eventHandlers.blur),this._allKeysUp(),i.info("keyboard upgrab at element")}})},function(e,t,n){var r=n(72),i=(r.tagLogger("TotalBuffer"),n(435)),o=n(436),s=n(222);e.exports=r.prototypeExtend({trackBufferSize:100,_trackBufferCompRadio:.25,_sn:1,__init__:function(){this._eventBuffer=new i({_nextsn:this._nextsn.bind(this)}),this._trackBuffer=new o({_nextsn:this._nextsn.bind(this),_compRadio:this._trackBufferCompRadio,mouseTrackBufferSize:this.trackBufferSize})},_nextsn:function(){return this._sn++},put:function(e){e&&void 0!==e.oper&&(e.oper===s.BTN.MOVE?this._trackBuffer.put(e):this._eventBuffer.put(e))},getUnread1:function(e){function t(e,t){return e._time-t.time}var n;if(!e){var r=this._eventBuffer.getUnread(),i=this._trackBuffer.getUnread();return Array.prototype.push.apply(r,i),(n=r).sort(t),n}n=[];r=this._eventBuffer._getUnread(e),i=this._trackBuffer._getUnread(e);Array.prototype.push.apply(n,r),Array.prototype.push.apply(n,i),n.sort(t),n=n.slice(0,e>n.length?n.length:e);for(var o=0;o<n.length;o++)n[o].oper===s.BTN.MOVE?this._trackBuffer.getUnread(1):this._eventBuffer.getUnread(1);return n},getUnread:function(e){e||(e=this._eventBuffer.getUnreadSize()+this._trackBuffer.getUnreadSize());for(var t=[];t.length!==e;){var n=this._eventBuffer._getUnread(1),r=this._trackBuffer._getUnread(1);if(void 0===n&&r)t.push(this._trackBuffer.getUnread(1));else if(void 0===r&&n)t.push(this._eventBuffer.getUnread(1));else{if(void 0===r&&void 0===n)return t;n.sn<r.sn?t.push(this._eventBuffer.getUnread(1)):t.push(this._trackBuffer.getUnread(1))}}return t},getUnreadSize:function(){return this._trackBuffer.getUnreadSize()+this._eventBuffer.getUnreadSize()},getUnclearSize:function(){return this._trackBuffer.getUnclearSize()+this._eventBuffer.getUnclearSize()},clearRead:function(e){return this._eventBuffer.clearRead(e)+this._trackBuffer.clearRead(e)}})},function(e,t,n){var r=n(72);r.tagLogger("EventBuffer");e.exports=r.prototypeExtend({_buffer:[],_sn:1,_beginIndex:0,_readIndex:0,_endIndex:0,_nextsn:function(){return this._sn++},put:function(e){e&&(e.sn=this._nextsn(),this._buffer.push(e),this._endIndex++)},_getUnread:function(e){return this._readIndex===this._endIndex?1===e?void 0:[]:this._buffer[this._readIndex]},getUnread:function(e){var t;try{return t=this._getUnread(e)}finally{t&&(this._readIndex+=1===e?1:t.length)}},getUnreadSize:function(){return this._endIndex-this._readIndex},getUnclearSize:function(){return this._readIndex-this._beginIndex},clearRead:function(e){if(this._readIndex!==this._beginIndex){for(var t=0,n=this._beginIndex;n<this._readIndex&&this._buffer[n].sn<=e;n++)t++;if(0===t)return 0;for(n=0;n<t;n++)this._buffer.shift();return this._beginIndex=0,this._readIndex-=t,this._endIndex-=t,t}}})},function(e,t,n){var r=n(72);r.tagLogger("TrackBuffer");e.exports=r.prototypeExtend({mouseTrackBufferSize:1e3,_sn:1,_compRadio:.25,_beginIndex:0,_readIndex:0,_endIndex:0,__init__:function(){this._mouseTrackBuffer=new Array(this.mouseTrackBufferSize)},_nextsn:function(){return this._sn++},_index:function(e){return e%this.mouseTrackBufferSize},comp1:function(e){if(!(e>=1)){for(var t=Math.floor(1/e),n=this._beginIndex,r=n+1;n<this._endIndex;){for(var i=2;i<t&&n+i<this._endIndex;i++)this._mouseTrackBuffer[this._index(r++)]=this._mouseTrackBuffer[this._index(n+i)];n+=t}this._endIndex=r}},put1:function(e){if(e){e.sn=this._nextsn(),this._endIndex-this._readIndex===this.mouseTrackBufferSize&&(this.comp1(this._compRadio),this._readIndex=this._beginIndex);var t=this._index(this._beginIndex),n=(this._index(this._readIndex),this._index(this._endIndex));n<=t&&n>=0&&this._endIndex>this._beginIndex&&this._beginIndex++,this._mouseTrackBuffer[n]=e,this._endIndex++}},compHalfOfUnread:function(){for(var e=this._readIndex+2,t=this._readIndex+1;e<this._endIndex;)this._mouseTrackBuffer[this._index(t++)]=this._mouseTrackBuffer[this._index(e)],e+=2;this._endIndex=t},put:function(e){if(e){e.sn=this._nextsn(),this._endIndex-this._beginIndex===this.mouseTrackBufferSize&&this.compHalfOfUnread();var t=this._index(this._endIndex);this._mouseTrackBuffer[t]=e,this._endIndex++}},_interval:function(e,t){var n=this._index(e),r=this._index(t);if(n<r)return this._mouseTrackBuffer.slice(n,r);var i=this._mouseTrackBuffer.slice(n);return Array.prototype.push.apply(i,this._mouseTrackBuffer.slice(0,r)),i},_getUnread:function(e){return this._readIndex===this._endIndex?1===e?void 0:[]:this._mouseTrackBuffer[this._index(this._readIndex)]},getUnread:function(e){var t;try{return t=this._getUnread(e)}finally{t&&(this._readIndex+=1===e?1:t.length)}},getUnreadSize:function(){return this._endIndex-this._readIndex},getUnclearSize:function(){return this._readIndex-this._beginIndex},clearRead:function(e){if(this._readIndex!==this._beginIndex){for(var t=0,n=this._beginIndex;n<this._readIndex;n++){var r=this._index(n);if(!(this._mouseTrackBuffer[r].sn<=e))break;this._beginIndex++,t++}return t}}})},function(e,t,n){var r=n(72),i=r.tagLogger("CompositeCanvas");function o(){}for(var s in CanvasRenderingContext2D.prototype)!function(e){o.prototype[e]=function(){if("function"==typeof this._canvasContext[e])this._canvasContext[e].apply(this._canvasContext,arguments);else{var t=arguments.length>=1?arguments[0]:void 0;if(!t)return this._canvasContext[e];this._canvasContext[e]=t}}}(s);var a=r.prototypeExtend(o,{__init__:function(){this.compositeCanvasTag||(this.compositeCanvasTag=document.createElement("canvas")),this._canvasContext=this.compositeCanvasTag.getContext("2d"),this._canvasContext.globalAlpha=void 0!==this._globalAlpha?this._globalAlpha:1,this._compositeOperation=this._compositeOperation||c.source_over,this.globalCompositeOperation(this._compositeOperation)},setCanvas:function(){for(var e,t=this,n=0;n<arguments.length;n++)"function"==typeof(e=arguments[n])&&e(this.compositeCanvasTag,this._canvasContext),"function"!=typeof e&&r.isPlainObject(e)&&r.forEach(e,function(e,n){i.debug("Canvas set ",e," = ",n),t.compositeCanvasTag.setAttribute(e,n)});return t},getCanvasImageData:function(e,t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e.getContext("2d");return i.globalAlpha=t||0,i.getImageData.apply(i,n)},_composite:function(e){return new a(this,{_compositeOperation:e})},composite:function(e){return this.globalCompositeOperation(e),this},requestAnimationFrame:function(e){var t=this;return t.requestFrame(),t._requestAnimationFrameStart=window.requestAnimationFrame(function(e){t.requestAnimationFrame(e)}),t},cancelAnimationFrame:function(){return this._requestAnimationFrameStart&&window.cancelAnimationFrame(this._requestAnimationFrameStart),this},requestFrame:function(e){var t;if("function"!=typeof this.requestOneFrame)throw i.error("Pleas implement requestOneFrame()"),"Pleas implement requestOneFrame()";try{this.requestOneFrame()}catch(e){i.error(e)}if(e&&(t=Math.floor(1e3/e)),!t)return this;var n=this.requestFrame.bind(this);return this.intervalId=setInterval(function(){n(e)},t),this},stopRequestFrame:function(){return this.intervalId&&clearInterval(this.intervalId),this}});a.CompositeOperation=["source-atop","source-in","source-out","source-over","destination-atop","destination-in","destination-out","destination-over","lighter","darker","xor","copy"];var c=a.operation={source_atop:"source-atop",source_in:"source-in",source_out:"source-out",source_over:"source-over",destination_atop:"destination-atop",destination_in:"destination-in",destination_out:"destination-out",destination_over:"destination-over",lighter:"lighter",darker:"darker",xor:"xor",copy:"copy"};a.compositeVideoOverCanvas=function(e,t,n){var r;return(r=e.compositeCanvas)||(r=new a({compositeCanvasTag:e,requestOneFrame:function(){t&&r.drawImage(t,0,0,e.width,e.height),n&&r.drawImage(n,0,0,e.width,e.height)}}),e.compositeCanvas=r),r},e.exports=a},function(e,t,n){var r=n(72);r.tagLogger("Keyboard");e.exports=r.prototypeExtend({onKeyDown:function(e){},onKeyUp:function(e){}})},function(e,t,n){window.emedia=window.emedia||{};var r=n(72).tagLogger("electron");emedia.electron=window.require("electron"),emedia.chooseElectronDesktopMedia=function(e,t,n){r.info("Choose desktop. ",e[0]),t(e[0])}},function(e,t,n){var r=n(70).default,i=n(441),o=n(444),s=n(445).default,a=n(446),c=n(447),u=o.RouteTo,d=o.Api,l=r.logger,f={api:null,caller:"",connection:null,pattern:null,watchStats:!0,listener:{onAcceptCall:function(e,t){},onRinging:function(e){},onTermCall:function(){},onIceConnectionStateChange:function(e){},onGotLocalStream:function(){},onGotRemoteStream:function(){},onOtherUserOpenVoice:function(){},onOtherUserOpenVideo:function(){}},mediaStreamConstaints:{audio:!0,video:!0},init:function(){var e=this;if(void 0===e.connection)throw"Caller need a instance of Easemob.im.Connection";e.api=e.api||new d({imConnection:e.connection,rtcHandler:new i({imConnection:e.connection})}),e.api.onInitC=function(){e._onInitC.apply(e,arguments)},e.api.onInvite=function(){e.listener.onInvite.apply(e,arguments)},e.api.onIceConnectionStateChange=function(t){e.listener.onIceConnectionStateChange.apply(e,arguments)}},createConference:function(e,t){var n=new u({rtKey:""});this.api.reqTkt(n,!0,void 0,e,function(e,n){n.ticket;n.conferenceId=n.confrId,t&&t(e,n)})},inviteConference:function(e,t,n,r,i){var o=new u({to:n,rtKey:"",rtflag:0});this.api.invite(o,e,t,r,function(e,t){i&&i(e,t)})},getConferenceTkt:function(e,t,n){var r=new u({rtKey:""});this.api.reqTkt(r,!1,e,t,function(e,t){n&&n(e,t)})},makeVideoCall:function(e,t,n,i,o){var s={};r.extend(s,this.mediaStreamConstaints),this.call(e,s,t,n,i,o)},makeVoiceCall:function(e,t,n,i,o){var s={};r.extend(s,this.mediaStreamConstaints),s.video=!1,this.call(e,s,t,n,i,o)},acceptCall:function(){this.pattern.accept()},endCall:function(e){this.caller="",this.pattern.termCall(),this.timer&&clearInterval(this.timer)},call:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{push:!1},s=this;if(s.timer&&clearInterval(s.timer),o.push)var a=!0,c=!1,d=o&&"number"==typeof o.timeoutTime&&o.timeoutTime||6e4,f=Number((d/2e3).toFixed()),p=0;this.callee=this.api.jid(e);var h=new u({rtKey:"",sid:n,to:e,success:function(e){l.debug("iq to server success",e)},fail:function(e){l.debug("iq to server error",e),s.onError(e)}});!function u(){s.api.reqP2P(h,t.video?1:0,t.audio?1:0,s.api.jid(e),r,i,function(d,l){if("0"==l.online){if(console.warn("callee is not online!"),!o.push)return s.listener.onError({message:"callee is not online!"});a&&(s.listener.onError({message:"callee is not online!"}),o.push&&s.api.senPushMsg(e,o.txtMsg,o.pushMsg)),a=!1,c=!1,s.timer=!c&&p<=f&&setTimeout(function(){p++,u()},2e3),p>f&&s.listener.onError({message:"call timeout"})}else l.streamType=t.audio&&t.video?"VIDEO":"VOICE",s._onGotServerP2PConfig(d,l),s.pattern.initC(t,n,r,i),c=!0});return c}()},controlStream:function(e,t){var n=new u({to:t,rtKey:"",rtflag:0});this.api.streamControl(n,null,this.rtcId,e,this.localStream)},getServerRecordId:function(){var e=this.api.rtcHandler.confrId;return e||null},_onInitC:function(e,t,n,r,i){this.callee=e,this._rtcCfg=t.rtcCfg,this._WebRTCCfg=t.WebRTC,this.sessId=t.sessId,this.rtcId=t.rtcId,this.switchPattern("VIDEO"==t.streamType?"VIDEO":"VOICE"),t.globalMediaConstaints=this.mediaStreamConstaints,this.pattern._onInitC(e,t,n,r,i)},_onInvite:function(){},_onGotServerP2PConfig:function(e,t){0==t.result&&(this._p2pConfig=t,this._rtcCfg=t.rtcCfg,this._rtcCfg2=t.rtcCfg2,this.sessId=t.sessId,this.rtcId="RTCID"+t.sessId,this._rtKey=this._rtkey=t.rtKey||t.rtkey,this._rtFlag=this._rtflag=t.rtFlag||t.rtflag,this._WebRTCCfg=t.WebRTC,this.admtok=t.admtok,this.tkt=t.tkt,this.switchPattern(t.streamType))},switchPattern:function(e){var t=this;!t._WebRTCCfg&&(t.pattern=new a({callee:t.callee,_p2pConfig:t._p2pConfig,_rtcCfg:t._rtcCfg,_rtcCfg2:t._rtcCfg2,_rtKey:t._rtKey||t._rtkey,_rtFlag:t._rtFlag||t._rtflag,_sessId:t.sessId,_rtcId:t.rtcId,webRtc:new s({streamType:e,subArgs:{subSVideo:"VIDEO"===e,subSAudio:!0},onGotLocalStream:function(n,r){t.listener.onGotLocalStream(n,e),t.localStream=n},onGotRemoteStream:function(n,r){if(t.listener.onGotRemoteStream(n,e),t.remoteStream=n,t.watchStats){var i=t.pattern.webRtc._rtcPeerConnection;t.get_stats=new c(i,t),t.get_stats.start()}},onError:t.listener.onError}),api:t.api,onAcceptCall:t.listener&&t.listener.onAcceptCall||function(){},onRinging:t.listener&&t.listener.onRinging||function(){},onTermCall:function(e){t.get_stats&&t.get_stats.stop(),t.listener&&t.listener.onTermCall(e)},onOtherUserOpenVoice:t.listener&&t.listener.onOtherUserOpenVoice||function(){},onOtherUserOpenVideo:t.listener&&t.listener.onOtherUserOpenVideo||function(){}}))}};e.exports=function(e){r.extend(!0,this,f,e||{}),this.init()}},function(e,t,n){var r,i=n(442),o=(r=i)&&r.__esModule?r:{default:r};var s=n(70).default,a=s.logger,c=n(444).RouteTo,u={_apiCallbacks:{},imConnection:null,_connectedSid:"",init:function(){var e=this;e.imConnection.registerConfrIQHandler=function(t,n,r){try{e.handleRtcMessage(t)}catch(e){a.error(e)}}},handleRtcMessage:function(e,t,n){var r=this;if(e){var i=WebIM.conn.context.root.lookup("easemob.pb.ConferenceBody").decode(e.payload),o=(e.id,e.from.name||"");o.lastIndexOf("/")>=0&&(o=o.substring(0,o.lastIndexOf("/")));var u=i.routeKey,d=i.sessionId;(r._fromSessionID||(r._fromSessionID={}))[o]=d;var l=s.parseJSON(i.content);l.confrId&&(this.confrId=l.confrId);var f=l,p=1==i.type?"VIDEO":"VOICE";""==p&&(p="VOICE"),f.streamType=p,102==f.op&&(r.singalStreamType=p);var h=l.tsxId;if(r.ctx=l.ctx,a.debug("Recv [op = "+f.op+"] [tsxId="+h+"]\r\n json :",e),""!=r._connectedSid||0!=f.result&&102!=f.op&&202!=f.op){if(r._connectedSid!=d){if(a.debug("Error recv [op = "+f.op+"] [tsxId="+h+"]. caused by _connectedSid != fromSessionId :",r._connectedSid,d),102==f.op&&d&&r._connectedSid){var m=new c({to:o,rtKey:u,sid:d,success:function(e){a.debug("iq to server success",e)},fail:function(e){a.debug("iq to server error",e),r.onError(e)}}),v={data:{op:107,sessId:f.sessId,rtcId:f.rtcId,reason:"busy"},reason:"busy"};r.sendRtcMessage(m,v)}return}}else r._connectedSid=d;if(0==f.online&&(r._connectedSid=""),107==f.op){r._connectedSid="",r._fromSessionID={};var _=i.endReason;f.reason=void 0!=_&&{0:"hangup",1:"noresponse",2:"reject",3:"busy",4:"fail",5:"unsupported",6:"offline"}[_]}if(f.sdp&&("string"==typeof f.sdp&&(f.sdp=s.parseJSON(f.sdp)),f.sdp.type&&(f.sdp.type=f.sdp.type.toLowerCase())),f.cands){"string"==typeof f.cands&&(f.cands=s.parseJSON(f.cands));for(var g=0;g<f.cands.length;g++){if("string"==typeof f.cands[g])try{f.cands[g]=s.parseJSON(f.cands[g])}catch(e){f.cands[g]={candidate:f.cands[g]}}f.cands[g].sdpMLineIndex=void 0!==f.cands[g].sdpMLineIndex?f.cands[g].sdpMLineIndex:f.cands[g].mlineindex,f.cands[g].sdpMid=void 0!==f.cands[g].sdpMid?f.cands[g].sdpMid:f.cands[g].mid,delete f.cands[g].mlineindex,delete f.cands[g].mid}}if(f.rtcCfg&&"string"==typeof f.rtcCfg&&(f.rtcCfg=s.parseJSON(f.rtcCfg)),f.rtcCfg2&&"string"==typeof f.rtcCfg2&&(f.rtcCfg2=s.parseJSON(f.rtcCfg2)),f.WebRTC&&"string"==typeof f.WebRTC&&(f.WebRTC=s.parseJSON(f.WebRTC)),f.confrId&&(f.conferenceId=f.confrId),h&&r._apiCallbacks[h])try{r._apiCallbacks[h].callback&&r._apiCallbacks[h].callback(o,f)}catch(e){throw e}finally{delete r._apiCallbacks[h]}else r.onRecvRtcMessage(o,f,u,h,d);return!0}},onRecvRtcMessage:function(e,t,n,r,i){a.debug(" form : "+e+" \r\n json :"+s.stringifyJSON(rtcJSON))},convertRtcOptions:function(e){var t=e.data.sdp;t&&((t={type:t.type,sdp:t.sdp}).type=t.type.toUpperCase(),t=s.stringifyJSON(t),e.data.sdp=t);var n=e.data.cands;if(n){if(s.isArray(n));else{var r=[];r.push(n),n=r}for(var i in n){var o=n[i];if(void 0!==o.candidate&&void 0!==o.sdpMLineIndex&&void 0!==o.sdpMid){var a={type:"candidate",candidate:o.candidate,mlineindex:o.sdpMLineIndex,mid:o.sdpMid};n[i]=s.stringifyJSON(a)}}e.data.cands=n}var c=e.data.rtcCfg;c&&"string"!=typeof c&&(e.data.rtcCfg=s.stringifyJSON(c));var u=e.data.WebRTC;u&&"string"!=typeof u&&(e.data.WebRTC=s.stringifyJSON(u))},getShortId:function(e){var t,n;return(t=e.indexOf("_")+1)<1&&(t=0),(n=e.indexOf("@",-1))<0&&(n=e.length),e.substring(t,n)},sendRtcMessage:function(e,t,n){var r=this.imConnection,i=r.getUniqueId(),o=e.to&&e.to||r.domain;if(o.indexOf("@")>=0){var a=o.split("_");a.splice(0,1),o=a.join("_").split("@")[0],""==this._connectedSid&&102==t.data.op&&(this._connectedSid=c)}var c=e.sid||this._fromSessionID&&this._fromSessionID[o];c=c||((this._fromSessionID||(this._fromSessionID={}))[o]=r.getUniqueId("CONFR_")),(this._fromSessionID||(this._fromSessionID={}))[o]=c;var u=e.rtKey||e.rtkey;u||(u="");var d=e.rtflag;!isNaN(d)||(d=1),t.data||(t.data={}),t.data.tsxId=i,this.ctx&&(t.data.ctx=this.ctx),this.convertRtcOptions(t);var l=t.streamType||this.singalStreamType||"VIDEO";102==t.data.op&&(this.singalStreamType=l);var f=e.id||r.getUniqueId("CONFR_");n&&(this._apiCallbacks[i]={callback:n});var p={id:f,to:o,from:r.context.jid,type:"VIDEO"==l?1:0,rtflag:d,stream_type:l,sid:c,content:t.data,reason:t.reason,rtKey:u};if(0==t.data.op&&(p.rec=t.data.rec,p.recMerge=t.data.recMerge,this.rec=t.data.rec,this.recMerge=t.data.recMerge),202!=t.data.op&&this._sendMessage(p,WebIM.conn),107==t.data.op&&this._connectedSid&&(e.sid&&this._connectedSid!=e.sid||(this._connectedSid="",this._fromSessionID={})),202==t.data.op){var h=s.list("Invite",this.getShortId(o),"join conference:",t.data.confrId).join(" "),m={msg:h,id:f=r.getUniqueId("CONFR_INVITE"),to:o,from:r.context.jid,contents:[{contenttype:"TEXT",text:h}],gid:t.data.gid,password:t.data.password,exts:{key:"conferenceId",type:7,value:t.data.confrId}};return this._sendGroupInviteMsg(m,WebIM.conn)}},_sendGroupInviteMsg:function(e,t){var n=[],r=t.context.root.lookup("easemob.pb.MessageBody.Content").decode(n);r.type=0,r.text=e.msg;var i=t.context.root.lookup("easemob.pb.MessageBody"),s=i.decode(n);s.from={name:e.from.name},s.to={name:e.to},s.contents=[r];var a=t.context.root.lookup("easemob.pb.KeyValue"),c=a.decode(n),u=a.decode(n),d=a.decode(n);c.key="conferenceId",c.type=7,c.stringValue=e.exts.value,u.key="msg_extension",u.type=7,u.stringValue=(0,o.default)({inviter:e.from.name,group_id:e.gid}),d.key="password",d.type=7,d.stringValue=e.password,s.ext=[c,u,d],s.type=1,s=i.encode(s).finish();var l=t.context.root.lookup("easemob.pb.Meta").decode(n);l.id=e.id,l.from=e.from,l.to={appKey:t.appKey,name:e.to,domain:"easemob.com"},l.ns=1,l.type=1,l.payload=s;var f=t.context.root.lookup("easemob.pb.CommSyncUL"),p=f.decode(n);p.meta=l,p=f.encode(p).finish();var h=t.context.root.lookup("easemob.pb.MSync"),m=h.decode(n);m.version=t.version,m.encryptType=t.encryptType,m.command=0,m.guid=t.context.jid,m.payload=p,m=h.encode(m).finish(),t.sendMSync(m)},_sendMessage:function(e,t){var n,r=[],i=t.context.root.lookup("easemob.pb.ConferenceBody"),s=i.decode(r);e.content.video;0==e.content.op?(n={op:e.content.op,callVersion:"2.0.0",audio:e.content.audio,video:e.content.video,tsxId:String(e.content.tsxId),peer:e.content.peer+"/",push:0},e.rec&&(n.rec=1),e.recMerge&&(n.recMerge=1)):102==e.content.op?((n=e.content).tsxId=String(e.content.tsxId),this.rec&&(n.rec=1)):400==e.content.op?n=e.content:(n=e.content).tsxId=String(e.content.tsxId);var a=e.content.op;if(s.content=(0,o.default)(n),s.routeFlag=e.rtflag,s.operation=7,s.sessionId=String(e.sid),s.type=e.type,s.routeKey=e.rtKey,s.routeFlag=e.rtflag,s.peerName=e.from.name,107==a){s.endReason={success:0,ok:0,timeout:1,decline:2,busy:3,"failed-transport":4,unsupported:5,offline:6}[e.reason]}s=i.encode(s).finish();var c=t.context.root.lookup("easemob.pb.Meta").decode(r);c.id=String(e.id),c.ns=4,c.to={appKey:e.from.appKey,domain:e.from.domain,name:e.to},102==e.content.op&&(c.from=e.from),c.payload=s;var u=t.context.root.lookup("easemob.pb.CommSyncUL"),d=u.decode(r);d.meta=c,d=u.encode(d).finish();var l=t.context.root.lookup("easemob.pb.MSync"),f=l.decode(r);f.version=t.version,f.encryptType=t.encryptType,f.command=0,f.guid=t.context.jid,f.payload=d,f=l.encode(f).finish(),t.sendMSync(f)},_sendPushMsg:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WebIM.conn.user+"正在呼叫你...",r=new WebIM.message("txt",WebIM.conn.getUniqueId());r.set({msg:t,to:e,roomType:!1,chatType:"singleChat",success:function(){},fail:function(){console.warn("Send push error，Please make sure that you are not blocked")},ext:{em_apns_ext:{em_push_title:n}}}),WebIM.conn.send(r.body)}};e.exports=function(e){s.extend(!0,this,u,e||{}),this.init()}},function(e,t,n){e.exports={default:n(443),__esModule:!0}},function(e,t,n){var r=n(14),i=r.JSON||(r.JSON={stringify:__WEBPACK_IMPORTED_MODULE_9_babel_runtime_core_js_json_stringify___default.a});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){var r,i=n(3),o=(r=i)&&r.__esModule?r:{default:r};var s=n(70).default,a=s.logger,c={rtFlag:1,success:function(e){},fail:function(e){}};t.RouteTo=function e(t){if(!(this instanceof e)){var n=function(e){s.extend(!0,this,e||{})};return s.extend(!0,n.prototype,c,t||{}),n}s.extend(!0,this,c,t||{})};var u={imConnection:null,rtcHandler:null,events:{0:"onReqP2P",1:"onNewCfr",2:"onDelCfr",3:"onReqTkt",100:"onPing",101:"onPong",102:"onInitC",103:"onReqC",104:"onAcptC",105:"onTcklC",106:"onAnsC",107:"onTermC",202:"onInvite",300:"onEvEnter",301:"onEvExit",302:"onEvPub",303:"onEvUnpub",304:"onEvMems",204:"onEvClose",400:"onStreamControl",401:"onEvJoin",onServerError:"onServerError"},register:function(e){if("object"===(void 0===e?"undefined":(0,o.default)(e)))for(var t in e)this.bind(t,e[t])},bind:function(e,t){var n;(n=this.events[e])?this[n]=t:this[n=this.events[e]="on_"+e]=t},jid:function(e){return/^.+#.+_.+@.+$/g.test(e)?e:this.imConnection.context.appKey+"_"+e+"@"+this.imConnection.domain},reqP2P:function(e,t,n,r,i,o,s){a.debug("req p2p ...");var c={data:{op:0,video:t,audio:n,peer:r,rec:i,recMerge:o}};c.streamType=t&&n?"VIDEO":"VOICE",this.rtcHandler.sendRtcMessage(e,c,s)},senPushMsg:function(e,t,n){return this.rtcHandler._sendPushMsg(e,t,n)},newCfr:function(e,t,n,r){a.debug("newCfr ...");var i={data:{op:1}};t&&(i.data.reqTkt=t),n&&(i.data.password=n),this.rtcHandler.sendRtcMessage(e,i,r)},enter:function(e,t,n,r,i,o,s){a.debug("enter ...");var c={data:{op:200}};t&&(c.data.WebRTCId=t),n&&(c.data.reqMembers=n),r&&(c.data.tkt=r),i&&(c.data.nonce=i),o&&(c.data.digest=o),this.rtcHandler.sendRtcMessage(e,c,s)},ping:function(e,t,n){a.debug("ping ...");var r={data:{op:100}};t&&(r.data.sessId=t),this.rtcHandler.sendRtcMessage(e,r,n)},streamControl:function(e,t,n,r,i,o){a.debug("streamControl ...");var s={data:{op:400}},c=0==r||3==r;0==r||1==r?emedia.enableAudioTracks(i,c):emedia.enableVideoTracks(i,c),t&&(s.data.sessId=t),n&&(s.data.rtcId=n),void 0!==r&&null!=r&&(s.data.controlType=r),this.rtcHandler.sendRtcMessage(e,s,o)},reqTkt:function(e,t,n,r,i){a.debug("reqTkt ...");var o={data:{op:3}};t&&(o.data.isCreate=t),n&&(o.data.confrId=n),"string"==typeof r&&(o.data.password=r),this.rtcHandler.sendRtcMessage(e,o,i)},invite:function(e,t,n,r,i){a.debug("reqTkt ...");var o={data:{op:202}};t&&(o.data.confrId=t),"string"==typeof n&&(o.data.password=n),r&&(o.data.gid=r),this.rtcHandler.sendRtcMessage(e,o,i)},initC:function(e,t,n,r,i,o,s,c,u,d,l,f,p){a.debug("initC ...");var h=e.to.split("_");h.splice(0,1),e.to=h.join("_").split("@")[0];var m={data:{op:102}};m.streamType=t||"VIDEO",n&&(m.data.WebRTCId=n),r&&(m.data.tkt=r),i&&(m.data.sessId=i),o&&(m.data.rtcId=o),s&&(m.data.pubS=s),c&&(m.data.subS=c),u&&(m.data.sdp=u),d&&(m.data.cands=d),l&&(m.data.rtcCfg=l),f&&(m.data.WebRTC=f),m.data.expr=emedia.supportPRAnswer?1:0,this.rtcHandler.sendRtcMessage(e,m,p)},tcklC:function(e,t,n,r,i,o){a.debug("tcklC ...");var s={data:{op:105}};t&&(s.data.sessId=t),n&&(s.data.rtcId=n),r&&(s.data.sdp=r),i&&(s.data.cands=i),this.rtcHandler.sendRtcMessage(e,s,o)},ansC:function(e,t,n,r,i,o,s,c){a.debug("ansC ...");var u={data:{op:106}};t&&(u.data.sessId=t),n&&(u.data.rtcId=n),r&&(u.data.sdp=r),i&&(u.data.cands=i),!1===s&&(u.data.enableVoice=s),!1===c&&(u.data.enableVideo=c),this.rtcHandler.sendRtcMessage(e,u,o)},acptC:function(e,t,n,r,i,o,s,c,u){a.debug("acptC ...");var d={data:{op:104}};t&&(d.data.sessId=t),n&&(d.data.rtcId=n),r&&(d.data.sdp=r),i&&(d.data.cands=i),o&&(d.data.ans=o),!1===c&&(d.data.enableVoice=c),!1===u&&(d.data.enableVideo=u),this.rtcHandler.sendRtcMessage(e,d,s)},getMems:function(e,t,n,r){a.debug("getMems ...");var i={data:{op:203}};t&&(i.data.WebRTCId=t),n&&(i.data.sessId=n),this.rtcHandler.sendRtcMessage(e,i,r)},subC:function(e,t,n,r,i){a.debug("subC ...");var o={data:{op:205}};t&&(o.data.sessId=t),n&&(o.data.rtcId=n),r&&(o.data.subS=r),this.rtcHandler.sendRtcMessage(e,o,i)},usubC:function(e,t,n,r){a.debug("usubC ...");var i={data:{op:206}};t&&(i.data.sessId=t),n&&(i.data.rtcId=n),this.rtcHandler.sendRtcMessage(e,i,r)},termC:function(e,t,n,r,i){a.debug("termC ...");var o={data:{op:107,reason:r}};t&&(o.data.sessId=t),n&&(o.data.rtcId=n),r&&(o.reason=r),this.rtcHandler.sendRtcMessage(e,o,i)},exit:function(e,t,n,r){a.debug("exit ...");var i={data:{op:201}};t&&(i.data.WebRTCId=t),n&&(i.data.sessId=n),this.rtcHandler.sendRtcMessage(e,i,r)},delCfr:function(e,t,n,r){a.debug("delCfr ...");var i={data:{op:2}};t&&(i.data.WebRTCId=t),n&&(i.data.admtok=n),this.rtcHandler.sendRtcMessage(e,i,r)}};t.Api=function(e){var t=this;s.extend(!0,this,u,e||{}),this.rtcHandler.onRecvRtcMessage=function(e,n,r,i,o){var s;0!=n.result&&t.onServerError?t.onServerError.call(t,e,n,r,i,o):t.events[n.op]&&(s=t[t.events[n.op]])?s.call(t,e,n,r,i,o):a.info("can not handle(recvRtcMessage) the op: "+n.op,n)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(71);i.Webrtc.prototype.AVPubstream=i.Service.prototype.AVPubstream,i.Webrtc.prototype._openCamera=function(){i.Service.prototype._openCamera.apply(this,arguments)},i.Webrtc.prototype.__getUserMedia=function(){i.Service.prototype.__getUserMedia.apply(this,arguments)},i.Webrtc.prototype.__controlStream=function(){i.Service.prototype.__controlStream.apply(this,arguments)},i.Webrtc.prototype.__sysGetUserMedia=function(){i.Service.prototype.__sysGetUserMedia.apply(this,arguments)},i.Webrtc.prototype._onStreamInactive=function(e,t){i.util.logger.warn("media stream inactive. it =",e.id)},i.Webrtc.prototype._onStreamActive=function(e,t){i.util.logger.warn("media stream active. it =",e.id)},i.Webrtc.prototype.createMedia=function(e,t){var n=this,r=new n.AVPubstream({constaints:e,aoff:0,voff:0});i.Service.prototype.openUserMedia.bind(this)(r).then(function(e,r){WebIM.__alreadyOpenMedias.push(r),t&&t(n,r)},function(e){i.util.logger.debug("[WebRTC-API] getUserMedia() error: ",e),n.onError(e)})},i.Webrtc.prototype.createMedia=r=function(e,t){var n=this,o=new MediaStream;function s(){0==--s.count&&(WebIM.__alreadyOpenMedias.push(o),t&&t(n,o))}function a(e){e&&e.getTracks().forEach(function(e){o.addTrack(e)})}var c=!e||e.audio,u=!e||e.video;if(!c&&!u)return s.count=0,s();if(c&&u)return s.count=2,r.call(this,{video:e.video,audio:!1},function(e,t){a(t),s()}),void r.call(this,{video:!1,audio:e.audio},function(e,t){a(t),s()});s.count=1;var d=new n.AVPubstream({constaints:e});i.Service.prototype.openUserMedia.bind(this)(d).then(function(e,t){a(t),s()},function(e){s(),i.util.logger.debug("[WebRTC-API] getUserMedia() error: ",e),"function"==typeof e.message?e.message=e.message():"string"==typeof e.message&&""!==e.message?e.message=e.message:e.message="open media error. "+e.name,e.message=e.message+" when get "+(u?"carma":"microphone"),n.onError(e)})},i.Webrtc.prototype.setLocalVideoSrcObject=function(e){this._localStream=e,this.onGotLocalStream(e,this.streamType),this.setLocalStream(e),i.util.logger.debug("[WebRTC-API] you can see yourself !")};var o=i.Webrtc.prototype.setRemoteDescription;i.Webrtc.prototype.setRemoteDescription=function(e){var t,n,r,i,s;if("VOICE"===this.streamType){t=/a=sendrecv|a=sendonly/g,n="a=inactive",r=e.sdp.indexOf("m=video"),i=e.sdp.indexOf("m=audio"),s=i>r?i:e.sdp.length,e.sdp=e.sdp.replace(t,function(e,t,i){return t>=r&&t<s?n:e})}return o.call(this,e)},t.default=i.Webrtc},function(e,t,n){var r=n(70).default,i=n(444).RouteTo,o=r.logger,s=i({success:function(e){o.debug("iq to server success",e)},fail:function(e){o.debug("iq to server error",e)}}),a={_pingIntervalId:null,_p2pConfig:null,_rtcCfg:null,_rtcCfg2:null,_rtKey:null,_rtFlag:null,webRtc:null,api:null,callee:null,isCaller:!1,accepted:!1,setLocalSDP:!1,setRemoteSDP:!1,hangup:!1,init:function(){var e=this;e.api.onPing=function(){e._onPing.apply(e,arguments)},e.api.onTcklC=function(){e._onTcklC.apply(e,arguments)},e.api.onAcptC=function(){e._onAcptC.apply(e,arguments)},e.api.onAnsC=function(){e._onAnsC.apply(e,arguments)},e.api.onTermC=function(){e._onTermC.apply(e,arguments)},e.api.onEvJoin=function(){e._onEvJoin.apply(e,arguments)},e.api.onStreamControl=function(){e._onStreamControl.apply(e,arguments)},e.webRtc.onIceCandidate=function(){e._onIceCandidate.apply(e,arguments)},e.webRtc.onIceStateChange=function(){e._onIceStateChange.apply(e,arguments)}},_ping:function(){var e=this;e._pingIntervalId=window.setInterval(function(){var t=new s({to:e.callee,rtKey:e._rtKey});e.api.ping(t,e._sessId,function(e,t){o.debug("ping result",t)})},5e4)},_onPing:function(e,t,n,r,i){o.debug("_onPing from",i)},initC:function(e,t){this.sid=t,this.isCaller=!0,this.accepted=!1,this.setLocalSDP=!1,this.setRemoteSDP=!1,this.hangup=!1,this.streamType=e.audio&&e.video?"VIDEO":"VOICE",this.createLocalMedia(e)},createLocalMedia:function(e){var t=this;this.webRtc.createMedia(e,function(e,n){t.webRtc.createRtcPeerConnection(t._rtcCfg),e.setLocalVideoSrcObject(n),e.localStream=n,t.webRtc.createOffer(function(e){t._onGotWebRtcOffer(e)})})},_onGotWebRtcOffer:function(e){var t=new s({to:this.callee,rtKey:this._rtKey});this.api.initC(t,this.streamType,null,null,this._sessId,this._rtcId,null,null,e,null,this._rtcCfg2,null,function(e,t){o.debug("initc result",t)}),this.setLocalSDP=!0,this._ping()},_onAcptC:function(e,t){t.ans&&1==t.ans?(o.info("[WebRTC-API] _onAcptC : 104, ans = 1, it is a answer. will onAcceptCall"),this.onAcceptCall(e,t,!1!==t.enableVoice,!1!==t.enableVideo),this._onAnsC(e,t)):WebIM.WebRTC.supportPRAnswer?(o.info("[WebRTC-API] _onAcptC : recv pranswer. "),(t.sdp||t.cands)&&(t.sdp&&this.webRtc.setRemoteDescription(t.sdp),this.setRemoteSDP=!0,this._handRecvCandsOrSend(e,t),this.onAcceptCall(e,t,!1!==t.enableVoice,!1!==t.enableVideo))):(o.info("[WebRTC-API] _onAcptC : not supported pranswer. drop it. will onAcceptCall"),this.setRemoteSDP=!1,this._handRecvCandsOrSend(e,t),this.onAcceptCall(e,t,!1!==t.enableVoice,!1!==t.enableVideo))},_onEvJoin:function(e,t,n,r,i){o.debug("_onEvJoin from",i,e),this.onAcceptCall(e,t,!1!==t.enableVoice,!1!==t.enableVideo)},onAcceptCall:function(e,t,n,r){},__onVoiceOrVideo:function(e,t,n){!1===t.enableVoice?this.onOtherUserOpenVoice(e,!1):this.onOtherUserOpenVoice(e,!0),!1===t.enableVideo?this.onOtherUserOpenVideo(e,!1):this.onOtherUserOpenVideo(e,!0)},_onStreamControl:function(e,t,n,r,i){var o=t.controlType;0===o&&this.onOtherUserOpenVoice(e,!1),1===o&&this.onOtherUserOpenVoice(e,!0),2===o&&this.onOtherUserOpenVideo(e,!1),3===o&&this.onOtherUserOpenVideo(e,!0),this.onStreamControl(e,t,n,r,i)},onStreamControl:function(e,t,n,r,i){},onOtherUserOpenVoice:function(e,t){o.debug("from open:",t," voice .",e)},onOtherUserOpenVideo:function(e,t){o.debug("from open:",t," voideo .",e)},_onAnsC:function(e,t){o.info("[WebRTC-API] _onAnsC : recv answer. "),this.accepted=!0,t.sdp&&this.webRtc.setRemoteDescription(t.sdp),this.setRemoteSDP=!0,this._handRecvCandsOrSend(e,t),this.__onVoiceOrVideo(e,t)},_onInitC:function(e,t,n,r,i){var s=this;s.isCaller=!1,s.accepted=!1,s.setLocalSDP=!1,s.setRemoteSDP=!1,s.hangup=!1,s.callee=e,s._rtcCfg2=t.rtcCfg,s._rtKey=n,s._tsxId=r,s._fromSid=i,s._rtcId=t.rtcId,s._sessId=t.sessId,s.streamType=t.streamType,s.globalMediaConstaints=t.globalMediaConstaints,s.webRtc.createRtcPeerConnection(s._rtcCfg2),s.callerNotPranswer=0===t.expr,o.warn("caller not pranswer ",s.callerNotPranswer),t.sdp&&o.debug(t.sdp.sdp),t.sdp&&s.webRtc.setRemoteDescription(t.sdp).then(function(){s.setRemoteSDP=!0,s._handRecvCandsOrSend(e,t),WebIM.WebRTC.supportPRAnswer?s.webRtc.createPRAnswer(function(e){s._onGotWebRtcPRAnswer(e),setTimeout(function(){o.info("[WebRTC-API] onRinging : after send pranswer. ",s.callee),s.onRinging(s.callee,s.streamType)},500)}):(setTimeout(function(){o.info("[WebRTC-API] onRinging : After iniC, cause by: not supported pranswer. ",s.callee),s.onRinging(s.callee,s.streamType)},500),s._ping())})},_onGotWebRtcPRAnswer:function(e){var t=new s({to:this.callee,rtKey:this._rtKey});this.api.acptC(t,this._sessId,this._rtcId,e),this.setLocalSDP=!0,this._handRecvCandsOrSend(),this._ping()},onRinging:function(e,t){},accept:function(){var e=this;var t={audio:e.globalMediaConstaints&&e.globalMediaConstaints.audio||!0};"VIDEO"==e.streamType&&(t.video=e.globalMediaConstaints&&e.globalMediaConstaints.video||!0),e.webRtc.createMedia(t,function(t,n){t.setLocalVideoSrcObject(n),o.info("createAndSendAnswer : ...... "),e.webRtc.createAnswer(function(t){var n=new s({to:e.callee,rtKey:e._rtKey});WebIM.WebRTC.supportPRAnswer?e.webRtc.isConnected()||e.callerNotPranswer?(o.info("[WebRTC-API] ice connected or caller not pranswer, may send answer"),e.api.ansC(n,e._sessId,e._rtcId,t)):(o.info("[WebRTC-API] ice state not connected, send answer waiting."),e.webRtc._hookWhenICEReady=function(){o.info("[WebRTC-API] ice connected, send answer"),e.api.ansC(n,e._sessId,e._rtcId,t)}):e.api.acptC(n,e._sessId,e._rtcId,t,null,1),WebIM.WebRTC.supportPRAnswer||(e.setLocalSDP=!0),e._handRecvCandsOrSend(),e.accepted=!0})})},_handRecvCandsOrSend:function(e,t){var n=this;setTimeout(function(){n._onTcklC(e,t)},50),setTimeout(function(){n._onIceCandidate()},50)},_onTcklC:function(e,t){if(this.setRemoteSDP)o.info("[WebRTC-API] recv and add cands."),this._recvCands&&this._recvCands.length>0&&this.webRtc.addIceCandidate(this._recvCands),this._recvCands&&this._recvCands.length>0&&(this._recvCands=[]),t&&t.cands&&this.webRtc.addIceCandidate(t.cands);else if(t&&t.cands&&t.cands.length>0){for(var n=0;n<t.cands.length;n++)(this._recvCands||(this._recvCands=[])).push(t.cands[n]);o.debug("[_onTcklC] temporary memory[recv] ice candidate. util setRemoteSDP = true")}},_onIceStateChange:function(e){o.debug("[WebRTC-API] ice state is "+e),this.webRtc.isConnected()&&(this.webRtc._hookWhenICEReady&&this.webRtc._hookWhenICEReady(),this.webRtc._hookWhenICEReady=void 0),"closed"===e&&(this.setLocalSDP=!1,this.setRemoteSDP=!1),this.api.onIceConnectionStateChange(e)},_onIceCandidate:function(e){var t=this;if(t.setLocalSDP){var n=function(e){o.debug("send ice candidate...");var n=new s({to:t.callee,rtKey:t._rtKey});e&&t.api.tcklC(n,t._sessId,t._rtcId,null,e)};t._cands&&t._cands.length>0&&(n(t._cands),t._cands=[]),e&&n(e)}else e&&(t._cands||(t._cands=[])).push(e),o.debug("[_onIceCandidate] temporary memory[send] ice candidate. util setLocalSDP = true")},__termCall1:function(e){this._pingIntervalId&&window.clearInterval(this._pingIntervalId);var t,n=new s({to:this.callee,rtKey:this._rtKey});e||!this.isCaller&&!this.accepted&&(t="decline")||(t="success"),this.hangup||this.api.termC(n,this._sessId,this._rtcId,t),this.webRtc.close(),this.hangup=!0,this.setLocalSDP=!1,this.setRemoteSDP=!1,this.onTermCall(e)},termCall:function(e){try{this.__termCall1(e)}finally{if(WebIM.__alreadyOpenMedias&&WebIM.__alreadyOpenMedias.length>0){for(var t in WebIM.__alreadyOpenMedias){var n=WebIM.__alreadyOpenMedias[t];try{emedia.stopTracks(n)}catch(e){}}WebIM.__alreadyOpenMedias=[]}}},_onTermC:function(e,t){o.debug("[_onTermC] options.reason = "+t.reason);this.hangup=!0,this.setLocalSDP=!1,this.setRemoteSDP=!1,this.termCall(t.reason)},onTermCall:function(){}};e.exports=function(e){r.extend(!0,this,a,e||{}),this.init()}},function(e,t,n){var r=a(n(448)),i=a(n(451)),o=a(n(474)),s=a(n(475));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n,r){(0,o.default)(this,e),this.peerconnection=t,this.interval=r,this.call=n,this.temp_storage_obj={KBps:{},network_disconnect:{threshold:3e3,no_data_time:{local:0,remote:0}}},this.local_nw_dis_Tiped=!1,this.remote_nw_dis_Tiped=!1}return(0,s.default)(e,[{key:"start",value:function(){var e=this;this.timer=setInterval(function(){e._get()},e.interval||2e3)}},{key:"_get",value:function(){var e=(0,i.default)(r.default.mark(function e(){var t,n,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.peerconnection.getStats(null);case 2:t=e.sent,n=this.format_stats(t),i=this,["local","remote"].map(function(e){if(i._network_disconnect(e,n)&&!i[e+"_nw_dis_Tiped"]){var t=i.call.listener.onNetWorkDisconnect;i[e+"_nw_dis_Tiped"]=!0,t&&"function"==typeof t&&t(e)}});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this.peerconnection=null,this.interval=null,this.temp_storage_obj={KBps:{},network_disconnect:{threshold:5e3,no_data_time:{local:0,remote:0}}}}},{key:"format_stats",value:function(e){if(!e)return e;var t=this,n={};return e.forEach(function(e){var r=void 0,i=void 0,o=void 0,s=void 0;"outbound-rtp"==e.type&&(r=e.kind,i="local",o=e.bytesSent,s=Math.round(e.timestamp)),"inbound-rtp"==e.type&&(r=e.kind,i="remote",o=e.bytesReceived,s=Math.round(e.timestamp)),r&&i&&void 0!=o&&s&&(n[i+"_"+r+"KBps"]=t._get_KBps(i,r,o,s),t.temp_storage_obj.KBps[r]||(t.temp_storage_obj.KBps[r]={}),t.temp_storage_obj.KBps[r][i]={bytes:o,time:s})}),n.time=(new Date).getTime(),n}},{key:"_get_KBps",value:function(e,t,n,r){if(!e||!t||!n)return 0;var i=this.temp_storage_obj.KBps[t];if(!i||!i[e])return 0;var o=i[e],s=o.time,a=o.bytes,c=parseInt(r-s),u=n-a;return u<0&&(u=0),u/(c/1e3).toFixed(2)/1e3}},{key:"_network_disconnect",value:function(e,t){if(!e)return!1;var n=this.temp_storage_obj.network_disconnect.threshold,r=this.temp_storage_obj.network_disconnect.no_data_time,i=r[e],o=t[e+"_audioKBps"],s=t[e+"_videoKBps"],a=t.time;return o||s?(r[e]=0,!1):0==i?(r[e]=a,!1):a-i>=n&&(r[e]=0,!0)}}]),e}();e.exports=c},function(e,t,n){e.exports=n(449)},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&__WEBPACK_IMPORTED_MODULE_11_babel_runtime_core_js_object_get_own_property_names___default()(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(450),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof __WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a?__WEBPACK_IMPORTED_MODULE_20_babel_runtime_core_js_symbol___default.a:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"===(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(e)),d=t.regeneratorRuntime;if(d)u&&(e.exports=d);else{(d=t.regeneratorRuntime=u?e.exports:{}).wrap=y;var l="suspendedStart",f="suspendedYield",p="executing",h="completed",m={},v={};v[s]=function(){return this};var _=__WEBPACK_IMPORTED_MODULE_15_babel_runtime_core_js_object_get_prototype_of___default.a,g=_&&_(_(k([])));g&&g!==r&&i.call(g,s)&&(v=g);var b=C.prototype=w.prototype=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(v);S.prototype=b.constructor=C,C.constructor=S,C[c]=S.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_set_prototype_of___default.a?__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_set_prototype_of___default()(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(b),e},d.awrap=function(e){return{__await:e}},I(x.prototype),x.prototype[a]=function(){return this},d.AsyncIterator=x,d.async=function(e,t,n,r){var i=new x(y(e,t,n,r));return d.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},I(b),b[c]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},d.values=k,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return a.type="throw",a.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function y(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=__WEBPACK_IMPORTED_MODULE_18_babel_runtime_core_js_object_create___default()(i.prototype),s=new R(r||[]);return o._invoke=function(e,t,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=M(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=A(e,t,n);if("normal"===c.type){if(r=n.done?h:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,s),o}function A(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function S(){}function C(){}function I(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(n,r){function o(){return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(t,o){!function t(n,r,o,s){var a=A(e[n],e,r);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"===(void 0===u?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(u))&&i.call(u,"__await")?__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(u.__await).then(function(e){t("next",e,o,s)},function(e){t("throw",e,o,s)}):__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(u).then(function(e){c.value=e,o(c)},s)}s(a.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function M(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,M(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=A(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){t.__esModule=!0;var r,i=n(452),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,n){return function r(i,s){try{var a=t[i](s),c=a.value}catch(e){return void n(e)}if(!a.done)return o.default.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}},function(e,t,n){e.exports={default:n(453),__esModule:!0}},function(e,t,n){n(67),n(6),n(50),n(454),n(472),n(473),e.exports=n(14).Promise},function(e,t,n){var r,i,o,s,a=n(11),c=n(13),u=n(15),d=n(455),l=n(12),f=n(20),p=n(16),h=n(456),m=n(457),v=n(461),_=n(462).set,g=n(464)(),b=n(465),y=n(466),A=n(467),w=n(468),S=c.TypeError,C=c.process,I=C&&C.versions,x=I&&I.v8||"",M=c.Promise,E="process"==d(C),T=function(){},R=i=b.f,k=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(47)("species")]=function(e){e(T,T)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==x.indexOf("6.6")&&-1===A.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,c=t.resolve,u=t.reject,d=t.domain;try{a?(i||(2==e._h&&L(e),e._h=1),!0===a?n=r:(d&&d.enter(),n=a(r),d&&(d.exit(),s=!0)),n===t.promise?u(S("Promise-chain cycle")):(o=O(n))?o.call(n,c,u):c(n)):u(r)}catch(e){d&&!s&&d.exit(),u(e)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&j(e)})}},j=function(e){_.call(c,function(){var t,n,r,i=e._v,o=D(e);if(o&&(t=y(function(){E?C.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=E||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){_.call(c,function(){var t;E?C.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},U=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw S("Promise can't be resolved itself");(n=O(t))?g(function(){var i={_w:r,_d:!1};try{n.call(t,u(e,i,1),u(B,i,1))}catch(e){B.call(i,e)}}):(r._v=t,r._s=1,P(r,!1))}catch(e){B.call({_w:r,_d:!1},e)}}};k||(M=function(e){h(this,M,"Promise","_h"),p(e),r.call(this);try{e(u(U,this,1),u(B,this,1))}catch(e){B.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(469)(M.prototype,{then:function(e,t){var n=R(v(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(U,e,1),this.reject=u(B,e,1)},b.f=R=function(e){return e===M||e===s?new o(e):i(e)}),l(l.G+l.W+l.F*!k,{Promise:M}),n(46)(M,"Promise"),n(470)("Promise"),s=n(14).Promise,l(l.S+l.F*!k,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!k),"Promise",{resolve:function(e){return w(a&&this===s?M:this,e)}}),l(l.S+l.F*!(k&&n(471)(function(e){M.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=R(t),r=n.resolve,i=n.reject,o=y(function(){var n=[],o=0,s=1;m(e,!1,function(e){var a=o++,c=!1;n.push(void 0),s++,t.resolve(e).then(function(e){c||(c=!0,n[a]=e,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,i=y(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(37),i=n(47)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(15),i=n(458),o=n(459),s=n(19),a=n(39),c=n(460),u={},d={};(t=e.exports=function(e,t,n,l,f){var p,h,m,v,_=f?function(){return e}:c(e),g=r(n,l,t?2:1),b=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(o(_)){for(p=a(e.length);p>b;b++)if((v=t?g(s(h=e[b])[0],h[1]):g(e[b]))===u||v===d)return v}else for(m=_.call(e);!(h=m.next()).done;)if((v=i(m,g,h.value,t))===u||v===d)return v}).BREAK=u,t.RETURN=d},function(e,t,n){var r=n(19);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(29),i=n(47)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(455),i=n(47)("iterator"),o=n(29);e.exports=n(14).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(19),i=n(16),o=n(47)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r,i,o,s=n(15),a=n(463),c=n(45),u=n(24),d=n(13),l=d.process,f=d.setImmediate,p=d.clearImmediate,h=d.MessageChannel,m=d.Dispatch,v=0,_={},g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},b=function(e){g.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++v]=function(){a("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete _[e]},"process"==n(37)(l)?r=function(e){l.nextTick(s(g,e,1))}:m&&m.now?r=function(e){m.now(s(g,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(e){d.postMessage(e+"","*")},d.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(13),i=n(462).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(37)(s);e.exports=function(){var e,t,n,u=function(){var r,i;for(c&&(r=s.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var d=a.resolve(void 0);n=function(){d.then(u)}}else n=function(){i.call(r,u)};else{var l=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(16);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(13).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(19),i=n(20),o=n(465);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(17);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){var r=n(13),i=n(14),o=n(18),s=n(22),a=n(47)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(47)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_array_from___default()(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){var r=n(12),i=n(14),o=n(13),s=n(461),a=n(468);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var r=n(12),i=n(465),o=n(466);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){t.__esModule=!0;var r,i=n(476),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={default:n(477),__esModule:!0}},function(e,t,n){n(478);var r=n(14).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(12);r(r.S+r.F*!n(22),"Object",{defineProperty:n(18).f})}])},"object"===("undefined"==typeof exports?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(exports))&&"object"===__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(module)?module.exports=factory():"function"==typeof define&&__webpack_require__("nErl")?define([],factory):"object"===("undefined"==typeof exports?"undefined":__WEBPACK_IMPORTED_MODULE_22_babel_runtime_helpers_typeof___default()(exports))?exports.webrtc=factory():root.webrtc=factory()}).call(__webpack_exports__,__webpack_require__("f1Eh")(module))},djKE:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD/ElEQVR42u2W209cVRSHt5RqJSFKKo2BGlK1CgwMQxkKDGCBGZiBuQEzyMVyp9JiCGmBYg221T+ixsQH65NJo75Y0xbKdajGUChpvGCJxKpNqtJaqAiU8LmGMwmZB6ltH3yZh192zsrZ+/ftvdda5yjgf1UIIAQQAggBBD2MGpQaCWg0SFqsT6fahlPUqM8QdqVfp04NJKtkeX7MHx/L3Pb5uCX2+zFTxEcDOqUfTQme7xMNS2xQ9CAA2kS9Cu9LUmevZsUwb7Ox5CzlhtnIpbSIlfOJ6toPBfEsNTRASxuLzY1MFMTe60tQFY8OEJh0Xqf6Z3J2g7cZDnZB11tw6E0WnU5u2vKgtA5slVDgAud+lryVjKU9iZyMy/eoAOcS1YffZceBtwnaxfzEcejugdfbwCGm9ioockOhE6wyWhwSr2XB7WQwZcvaxSSV5EvdABi6D4C8pMnnN09QvZNZO8C1H944opm3HITiMjA7xNi1LjEWlQYUgHE3Mucw05esbg4mq+3+9Yb0DwDQl6g6J01i7m0Eey1U10NlE1grRV4oqQabRzMtqQJHjUhi9hotbnFBWTNz9nwG9GpaIKLvCyBHtVVeKJZj/2DIEM5sQQq/m3P5qyCfNbObP7NNTKXH8WVqLNdz9FBcum5815LHpFGL/5RjYLmwWIOyevij8BUum6KRPJq5kKhODhtU9b8CDOpVhy81nJ+L0ll2efjbYmMm80WmTc/zTXoMI/Fb+HSX4vRzivd2Ks4mhDNieIbTLyjej1N8vFtxThfGuDGKH7NfZjY7gd9yjayUeLjjsjNl2omU7tXNAHRD+rDJOUcBVLRBkYe7svs7eTksSvnde60W6hpZ8ZYzu28PF+Mj+ETMp/buYi7fBDYna1YnSxYrC+Z93MrLZFU2gaMBKluYyo5BkrJssyvwJ8r2/iQ1/as1A8oDdy7HT2s7nHgXjr0NPcfh6DtwqANKPVBcFbh7r8izMVpFznpWyisZz4hCrqDTZ9g8Cdch/FkrNXzlmjkZPHVQ+Co0HIBeMe/q1tR9VIBOQtvhjYqwujUVOUXlUNbEvMvBJWMkYn5EK+3NAIK73+PS5c5MZj3Lgt0OXgFo7YQOMT/cA52iY71I99MaUFGZZmqrAFeDmNdyvSgTaTy3pW27/Wv+R4BgCXn9cKr6ZTr3JW4X5rHi9rLqqYJqMakRlfpLsIJVp4cVZ7m0aRc3xPiy9I8LOvWZnGacZv6QAIEGEikg7TJ+MZa69dZXe7YtTRifZiLtKSb2RjGZvYOvMyKXfcYn5n1p4d/Kd+OU7DpvY52HBgiWVEm0f2GRW7L5gKgpoFZJXI/ELTLKF3LTdUI/JCGAEEAIIEj/AO0QQbgL3TjSAAAAAElFTkSuQmCC"},ecjX:function(e,t){},g20g:function(e,t){e.exports="data:image/png;base64,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"},g3oB:function(e,t){},gnmT:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAHc0lEQVR4Xu3Xa4xV1fnH8e/at3M/cy7DDJdhGLlVmKlVVBQFRI0lLVpr2lTRYqy3xBqj//8LX2DVtoix2pbYauKl1KqhVJu2WsVGELAjClXwMuEyzgjMIAzMnDn3s89tn72fJoXExPaIvvJF+0ue7Fcr65O1n5U8S4kIX2Y04L8bYPBJ2P3Tdj4dXYexvBALKToSOuls+fRiJr9UKbp0f6hL6abfrZXGvXpjMBwL9MXiLRurjmSKFUEAxb+n557RTwFOkmhQ0T9sX7dtl33rwoU9Z0255HuoQCtWSyua6cMpZtDdIkf37mT9y732rA7fH2ZN8a1xxNwjNM3JAUrTaDHLc/6+o/DY032JxYYZ5q2SwTP/fyO6oUMtDV4DAvMo5Cvc+6PNpMYmhPRB74bbFpd/8LUpxTttLfELlAKRL9YDSmk0SulFdoVdsy69efGv1z/M5u2/4qZbllD7uBdSvcj4u0j2fci8RfXAZq5d0cNrvat4+Ol76b7+IU3rOO/n9ezYOjwXlPoCJ6A0GuXsuaJ8r8cufUCbdeYlwF7Ij7Dk8pmQSiGVGigPJSAFoW2yj8uuPwMKeXrOiIGvE6dnNc5zq64u7N6oWYkJy0F9HoBC6pWo12hs7LzyQS155gXI2BaknkZJBZWvAQ5KPBABQCmgWocjNmAipTyiRjHjM5l+9d189JR9lX3gzd1mrH01Iif7BYJTzD+WPPfaSPKsS5Dx7UgthWZUUJEGWA3wHMD7pOTEN6QgLCjKKK+Elx1E09NMvfwO9HD7fW6lMBulPgugcKuFbt/EGcsnLlkB9iBSGUPzOxBwObj7ANRsiAXB9QB1vARIBGjkqhwbGIKgoFQdJWUk3U9gchtt5y/HrVQeQLzmAMTDrVRvjp32DaxkAq84hOZv0JAqd932Z27/8THuXzPE+Mg4hK1P3O1h3n1tP0u+vp67HijyTu8o0gKKOnhlKB4g3rMAq7XrCq9entwU4FYLPXoodkV05nyoHkV5NkRg/3uHeOTZfi46ZyGbtto8t/Yf0BYGAFMH4MFfbmP/gRwzTj2Px3/bj+SK4BOQGlRT+BIxwtPn4VbsbzcFeE59vpXonOpvnQjlMbCLMJajNd7CnKlh/u/+1Qz0bWPBxadBxTmh9kBXLFg0kxTCXT+7hwnxKlosAbk6KldESkXQHIKTZiBo5zS9BUozunyJKeg+E0mlwIlBuU4yVGftQ8tYv3WAb144jXmLp8KoDZ4Hpgm+ALffcTYtcYuyKK5fNhuOlSGrQXAqFNJQSGFGY+j+yKSmAJRCaQoaNag0oNoA14Fshe55Hdz3nVPBq8PREiAQsEDg0JpXKOw4xGVtfpK3nA/T2uHdI6AHwalDXaBURTdMlOlraQ4AA01DKQUYUDkGbgUMH4yXoVaDqAIFKA2SYYYffoX9q3bRdfp55IZdPnj5WeY/eSXhri4YyUFpGIwWQIHbADxp2gPiubmGXcAVUH4TLB8YJigBE7AUAAigKfBcsnuG6OqeT6gjRnLudE7pOJf+RzYgbg385nG8oUEohFO1cav2aFOAQj6ojQ/XG7YNsThETAjqEFTHqz0IiRAANFwwDKLdk6k2sgQDbeRzwxgBP8UPS3g1G+In1rdYEI5Ry4ziVSt7mwJ0f3inkxvZYR8ehGgHRAJIzA8JC1p9pP/WR27LIHQmoSMOhp/o7Ek4mk3AHydz8BD9773O3JUXo09vBUv+tV7F43h1B3toN7rP3NQUoKxAWjznqdye18ELoaw4mH4wTAgHsQ9n2XXrn+hbsZYjT72JvWuQzBvDpPtHePvFJ8gWDtP94IW0X7MIchXQDDAsaOmkNHyQ0qG+I7o/sqUpABHMSHxdYd+WVG7fTkjMQfAjngXpKp03XcD8Z67EDBoce+F9Prz7L+Q/OEp86URar+tkwfMrmLxi4fHma4BgofxJ8CKMbv8ruOVVyjA/eyBRus9BcjeNvProC+Fpj2LEZ+Nl9oHnofJ1ImfPYM7ir8BYATdbRhkaWiIIyQgUq3AkDxiI5gMjCskeRrduoNDfu8cXSz6OyGcDEA8zOuHF6sjetUPPr75h+vd/gpYQvMwASBmVqQFVMHX01igooOHBxzkQDZQfwUT549D6VXK7dnJ005OeGQxegWbwaYASkf8wlCoQl1pmfH20+6Krur57J2ZMh3Q/Xi2LkjrgAi5KQBSAfrw0Pyo6BQIdjL/9BodfWiNK6hcYofgbIt7nHUoFNB1fcsLy4r4tmYEnD/9w0sU3kpg7Dy3mQGUU6kVwa8cR6sR998fBiFEdHWf0lSdIv/PCQd0yrjGC8e0i3hd8F4gAGlai/VYnc+BbQ+tX9g0+u4rUjm2UUw6OOwHPfwoSmIWrT6FmB8kPfszhDb9n8HcrSe/442/MUOh0PdDSdPOTj+UICBjh5Eu4jZdKH/VeVRrYtsyIti01Iq2tVkub0kwLp5TFyY1VnFJqj1ctvmoEQuuseNs+UNB08+Y90DxKIY2a5dbsc8T1upSmnwLKL+KlQAZ00zegWcFBlAYIAJzkYfK/x+mXDvgnNhlW5eIU9poAAAAASUVORK5CYII="},gnuE:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAHkElEQVR42u1Xa1BU5xlejGhEYeQqNuOlSZrJWNNaZ2KcmCZqqpmiUWvipbVTrbXEG9e9cFlYcBGjAQ3RiFG0aIhEqY0KGrUxMa1G0bBnb9yWFUFYQC5yxwVh9+lzdneGYVIgpD/aH/3xzHfO973nvM/7vs/3nu9IAPxX8X8CA26MOwKGhnqSxBDv5aOVj3pDkI2SahXuu7SKMWqt3F0tSN3W6aLHzjYm+tF20pDvGTkB0bHK210TIXlHkI7KM+6c2mlKn4d7x5cQQbh7bDGKU1+w6eN8zJpwyV4Smet67j8lMMkBQSb5nVY+prw8cwmabqfgkeUselu/hK3jK+IL9LVfRU/jJbSbMlFzcTuKdj8HTZjktD7Oc6pRHfgDCYjsE3wkBWGSj4v3/gythceAx1qg7xugLQf2xqOwN6TDXn/QMeLhX4Cuc4AtHz1Nl1GduxmCfGyjVjF6UWFS4EgJMOUJPm5M+T/KTyxHb3s+YM+HrSEDNst7sFuSYK9OIOIIpXPkva2a85YUoD0bQAGatQegVwVApxi9ipkYAQF1gBh5TvnHKxhRKSO7AFtNKp2oYa9SAvcVRCQRQYS7Rt5znuu02wF7XRqAb9BemgltjBd0MU/+nCS+BwG1o+brSvbNQm/Ht07nlj2OCFGlcDqrDCVC/g04z3Xa0V5FEqmA/QYab6ihiXyiQszqcASo9onugty9ubXwKKO/hT7LXqfz+3I6CHM52i5igPOBc2GiPZ+Lpz4+pHZuoPx4EElIQoYmwNrTaEt55lKgV+DDR8S0O1Lrct6PCjqr4VxtOK8HkuknoYCN5YD1LNqL0qGN9mzgdh49KAFuG39ut5vNwn6q/TrrztRXxgD1coI1vjfQ0WPzVqBJCjR8d40Qy0FNxPLZNNjbL8H80Xxo5aPfGJSAIHN705g8vc9amwt0/hV4sAvoUAGWcDRp/gRU92cB1hjkfrAYf3x9GlWvAMAytXHkNTNDQttcmpA7dg0eX0HthWAUhEtShiDwRKwp/VU2lmtAdxaRAmuNDKtfmow9W2YDdnEHuAg8lOKBMRhBM/2wYpY/zhwOgvHiWmjOvo22wneAunBXFqRODT06g4f5idAqPHIHJcC+nlxzagVsXV9iV+hCrJ8/BStnT0LU2hloLdsqpro/A+XbnNH2xuJk0qvYFvQMVr0YiFVzJqModzXQKqdzZxnYJ2ibhTZjKvTxfreGIOCurvpkKWydV3Hp+CYc2LEQVzKW4XLWcljLWeP6CArORaAq1KGLvMO/hjLkRehy16CjLBTdd4IBzZ8B/RbAvN1FQEkCJ9BmcBC4PSgBCiTJnLEIfezxwEkiFUnBv4CEZitZBjqkLiKcBFpk6CzejECuSYi35v6IaWfUxUTlGaAgikQ2MVPh1AAz0JWNloKdbEhel4cS4Qax7/c05FFIGVR4NmRvzXI4WD3vKdF5PwGOvdyC6xdNxzg3NxwIewkwce0W13R7gJsUYj61UMoM1CRQhOfx4GoYNBFuRwclwHY5Q6fyqewwHmKqP4W9NAPWryPwVdpStN7cNFADFc6S2Hh999ofgBKW5A7n/rkZuLaBY7DzvlTGzOyiCC+iImsZhEhJ8OCNKNFfbETvWz7byAxcAW4wdUIsncWzljKx7hxDB7beZjlfHgOYGf3tbYycuL6ZIzWgCYH9bhTrfxTWykwY1FOgV3oGDtkJdbEe0wuTp1p7yk7TwackoAaMMSRBArVS4GGM2A+czakxitfhJOv6KBWTVCGzZIoGDKx9SaSzB/RdgeXcBrEHfDLst6BQTRIx404U7Z4J88FXYNo7A6b3n0fZBz9Bye4pqM15hVEr0W3YgLK0Z1GaMk0cuf4sbX8M03vTUZ+zgMRUJPguYD2NLvMR6OJ8Gf2EaQxycAKic73Kb4E22qu6PP1p1J1/GfV581F//jXU5y5E7bkF4NcSVVlzULbvadw9+DzqP1+Mes47cOFXsJyay57vAVPac0APddT1d4hfVkEqCR/uc0znvnMExYQW8WVoi2ftiGZqoCmaL9sJIAONny+iuCUwJPg6y4H9tI1z2rQoga5E9LEN6+M8UJWzFvdPvQ0ebDK/14lIkI/fb2JkqJM6a0yls5s5at+evwaWk3NQqPZGXd5vYP5wBkqSvR1R28wUnCWiX5wk0fr1CtwJGcXWO/aY65Q1PAGNfPyJe4dnusQV5urlBLNRmfFTXF8vQe1FKhziQeUsKrOX4duwMbBq1okZ6N+erUo8KlgHbdSEWn28d7/z4Qjw6BRsUPniceFGRxRUt/gyjpEU2xQKyafE/NG8zsrslTzlxKJFYGdTBbL+vwS6k5g5GdAgdzxbc/plaGQe50Z2LFcHeAjRXodKqOxOze9hI4FuUzAqjrwAIcrTYNzh76aLHR8gHlrEz6ogf/KQTun9N0OCH5q/WAJbVRhs7BMPPnsNFDI4P2tkBFzbUBvluU+vnNhdtGcqjAl+vRRmHtf8B7wo0Z/wde6cOO/fahUTKorefQpFyZNBe4M+3vf1wh/8Y6IWG9LE5YJ03FYeo9ZwzodzQ/456eN95goyj00U8kaDym/mEPb/Wz+n/wLOBO8Pw7UBGQAAAABJRU5ErkJggg=="},"hZ/y":function(e,t){},jSrN:function(e,t){},lo38:function(e,t){e.exports="data:image/png;base64,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"},lyEO:function(e,t){e.exports="data:image/png;base64,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"},"p+3Z":function(e,t){},pgwj:function(e,t){},"pj/q":function(e,t){e.exports="data:image/png;base64,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"},qCfk:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAABF1BMVEUAAAD/////VVX/Ozv/QED/PT3/Ozv/PDf/PTj/Ojf/PDf/PDf/PDf/Ozf/PDj/PDb/Ozj/Ozb/Ozf/Ozf/Ozb/Ojf/Ozf/Ojf/Ojf/Ozb/Ojb/Ozf/Ojb/Ojb/Ojb/Pzv/QDz/Qz//RED/R0T/Tkr/WFT/WVb/Wlf/W1f/Xlv/Yl7/bGr/bWr/dHH/dXL/dnP/enf/enj/fXr/hIH/h4T/iof/j43/kI7/kpD/lJL/lZP/mJb/pKL/pqX/qqn/rq3/r63/t7b/uLf/vLv/vr3/x8b/yMf/ycj/y8r/zMr/zMv/zcz/0dD/1NP/2tn/3d3/3t3/4uH/4+L/4+P/6Oj/6un/7+//8PD/+Pf/+/v//f3//v7///9gMC4FAAAAHnRSTlMAAQMNEBUeMztTYWJzfoCNjqWxxMvS1d/p6uzu+f4xjky/AAACA0lEQVRYw61Xd1/CQAw9lFX2KLsEFdwobhEHAjIcIC4c8P0/h0hL8a5XbRven8nL6+/ukjQhRAcOwR8WE2lJSifEsF9wEFNwBWNZoJCNBV1Goxd9ceAi7ls0EG4PZEAXmYD9n3CbJwV/IuWx/RXvjMK/iDr1491JMICkWy/eK4EhSF5u+EIIDCO0wImPgAlEtAohMIWQ5vxgEsw9uCWzAhL1Fs4kmEbyVz7YomAB0VlOesASPGr9pKwJpKaVFQCLCCj1n7EqkJH7gw8swzcRiFsXiE/6HyDw0yeDGIHgWCCGEYiN+38WI5B1EAFQEIhfz5UrVi5r7V6vXbusFHN6LD8Jc+0b5dbH6Bc+WuV1LjFMRI51uzPioLPNoYokobGVukrEcNC/bzTu++9DxdAtacgJkmYshTuZ/FTdy09t+f3qs2y9LTD0NGF62e5AZr6yn1IUBjtMZ6MFclfqiTdp4qrquMrRAtQR6rMrq9ACJzNPnT4CdYkvM9q5rsAzfYnUMx6rrIcVWmCpqbqO6WekE+lMuaoj7YsfvMm+MyaRmFQ+HVO+rvO8pFu++Bw7y2wqs8V0+NTc0kv8tZvHQ00xocsZ3VDwLQ3dVNFtHf9jQf/a0D9X/O8dPWDgRxz0kIUf8/CDJn7UxQ/b6HEfv3DMYeXBL134tQ+/eM5h9Z3D8m1u/f8GKYarOyEnL8cAAAAASUVORK5CYII="},qrYh:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEn0lEQVR4Xu2XS2xUVRiAv3Mfc2emj2mRDi1tgZaHQp22FClBJWJEiTEujIkLNQKGxMQ9bNGYuNCFYYHRECImGkPERiNVki4gBKGigjyKlEfLo9AHZTp03nPvOUcWN00FTEttw8Zv8ydn83//fx75j9Ba8zAxeMhY3EXR1qeYgCqgCagBFNALHGCSpD/65S6BB+N1YDPwLGOQB3YBW4AMEzMlARv4DniZMejz1+cA7wLPAK1AZibOwD4/uQa2+klr/e1YA1wBGoCdM3EINwMvAHF/7z8GhgB8ocPAS+O2qH46BQyt9See53EnbgROc3+6gDYA4M1pE9BarzJNszgcDlMoFDa5bmE1/85XfnxxWgQ8z23NZbPbhRDEYstpaIi9EgqFj2Qzmb2u695PpNOPKwB7ygIaKpTnflkWKft1aUPjyrRtcjExSLRuAatWP01Tc8urkdLIEU/rXRnLLMnYFhoQMABk/OTVUxbIBqw9uYryt7LzonSbHtG8xujq5UDnYTpunOdikWC4upxC0Hp7dib7fDSTwwAUaOACADBvygKb/+qpbY67rDkRZ0Pbz+w/n+diciXtxzTvdfTz2k/dbPw9wZaz/Xx78MSsz4/+iSMlWcsEiAMAasoP0dYzfV71yELCTiWJyxnc+gxB12T97TDrjQgIAZZDbriLS0lZ7yD9KsRYQVrpaim9dUrpJYYhrpimeUwYxs1JdeC6gxOQHtgOA8UR+lQSVB5sCUEJjoQAXAsZjAYgZZlofIQoKCmRWu4uipR0PFJZsSNcWrxPoa9K1/sCiE4o4MHBC/ke0DmqixeRiPfi6jgEykBJMGzy7jDDuQFsk/2MQ7pewQo6LG2KBRsbW1j2WIyWlpU0rlgRjERnbZTS65xQwDbYNpTr92R+kJKyZqqYw283OlBlDjizQBcxnL7GaMH7wYJDjEMIUaqkh5aaUDCEYRqkUklG4nGklAhhiMlcw/lB07E8JKnsFQooRgZv0Xl1L32qB1WiEJEyLINaBdhKIbQGwDTNSulK1d3VxcnTx+k6e4pTJ0/Q0939ferW7U2GYT4+4SE0BUIhh47fOhTNezkqQlWsrV1HMhvn8uBxeq0/CJi2ciwSdp6AZxgFZRgAjkYvsCxLKKnW37w+sAqBZ1l2WzAY6vbL427uGckOLxdoKPYUT3ia9lh5U7iy/EnwUpweaudGOv510GSbaXKpPgkfNNXwWeOjhNPZaqAPcIHAfxpIBKRsg4MWPHcucfLH4Vz/bFdmSbjJA0UBNmiQERfOlxrsqa+BgoeAOr+US9M2kBjQiUFsMDv0jhAMBwx2ACgBtSn4tKWKkUgJ4dE0GuoAgO7pEhh74x2T9/GRAhYnob2miN0Ni7DSOQSMFzg3Y1OxFBDNQV7Ah81LyNkBgp6HBoAGAODijAhooMQD1xC8sXYZZ6OzCSdTKCHwWe3HMzPWgblp2L60hqML5xNMpRFjyYkCtVMRsCbb+poMXC2CtroaGM1gApoxWsclT017B8IS4gGTLa3LSIRChF0XzXhY58ejM/I1m5uBnUuqOLR4AcFsDsE99ACjwDc8IP9/Th+6wN9sguJMkRunFAAAAABJRU5ErkJggg=="},"rc/f":function(e,t){},"s/5s":function(e,t){},s1qB:function(e,t){e.exports="data:image/png;base64,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"},sYU0:function(e,t){},sctH:function(e,t){},sg2z:function(e,t){e.exports="data:image/png;base64,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"},tvR6:function(e,t){},uslO:function(e,t,n){var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="uslO"},w1e7:function(e,t){e.exports="data:image/png;base64,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"},"ykB+":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADpUlEQVR42u2XW2hTWRSGt7bWqbZexkxVdGBwHtQOjuiz+DT44IsgCAWL+uIMzKWIzKuaQWSwxVuSJr2JUHuxFrVU02mT6tQoaLzUu4PWaXLOPqdN2qRJ04tpc/ldO6cgIgY8GvWhgZ+Ts/eB/1trr7NWwgB8Vk0DTAOk3VSrvkmv6iVMsebtlY+zEDfnnlKrF2e/49lMABQwbsra5KtfiwnZgcELm0D3pZ8OgCSVstMjt/+G+Ex47VAsOT2Kbd6MzAOI6M05K5VKA+KB+xpAbwvoOB4QwKfJgLeUXQxf/xNITpL7EMJXdkM6yo5k/Aio0Jh0jO3y1f0AjEpALILJF2dF9AnSygwDFIiq/1Y2zQxFPa0pc4x5EHbugLeMHVSrC1hmAchAKmO1ocu7gcQoELxH6sZg8wZ4yth2bvkqm1tmr+GW3NXcmpenVn4toD8SAJlzU/YG9eQyJALdQKQH8LmAwB0MO4rjZD7qryuEv3Ed/KcL0VezdEI2Zd8kkI10bB8jAwZGae4Yce8HJgNAfxegOAHejqTUiuSLBqD3rKb/zyD57BTGXH+g7+RycGv+Hl0AVNXbpCPsF3HtPcSsvtpVQPAB6e6UeRvgbQGkiwC30/WCBiDT/dAdIMoRcRaLBuXUBRDu+v1JsKMYQ+1FGKZzj3nILPSIzB1T5q2A5/xU1I2AyILUgsl7hzHU8hMinTvhr18DxZZfoQuAqvww4iPAuApMDGrmvP1d5qT6FEDs4VEEz22Ev+FHKBUL4krFwiJ9AJHnRoSeAgFKue8aoHSmNxfqqaW9ZiBwg4C7EbZvATfP+kcfQPC+EQO3gH4XoKY3f62G1HrivyrEn9ow0LgesmV2kz4Av9tIkb+HOUmsK22IUHOingB6DbvVSkOhLgCK3Aj1MiCTuUTm3rTmmnrqUq8h/C5EbxsFgJtb536vE6DL+KZ5c3pzkjAXEFH3PoTbtgqAm1SIK/QBqJ0HEHADvqua+q8AfZ2i0qcM694G6G1KFeFwRxG4bR5oPO8SXVQXQOjSFlPsiQ0vKZoxVwlGXb9hrOtXJGgNPgHjABQ7qU2T2qFBDlxD7LFFtONx6oIG3bOAl8/5i1L4kJfn2mVTVo18IuuEdJyd66tZlhQRRm/tF+csrqR9GL++FyP//oxQ62bQEBLpL/mwYVS5iCkV80kLxXdNVQYCm1tIIGaaele5Ld9JRg6SUzbnNNFvhXLaK6HUf0dDSJgLTf8vmAb4cgFeASb+aYd9k4dWAAAAAElFTkSuQmCC"},ylmy:function(e,t){e.exports="data:image/png;base64,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"},ymVL:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0971561921b94a87f148.js.map